(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,72906,e=>{"use strict";var t=e.i(43476),a=e.i(71645);e.i(36180);var s=e.i(98925),r=e.i(59141),n=e.i(22016);let l=e=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0}).format(e);function o(){let[e,o]=(0,a.useState)({totalOrders:0,pendingOrders:0,totalCustomers:0,paidRevenue:0,pendingRevenue:0,ordersThisMonth:0,customersThisMonth:0}),[i,c]=(0,a.useState)([]),[d,m]=(0,a.useState)([]),[x,f]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{let e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1),a=(0,s.query)((0,s.collection)(r.db,"orders"),(0,s.orderBy)("createdAt","desc")),n=(0,s.onSnapshot)(a,e=>{let a=e.docs.map(e=>({id:e.id,...e.data(),createdAt:e.data().createdAt?.toDate?.()||new Date})),r=a.length,n=a.filter(e=>"pending"===e.status).length,l=0,i=0;a.filter(e=>"cancelled"!==e.status).forEach(e=>{let t=e.pricing;if(t)if(void 0!==t.depositAmount&&t.depositAmount>0){t.depositPaid?l+=t.depositAmount:i+=t.depositAmount;let e=t.balanceAmount||0;e>0&&(t.balancePaid?l+=e:i+=e)}else t.depositPaid?l+=t.totalAmount:i+=t.totalAmount});let d=a.filter(e=>(e.createdAt instanceof s.Timestamp?e.createdAt.toDate():e.createdAt)>=t).length;o(e=>({...e,totalOrders:r,pendingOrders:n,paidRevenue:l,pendingRevenue:i,ordersThisMonth:d})),c(a.slice(0,5))}),l=(0,s.query)((0,s.collection)(r.db,"users")),i=(0,s.onSnapshot)(l,e=>{let a=e.docs.filter(e=>!0!==e.data().isAdmin),s=a.length,r=a.filter(e=>{let a=e.data();return(a.createdAt?.toDate?.()||new Date(0))>=t}).length;o(e=>({...e,totalCustomers:s,customersThisMonth:r}))}),d=new Date().toISOString().split("T")[0],x=(0,s.query)((0,s.collection)(r.db,"appointments"),(0,s.where)("date",">=",d),(0,s.where)("status","in",["pending","confirmed"]),(0,s.orderBy)("date","asc"),(0,s.limit)(5)),h=(0,s.onSnapshot)(x,e=>{m(e.docs.map(e=>({id:e.id,...e.data()}))),f(!1)},()=>{f(!1)});return()=>{n(),i(),h()}},[]),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-2xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5]",children:"Dashboard"}),(0,t.jsx)("p",{className:"text-[#888888] text-sm font-[family-name:var(--font-montserrat)]",children:"Welcome back! Here's an overview of your business."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,t.jsxs)("div",{className:"bg-[#111111] border border-[#1a1a1a] p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"text-[#c9a962]",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),(0,t.jsxs)("span",{className:"text-[#888888] text-xs font-[family-name:var(--font-montserrat)]",children:["+",e.ordersThisMonth," this month"]})]}),(0,t.jsx)("p",{className:"text-2xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5] mb-1",children:x?"...":e.totalOrders}),(0,t.jsx)("p",{className:"text-[#888888] text-sm font-[family-name:var(--font-montserrat)]",children:"Total Orders"})]}),(0,t.jsxs)("div",{className:"bg-[#111111] border border-[#1a1a1a] p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"text-[#c9a962]",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,t.jsx)("span",{className:`text-xs font-[family-name:var(--font-montserrat)] ${e.pendingOrders>0?"text-yellow-400":"text-[#888888]"}`,children:e.pendingOrders>0?"Needs attention":"All clear"})]}),(0,t.jsx)("p",{className:"text-2xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5] mb-1",children:x?"...":e.pendingOrders}),(0,t.jsx)("p",{className:"text-[#888888] text-sm font-[family-name:var(--font-montserrat)]",children:"Pending Orders"})]}),(0,t.jsxs)("div",{className:"bg-[#111111] border border-[#1a1a1a] p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"text-[#c9a962]",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,t.jsxs)("span",{className:"text-[#888888] text-xs font-[family-name:var(--font-montserrat)]",children:["+",e.customersThisMonth," this month"]})]}),(0,t.jsx)("p",{className:"text-2xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5] mb-1",children:x?"...":e.totalCustomers}),(0,t.jsx)("p",{className:"text-[#888888] text-sm font-[family-name:var(--font-montserrat)]",children:"Total Customers"})]}),(0,t.jsxs)(n.default,{href:"/admin/finance",className:"bg-[#111111] border border-[#1a1a1a] p-6 hover:border-[#c9a962]/50 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"text-[#c9a962]",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,t.jsx)("span",{className:"text-green-400 text-xs font-[family-name:var(--font-montserrat)]",children:"Paid"})]}),(0,t.jsx)("p",{className:"text-2xl font-[family-name:var(--font-cormorant)] text-green-400 mb-1",children:x?"...":l(e.paidRevenue)}),(0,t.jsx)("p",{className:"text-[#888888] text-sm font-[family-name:var(--font-montserrat)]",children:"Revenue Received"}),e.pendingRevenue>0&&(0,t.jsxs)("p",{className:"text-yellow-400 text-xs mt-2 font-[family-name:var(--font-montserrat)]",children:[l(e.pendingRevenue)," pending"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,t.jsxs)("div",{className:"bg-[#111111] border border-[#1a1a1a] p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-lg font-[family-name:var(--font-cormorant)] text-[#f5f5f5]",children:"Recent Orders"}),(0,t.jsx)(n.default,{href:"/admin/orders",className:"text-[#c9a962] text-sm font-[family-name:var(--font-montserrat)] hover:underline",children:"View All"})]}),x?(0,t.jsx)("div",{className:"flex justify-center py-8",children:(0,t.jsx)("div",{className:"w-6 h-6 border-2 border-[#c9a962] border-t-transparent rounded-full animate-spin"})}):0===i.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("svg",{className:"w-12 h-12 text-[#2a2a2a] mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),(0,t.jsx)("p",{className:"text-[#888888] text-sm font-[family-name:var(--font-montserrat)]",children:"No orders yet"})]}):(0,t.jsx)("div",{className:"space-y-3",children:i.map(e=>(0,t.jsxs)(n.default,{href:"/admin/orders",className:"flex items-center justify-between p-3 bg-[#0a0a0a] hover:bg-[#1a1a1a] transition-colors",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)]",children:["#",e.id.slice(-6).toUpperCase()]}),(0,t.jsx)("p",{className:"text-[#888888] text-xs font-[family-name:var(--font-montserrat)]",children:e.userName||e.userPhone})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"text-[#c9a962] text-sm font-[family-name:var(--font-montserrat)]",children:l(e.pricing?.totalAmount||0)}),(0,t.jsx)("span",{className:`inline-block px-2 py-0.5 text-xs ${(e=>{switch(e){case"pending":return"bg-yellow-500/20 text-yellow-400";case"confirmed":return"bg-blue-500/20 text-blue-400";case"in-progress":return"bg-purple-500/20 text-purple-400";case"ready":case"delivered":return"bg-green-500/20 text-green-400";case"cancelled":return"bg-red-500/20 text-red-400";default:return"bg-[#2a2a2a] text-[#888888]"}})(e.status)}`,children:e.status})]})]},e.id))})]}),(0,t.jsxs)("div",{className:"bg-[#111111] border border-[#1a1a1a] p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-lg font-[family-name:var(--font-cormorant)] text-[#f5f5f5]",children:"Upcoming Appointments"}),(0,t.jsx)(n.default,{href:"/admin/appointments",className:"text-[#c9a962] text-sm font-[family-name:var(--font-montserrat)] hover:underline",children:"View All"})]}),x?(0,t.jsx)("div",{className:"flex justify-center py-8",children:(0,t.jsx)("div",{className:"w-6 h-6 border-2 border-[#c9a962] border-t-transparent rounded-full animate-spin"})}):0===d.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("svg",{className:"w-12 h-12 text-[#2a2a2a] mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,t.jsx)("p",{className:"text-[#888888] text-sm font-[family-name:var(--font-montserrat)]",children:"No appointments scheduled"})]}):(0,t.jsx)("div",{className:"space-y-3",children:d.map(e=>(0,t.jsxs)(n.default,{href:"/admin/appointments",className:"flex items-center justify-between p-3 bg-[#0a0a0a] hover:bg-[#1a1a1a] transition-colors",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)] capitalize",children:e.type.replace("-"," ")}),(0,t.jsx)("p",{className:"text-[#888888] text-xs font-[family-name:var(--font-montserrat)]",children:e.userName||e.userPhone})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"text-[#c9a962] text-sm font-[family-name:var(--font-montserrat)]",children:e.date}),(0,t.jsx)("p",{className:"text-[#888888] text-xs font-[family-name:var(--font-montserrat)]",children:e.timeSlot})]})]},e.id))})]})]}),(0,t.jsxs)("div",{className:"bg-[#111111] border border-[#1a1a1a] p-6",children:[(0,t.jsx)("h2",{className:"text-lg font-[family-name:var(--font-cormorant)] text-[#f5f5f5] mb-6",children:"Quick Actions"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,t.jsxs)(n.default,{href:"/admin/orders/new",className:"flex flex-col items-center justify-center p-4 bg-[#0a0a0a] border border-[#2a2a2a] hover:border-[#c9a962] transition-colors text-center",children:[(0,t.jsx)("span",{className:"text-2xl text-[#c9a962] mb-2",children:"+"}),(0,t.jsx)("span",{className:"text-sm text-[#f5f5f5] font-[family-name:var(--font-montserrat)]",children:"New Order"})]}),(0,t.jsxs)(n.default,{href:"/admin/products",className:"flex flex-col items-center justify-center p-4 bg-[#0a0a0a] border border-[#2a2a2a] hover:border-[#c9a962] transition-colors text-center",children:[(0,t.jsx)("span",{className:"text-2xl text-[#c9a962] mb-2",children:"+"}),(0,t.jsx)("span",{className:"text-sm text-[#f5f5f5] font-[family-name:var(--font-montserrat)]",children:"Add Product"})]}),(0,t.jsxs)(n.default,{href:"/admin/customers",className:"flex flex-col items-center justify-center p-4 bg-[#0a0a0a] border border-[#2a2a2a] hover:border-[#c9a962] transition-colors text-center",children:[(0,t.jsx)("span",{className:"text-2xl text-[#c9a962] mb-2",children:"+"}),(0,t.jsx)("span",{className:"text-sm text-[#f5f5f5] font-[family-name:var(--font-montserrat)]",children:"Add Customer"})]}),(0,t.jsxs)(n.default,{href:"/admin/settings",className:"flex flex-col items-center justify-center p-4 bg-[#0a0a0a] border border-[#2a2a2a] hover:border-[#c9a962] transition-colors text-center",children:[(0,t.jsx)("span",{className:"text-2xl text-[#c9a962] mb-2",children:"âš™"}),(0,t.jsx)("span",{className:"text-sm text-[#f5f5f5] font-[family-name:var(--font-montserrat)]",children:"Settings"})]})]})]})]})}e.s(["default",()=>o])}]);