(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,71776,e=>{"use strict";var t=e.i(43476),a=e.i(71645);e.i(36180);var r=e.i(98925),s=e.i(59141),n=e.i(17747);let o={pending:"bg-yellow-500/20 text-yellow-400 border-yellow-500/50",confirmed:"bg-blue-500/20 text-blue-400 border-blue-500/50",completed:"bg-green-500/20 text-green-400 border-green-500/50",cancelled:"bg-red-500/20 text-red-400 border-red-500/50",rescheduled:"bg-purple-500/20 text-purple-400 border-purple-500/50"},l={consultation:"Consultation",fitting:"Fitting",pickup:"Pickup","fabric-dropoff":"Fabric Drop-off"},i={consultation:"Initial meeting to discuss style ideas and requirements",fitting:"Try on outfit and make any necessary adjustments",pickup:"Customer collection of completed order","fabric-dropoff":"Customer brings fabric for sew-only order"},c={workingDays:["monday","tuesday","wednesday","thursday","friday","saturday"],workingHours:{start:"10:00",end:"18:00"},slotDuration:30,blockedDates:[],blockedTimeSlots:[]};function m(){let[e,m]=(0,a.useState)([]),[d,f]=(0,a.useState)(c),[x,p]=(0,a.useState)(!0),[u,h]=(0,a.useState)(null),[b,y]=(0,a.useState)(!1),[v,j]=(0,a.useState)("all"),[g,N]=(0,a.useState)(""),[w,S]=(0,a.useState)({customerPhone:"",customerName:"",type:"consultation",date:"",timeSlot:"",notes:""}),[k,C]=(0,a.useState)(!1),[D,T]=(0,a.useState)(null),[A,P]=(0,a.useState)(!1),[I,E]=(0,a.useState)(!1),[$,B]=(0,a.useState)(""),[O,U]=(0,a.useState)(""),z=new Date().toISOString().split("T")[0];(0,a.useEffect)(()=>{let e=(0,r.query)((0,r.collection)(s.db,"appointments"),(0,r.orderBy)("date","asc")),t=(0,r.onSnapshot)(e,e=>{m(e.docs.map(e=>{let t=e.data();return{id:e.id,...t,createdAt:t.createdAt?.toDate()||new Date,updatedAt:t.updatedAt?.toDate()||new Date}})),p(!1)});return(async()=>{try{let e=await (0,r.getDoc)((0,r.doc)(s.db,"settings","main"));e.exists()&&e.data().availability&&f(e.data().availability)}catch(e){console.error("Error fetching settings:",e)}})(),()=>t()},[]);let R=async e=>{if(S({...w,customerPhone:e}),e.length>=10){P(!0);try{let t=(0,n.formatPhoneNumber)(e),a=(0,r.query)((0,r.collection)(s.db,"users"),(0,r.where)("phone","==",t)),o=await (0,r.getDocs)(a);if(o.empty)T(null);else{let a=o.docs[0].data();T({id:o.docs[0].id,name:a.name||"",phone:t}),a.name&&!w.customerName&&S(t=>({...t,customerPhone:e,customerName:a.name}))}}catch(e){console.error("Error looking up customer:",e)}finally{P(!1)}}else T(null)},L=e.filter(e=>("all"===v||e.status===v)&&(!g||e.date===g)).reduce((e,t)=>{let a=t.date;return e[a]||(e[a]=[]),e[a].push(t),e},{}),q=e=>{let t=new Date(e).toLocaleDateString("en-US",{weekday:"long"}).toLowerCase();return!(!d.workingDays.includes(t)||d.blockedDates.includes(e))},F=()=>{let e=[],[t,a]=d.workingHours.start.split(":").map(Number),[r,s]=d.workingHours.end.split(":").map(Number),n=d.slotDuration,o=60*t+a,l=60*r+s;for(;o+n<=l;){let t=Math.floor(o/60),a=o%60;e.push(`${t.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`),o+=n}return e},H=t=>e.filter(e=>e.date===t&&!["cancelled"].includes(e.status)).map(e=>e.timeSlot),K=(e,t)=>{let a=d.blockedTimeSlots||[],r=parseInt(t.replace(":",""));return a.some(t=>{if(t.date!==e)return!1;let a=parseInt(t.startTime.replace(":","")),s=parseInt(t.endTime.replace(":",""));return r>=a&&r<s})},M=(e,t)=>{let a=d.blockedTimeSlots||[],r=parseInt(t.replace(":","")),s=a.find(t=>{if(t.date!==e)return!1;let a=parseInt(t.startTime.replace(":","")),s=parseInt(t.endTime.replace(":",""));return r>=a&&r<s});return s?.reason||"Unavailable"},G=async()=>{if(w.customerPhone&&w.date&&w.timeSlot){C(!0);try{let e=(0,n.formatPhoneNumber)(w.customerPhone),t=D?.id||"",a=w.customerName||D?.name||null;await (0,r.addDoc)((0,r.collection)(s.db,"appointments"),{userId:t,userPhone:e,userName:a,type:w.type,date:w.date,timeSlot:w.timeSlot,status:"pending",notes:w.notes||null,createdBy:"admin",createdAt:r.Timestamp.now()}),S({customerPhone:"",customerName:"",type:"consultation",date:"",timeSlot:"",notes:""}),T(null),y(!1)}catch(e){console.error("Error creating appointment:",e)}finally{C(!1)}}},W=async(e,t)=>{try{await (0,r.updateDoc)((0,r.doc)(s.db,"appointments",e),{status:t,updatedAt:r.Timestamp.now()}),u?.id===e&&h({...u,status:t})}catch(e){console.error("Error updating appointment status:",e)}},_=async()=>{if(u&&$&&O)try{await (0,r.updateDoc)((0,r.doc)(s.db,"appointments",u.id),{date:$,timeSlot:O,status:"rescheduled",updatedAt:r.Timestamp.now()}),h({...u,date:$,timeSlot:O,status:"rescheduled"}),E(!1),B(""),U("")}catch(e){console.error("Error rescheduling appointment:",e)}},J=async e=>{if(confirm("Are you sure you want to delete this appointment?"))try{await (0,r.deleteDoc)((0,r.doc)(s.db,"appointments",e)),h(null)}catch(e){console.error("Error deleting appointment:",e)}},Q=e=>{let t=new Date(e),a=new Date,r=new Date(a);return(r.setDate(r.getDate()+1),e===a.toISOString().split("T")[0])?"Today":e===r.toISOString().split("T")[0]?"Tomorrow":new Intl.DateTimeFormat("en-NG",{weekday:"short",day:"numeric",month:"short"}).format(t)};return x?(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("div",{className:"text-[#888888]",children:"Loading appointments..."})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,t.jsx)("h1",{className:"text-2xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5]",children:"Appointments"}),(0,t.jsx)("button",{onClick:()=>y(!0),className:"bg-[#c9a962] text-[#0a0a0a] px-4 py-2 text-sm font-[family-name:var(--font-montserrat)] hover:bg-[#d4b87a] transition-colors",children:"+ Schedule Appointment"})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,t.jsxs)("select",{value:v,onChange:e=>j(e.target.value),className:"bg-[#111111] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none",children:[(0,t.jsx)("option",{value:"all",children:"All Statuses"}),(0,t.jsx)("option",{value:"pending",children:"Pending"}),(0,t.jsx)("option",{value:"confirmed",children:"Confirmed"}),(0,t.jsx)("option",{value:"completed",children:"Completed"}),(0,t.jsx)("option",{value:"cancelled",children:"Cancelled"}),(0,t.jsx)("option",{value:"rescheduled",children:"Rescheduled"})]}),(0,t.jsx)("input",{type:"date",value:g,onChange:e=>N(e.target.value),className:"bg-[#111111] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none"}),g&&(0,t.jsx)("button",{onClick:()=>N(""),className:"text-[#888888] text-sm font-[family-name:var(--font-montserrat)] hover:text-[#f5f5f5]",children:"Clear date"})]}),0===Object.keys(L).length?(0,t.jsx)("div",{className:"bg-[#111111] border border-[#1a1a1a] p-12 text-center",children:(0,t.jsx)("p",{className:"text-[#888888] font-[family-name:var(--font-montserrat)]",children:"No appointments found"})}):(0,t.jsx)("div",{className:"space-y-6",children:Object.entries(L).sort(([e],[t])=>e.localeCompare(t)).map(([e,a])=>(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-lg font-[family-name:var(--font-cormorant)] text-[#f5f5f5] mb-3",children:[Q(e),(0,t.jsxs)("span",{className:"text-sm text-[#888888] ml-2 font-[family-name:var(--font-montserrat)]",children:["(",a.length," appointment",1!==a.length?"s":"",")"]})]}),(0,t.jsx)("div",{className:"bg-[#111111] border border-[#1a1a1a] divide-y divide-[#1a1a1a]",children:a.sort((e,t)=>e.timeSlot.localeCompare(t.timeSlot)).map(e=>(0,t.jsxs)("div",{className:"p-4 flex items-center justify-between hover:bg-[#1a1a1a]/50 transition-colors cursor-pointer",onClick:()=>h(e),children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("p",{className:"text-lg text-[#c9a962] font-[family-name:var(--font-montserrat)]",children:e.timeSlot})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[#f5f5f5] font-[family-name:var(--font-montserrat)]",children:e.userName||"Unknown"}),(0,t.jsxs)("p",{className:"text-sm text-[#888888] font-[family-name:var(--font-montserrat)]",children:[l[e.type]," • ",e.userPhone]})]})]}),(0,t.jsx)("span",{className:`px-2 py-1 text-xs border ${o[e.status]} font-[family-name:var(--font-montserrat)]`,children:e.status})]},e.id))})]},e))}),b&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"bg-[#111111] border border-[#1a1a1a] w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"sticky top-0 bg-[#111111] border-b border-[#1a1a1a] px-6 py-4 flex items-center justify-between z-10",children:[(0,t.jsx)("h2",{className:"text-xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5]",children:"Schedule Appointment"}),(0,t.jsx)("button",{onClick:()=>{y(!1),T(null),S({customerPhone:"",customerName:"",type:"consultation",date:"",timeSlot:"",notes:""})},className:"text-[#888888] hover:text-[#f5f5f5]",children:"✕"})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Customer Phone *"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"tel",value:w.customerPhone,onChange:e=>R(e.target.value),className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none",placeholder:"08012345678"}),A&&(0,t.jsx)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-[#c9a962] border-t-transparent rounded-full animate-spin"})})]}),D&&(0,t.jsxs)("p",{className:"text-xs text-green-400 mt-1 font-[family-name:var(--font-montserrat)]",children:["✓ Existing customer: ",D.name||D.phone]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:["Customer Name ",!D&&"*"]}),(0,t.jsx)("input",{type:"text",value:w.customerName,onChange:e=>S({...w,customerName:e.target.value}),className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none",placeholder:D?D.name||"Enter name":"Enter customer name"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-[#888888] mb-3 font-[family-name:var(--font-montserrat)]",children:"Appointment Type"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2",children:Object.keys(l).map(e=>(0,t.jsxs)("button",{type:"button",onClick:()=>S({...w,type:e}),className:`text-left p-3 border transition-colors ${w.type===e?"border-[#c9a962] bg-[#c9a962]/10":"border-[#2a2a2a] hover:border-[#3a3a3a]"}`,children:[(0,t.jsx)("p",{className:`text-sm font-[family-name:var(--font-montserrat)] ${w.type===e?"text-[#c9a962]":"text-[#f5f5f5]"}`,children:l[e]}),(0,t.jsx)("p",{className:"text-[10px] text-[#888888] font-[family-name:var(--font-montserrat)] mt-1 line-clamp-2",children:i[e]})]},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Date *"}),(0,t.jsx)("input",{type:"date",value:w.date,onChange:e=>{S({...w,date:e.target.value,timeSlot:""})},min:z,className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none"}),w.date&&!q(w.date)&&(0,t.jsx)("p",{className:"text-red-400 text-xs mt-2 font-[family-name:var(--font-montserrat)]",children:"This date is not available. The studio is closed on this day."})]}),w.date&&q(w.date)&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Time *"}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-2",children:F().map(e=>{let a=H(w.date).includes(e),r=K(w.date,e),s=a||r;return(0,t.jsxs)("button",{type:"button",onClick:()=>!s&&S({...w,timeSlot:e}),disabled:s,title:r?M(w.date,e):a?"Booked":"",className:`py-2 text-sm border font-[family-name:var(--font-montserrat)] transition-colors ${w.timeSlot===e?"border-[#c9a962] text-[#c9a962] bg-[#c9a962]/10":r?"border-orange-500/30 text-orange-400/50 bg-orange-500/10 cursor-not-allowed":a?"border-[#1a1a1a] text-[#444444] bg-[#1a1a1a]/50 cursor-not-allowed":"border-[#2a2a2a] text-[#888888] hover:border-[#3a3a3a]"}`,children:[e,r&&(0,t.jsx)("span",{className:"block text-[9px]",children:"Blocked"}),a&&!r&&(0,t.jsx)("span",{className:"block text-[9px]",children:"Booked"})]},e)})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Notes (optional)"}),(0,t.jsx)("textarea",{value:w.notes,onChange:e=>S({...w,notes:e.target.value}),rows:2,className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none resize-none",placeholder:"Any special notes for this appointment..."})]}),w.date&&w.timeSlot&&w.customerPhone&&(0,t.jsxs)("div",{className:"bg-[#0a0a0a] p-4 border border-[#1a1a1a]",children:[(0,t.jsx)("p",{className:"text-xs text-[#666666] mb-2 font-[family-name:var(--font-montserrat)]",children:"Appointment Summary"}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-[#f5f5f5] font-[family-name:var(--font-montserrat)]",children:l[w.type]}),(0,t.jsxs)("p",{className:"text-sm text-[#888888] font-[family-name:var(--font-montserrat)]",children:[Q(w.date)," at ",w.timeSlot]}),(0,t.jsxs)("p",{className:"text-sm text-[#888888] font-[family-name:var(--font-montserrat)]",children:[w.customerName||D?.name||"Unknown"," • ",w.customerPhone]})]})]}),(0,t.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,t.jsx)("button",{onClick:()=>{y(!1),T(null),S({customerPhone:"",customerName:"",type:"consultation",date:"",timeSlot:"",notes:""})},className:"flex-1 border border-[#2a2a2a] text-[#888888] py-2 font-[family-name:var(--font-montserrat)] hover:border-[#3a3a3a] hover:text-[#f5f5f5] transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:G,disabled:k||!w.customerPhone||!w.date||!w.timeSlot||!q(w.date),className:"flex-1 bg-[#c9a962] text-[#0a0a0a] py-2 font-[family-name:var(--font-montserrat)] hover:bg-[#d4b87a] transition-colors disabled:opacity-50",children:k?"Scheduling...":"Schedule Appointment"})]})]})]})}),u&&!I&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"bg-[#111111] border border-[#1a1a1a] w-full max-w-md",children:[(0,t.jsxs)("div",{className:"border-b border-[#1a1a1a] px-6 py-4 flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5]",children:"Appointment Details"}),(0,t.jsx)("button",{onClick:()=>h(null),className:"text-[#888888] hover:text-[#f5f5f5]",children:"✕"})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Status"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:["pending","confirmed","completed","cancelled"].map(e=>(0,t.jsx)("button",{onClick:()=>W(u.id,e),className:`px-3 py-1 text-xs border font-[family-name:var(--font-montserrat)] transition-colors ${u.status===e?o[e]:"border-[#2a2a2a] text-[#888888] hover:border-[#3a3a3a]"}`,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]}),(0,t.jsxs)("div",{className:"bg-[#0a0a0a] p-4 border border-[#1a1a1a] space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-[#666666] font-[family-name:var(--font-montserrat)]",children:"Customer"}),(0,t.jsx)("p",{className:"text-[#f5f5f5] font-[family-name:var(--font-montserrat)]",children:u.userName||"Unknown"}),(0,t.jsx)("a",{href:`tel:${u.userPhone}`,className:"text-sm text-[#c9a962] font-[family-name:var(--font-montserrat)] hover:underline",children:u.userPhone})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-[#666666] font-[family-name:var(--font-montserrat)]",children:"Type"}),(0,t.jsx)("p",{className:"text-[#f5f5f5] font-[family-name:var(--font-montserrat)]",children:l[u.type]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-[#666666] font-[family-name:var(--font-montserrat)]",children:"Date & Time"}),(0,t.jsxs)("p",{className:"text-[#f5f5f5] font-[family-name:var(--font-montserrat)]",children:[Q(u.date)," at"," ",u.timeSlot]})]}),u.notes&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-[#666666] font-[family-name:var(--font-montserrat)]",children:"Notes"}),(0,t.jsx)("p",{className:"text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)]",children:u.notes})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("a",{href:`https://wa.me/${u.userPhone.replace(/[^0-9]/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex items-center justify-center gap-2 border border-[#2a2a2a] text-[#888888] py-2 text-sm font-[family-name:var(--font-montserrat)] hover:border-[#c9a962] hover:text-[#c9a962] transition-colors",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),"WhatsApp"]}),(0,t.jsx)("button",{onClick:()=>{u&&(B(u.date),U(u.timeSlot),E(!0))},className:"flex-1 border border-[#2a2a2a] text-[#888888] py-2 text-sm font-[family-name:var(--font-montserrat)] hover:border-[#c9a962] hover:text-[#c9a962] transition-colors",children:"Reschedule"})]}),(0,t.jsx)("button",{onClick:()=>J(u.id),className:"w-full text-red-400 text-sm font-[family-name:var(--font-montserrat)] hover:text-red-300",children:"Delete Appointment"})]})]})}),I&&u&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"bg-[#111111] border border-[#1a1a1a] w-full max-w-md max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"sticky top-0 bg-[#111111] border-b border-[#1a1a1a] px-6 py-4 flex items-center justify-between z-10",children:[(0,t.jsx)("h2",{className:"text-xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5]",children:"Reschedule Appointment"}),(0,t.jsx)("button",{onClick:()=>{E(!1),B(""),U("")},className:"text-[#888888] hover:text-[#f5f5f5]",children:"✕"})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"bg-[#0a0a0a] p-4 border border-[#1a1a1a]",children:[(0,t.jsx)("p",{className:"text-xs text-[#666666] mb-1 font-[family-name:var(--font-montserrat)]",children:"Current Schedule"}),(0,t.jsxs)("p",{className:"text-[#f5f5f5] font-[family-name:var(--font-montserrat)]",children:[Q(u.date)," at ",u.timeSlot]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"New Date"}),(0,t.jsx)("input",{type:"date",value:$,onChange:e=>{B(e.target.value),U("")},min:z,className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none"}),$&&!q($)&&(0,t.jsx)("p",{className:"text-red-400 text-xs mt-2 font-[family-name:var(--font-montserrat)]",children:"This date is not available."})]}),$&&q($)&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"New Time"}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-2",children:F().map(e=>{let a=H($).includes(e)&&($!==u.date||e!==u.timeSlot),r=K($,e),s=a||r;return(0,t.jsx)("button",{type:"button",onClick:()=>!s&&U(e),disabled:s,title:r?M($,e):"",className:`py-2 text-sm border font-[family-name:var(--font-montserrat)] transition-colors ${O===e?"border-[#c9a962] text-[#c9a962] bg-[#c9a962]/10":r?"border-orange-500/30 text-orange-400/50 bg-orange-500/10 cursor-not-allowed":a?"border-[#1a1a1a] text-[#444444] bg-[#1a1a1a]/50 cursor-not-allowed":"border-[#2a2a2a] text-[#888888] hover:border-[#3a3a3a]"}`,children:e},e)})})]}),(0,t.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,t.jsx)("button",{onClick:()=>{E(!1),B(""),U("")},className:"flex-1 border border-[#2a2a2a] text-[#888888] py-2 font-[family-name:var(--font-montserrat)] hover:border-[#3a3a3a] hover:text-[#f5f5f5] transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:_,disabled:!$||!O||!q($),className:"flex-1 bg-[#c9a962] text-[#0a0a0a] py-2 font-[family-name:var(--font-montserrat)] hover:bg-[#d4b87a] transition-colors disabled:opacity-50",children:"Confirm Reschedule"})]})]})]})})]})}e.s(["default",()=>m])}]);