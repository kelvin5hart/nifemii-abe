(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,64820,e=>{"use strict";var a=e.i(43476),t=e.i(71645);e.i(36180);var s=e.i(98925),r=e.i(59141),n=e.i(57951);let l=["Abia","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Edo","Ekiti","Enugu","FCT","Gombe","Imo","Jigawa","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nasarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara"];function o(){let{user:e,signOut:o}=(0,n.useAuth)(),[i,d]=(0,t.useState)(""),[m,c]=(0,t.useState)(""),[f,x]=(0,t.useState)([]),[b,u]=(0,t.useState)(!1),[h,v]=(0,t.useState)(!1),[p,y]=(0,t.useState)(!1),[j,N]=(0,t.useState)(!1),[g,k]=(0,t.useState)(null),[w,C]=(0,t.useState)({id:"",label:"",street:"",city:"",state:"",landmark:"",isDefault:!1});(0,t.useEffect)(()=>{e&&(d(e.name||""),c(e.email||""),x(e.addresses||[]))},[e]);let S=async()=>{if(e?.id){v(!0),y(!1);try{await (0,s.updateDoc)((0,s.doc)(r.db,"users",e.id),{name:i,email:m||null,updatedAt:s.Timestamp.now()}),u(!1),y(!0),setTimeout(()=>y(!1),3e3)}catch(e){console.error("Error saving profile:",e)}finally{v(!1)}}},A=async()=>{if(!e?.id)return;let a=[...f];if(null!==g)a[g]={...w,id:f[g].id};else{let e={...w,id:Date.now().toString()};e.isDefault&&(a=a.map(e=>({...e,isDefault:!1}))),a.push(e)}w.isDefault&&(a=a.map((e,a)=>({...e,isDefault:null!==g?a===g:e.id===w.id})));try{await (0,s.updateDoc)((0,s.doc)(r.db,"users",e.id),{addresses:a,updatedAt:s.Timestamp.now()}),x(a),E()}catch(e){console.error("Error saving address:",e)}},D=async a=>{if(!e?.id||!confirm("Delete this address?"))return;let t=f.filter((e,t)=>t!==a);try{await (0,s.updateDoc)((0,s.doc)(r.db,"users",e.id),{addresses:t,updatedAt:s.Timestamp.now()}),x(t)}catch(e){console.error("Error deleting address:",e)}},E=()=>{N(!1),k(null),C({id:"",label:"",street:"",city:"",state:"",landmark:"",isDefault:!1})},T=async()=>{confirm("Are you sure you want to sign out?")&&(await o(),window.location.href="/")};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-2xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5]",children:"My Profile"}),(0,a.jsx)("p",{className:"text-[#888888] text-sm font-[family-name:var(--font-montserrat)]",children:"Manage your personal information and addresses"})]}),(0,a.jsxs)("div",{className:"bg-[#111111] border border-[#1a1a1a] mb-6",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-[#1a1a1a] flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-lg font-[family-name:var(--font-cormorant)] text-[#f5f5f5]",children:"Personal Information"}),!b&&(0,a.jsx)("button",{onClick:()=>u(!0),className:"text-[#c9a962] text-sm font-[family-name:var(--font-montserrat)]",children:"Edit"})]}),(0,a.jsxs)("div",{className:"p-6 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Phone Number"}),(0,a.jsxs)("div",{className:"bg-[#0a0a0a] border border-[#1a1a1a] px-4 py-3",children:[(0,a.jsx)("span",{className:"text-[#f5f5f5] font-[family-name:var(--font-montserrat)]",children:e?.phone}),(0,a.jsx)("span",{className:"text-[#888888] text-xs ml-2 font-[family-name:var(--font-montserrat)]",children:"(cannot be changed)"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Full Name"}),b?(0,a.jsx)("input",{type:"text",value:i,onChange:e=>d(e.target.value),className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none",placeholder:"Enter your full name"}):(0,a.jsx)("div",{className:"bg-[#0a0a0a] border border-[#1a1a1a] px-4 py-3",children:(0,a.jsx)("span",{className:"text-[#f5f5f5] font-[family-name:var(--font-montserrat)]",children:i||"Not set"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Email (optional)"}),b?(0,a.jsx)("input",{type:"email",value:m,onChange:e=>c(e.target.value),className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none",placeholder:"Enter your email address"}):(0,a.jsx)("div",{className:"bg-[#0a0a0a] border border-[#1a1a1a] px-4 py-3",children:(0,a.jsx)("span",{className:"text-[#f5f5f5] font-[family-name:var(--font-montserrat)]",children:m||"Not set"})})]}),b&&(0,a.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,a.jsx)("button",{onClick:()=>{u(!1),d(e?.name||""),c(e?.email||"")},className:"flex-1 border border-[#2a2a2a] text-[#888888] py-2 font-[family-name:var(--font-montserrat)] hover:border-[#3a3a3a] hover:text-[#f5f5f5] transition-colors",children:"Cancel"}),(0,a.jsx)("button",{onClick:S,disabled:h,className:"flex-1 bg-[#c9a962] text-[#0a0a0a] py-2 font-[family-name:var(--font-montserrat)] hover:bg-[#d4b87a] transition-colors disabled:opacity-50",children:h?"Saving...":p?"Saved!":"Save Changes"})]})]})]}),(0,a.jsxs)("div",{className:"bg-[#111111] border border-[#1a1a1a] mb-6",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-[#1a1a1a] flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-lg font-[family-name:var(--font-cormorant)] text-[#f5f5f5]",children:"Saved Addresses"}),(0,a.jsx)("button",{onClick:()=>N(!0),className:"text-[#c9a962] text-sm font-[family-name:var(--font-montserrat)]",children:"+ Add Address"})]}),(0,a.jsx)("div",{className:"p-6",children:0===f.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsxs)("svg",{className:"w-12 h-12 text-[#2a2a2a] mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,a.jsx)("p",{className:"text-[#888888] font-[family-name:var(--font-montserrat)] mb-4",children:"No saved addresses"}),(0,a.jsx)("button",{onClick:()=>N(!0),className:"text-[#c9a962] text-sm font-[family-name:var(--font-montserrat)]",children:"Add your first address"})]}):(0,a.jsx)("div",{className:"space-y-4",children:f.map((e,t)=>(0,a.jsx)("div",{className:`bg-[#0a0a0a] border p-4 ${e.isDefault?"border-[#c9a962]/50":"border-[#1a1a1a]"}`,children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("span",{className:"text-[#f5f5f5] font-[family-name:var(--font-montserrat)]",children:e.label||"Address"}),e.isDefault&&(0,a.jsx)("span",{className:"text-xs bg-[#c9a962]/20 text-[#c9a962] px-2 py-0.5 font-[family-name:var(--font-montserrat)]",children:"Default"})]}),(0,a.jsx)("p",{className:"text-sm text-[#888888] font-[family-name:var(--font-montserrat)]",children:e.street}),(0,a.jsxs)("p",{className:"text-sm text-[#888888] font-[family-name:var(--font-montserrat)]",children:[e.city,", ",e.state]}),e.landmark&&(0,a.jsxs)("p",{className:"text-xs text-[#666666] mt-1 font-[family-name:var(--font-montserrat)]",children:["Near: ",e.landmark]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>{k(t),C(f[t]),N(!0)},className:"text-[#c9a962] text-sm font-[family-name:var(--font-montserrat)]",children:"Edit"}),(0,a.jsx)("button",{onClick:()=>D(t),className:"text-red-400 text-sm font-[family-name:var(--font-montserrat)]",children:"Delete"})]})]})},e.id))})})]}),(0,a.jsx)("div",{className:"bg-[#111111] border border-[#1a1a1a] p-6",children:(0,a.jsx)("button",{onClick:T,className:"w-full border border-red-500/50 text-red-400 py-3 font-[family-name:var(--font-montserrat)] hover:bg-red-500/10 transition-colors",children:"Sign Out"})}),j&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-[#111111] border border-[#1a1a1a] w-full max-w-md",children:[(0,a.jsxs)("div",{className:"border-b border-[#1a1a1a] px-6 py-4 flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5]",children:null!==g?"Edit Address":"Add Address"}),(0,a.jsx)("button",{onClick:E,className:"text-[#888888] hover:text-[#f5f5f5]",children:"âœ•"})]}),(0,a.jsxs)("div",{className:"p-6 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Label (e.g., Home, Office)"}),(0,a.jsx)("input",{type:"text",value:w.label,onChange:e=>C({...w,label:e.target.value}),className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Street Address"}),(0,a.jsx)("input",{type:"text",value:w.street,onChange:e=>C({...w,street:e.target.value}),className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"City"}),(0,a.jsx)("input",{type:"text",value:w.city,onChange:e=>C({...w,city:e.target.value}),className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"State"}),(0,a.jsxs)("select",{value:w.state,onChange:e=>C({...w,state:e.target.value}),className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none",children:[(0,a.jsx)("option",{value:"",children:"Select state"}),l.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Landmark (optional)"}),(0,a.jsx)("input",{type:"text",value:w.landmark||"",onChange:e=>C({...w,landmark:e.target.value}),className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none",placeholder:"e.g., Near XYZ Mall"})]}),(0,a.jsxs)("label",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:w.isDefault||!1,onChange:e=>C({...w,isDefault:e.target.checked}),className:"w-4 h-4 accent-[#c9a962]"}),(0,a.jsx)("span",{className:"text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)]",children:"Set as default address"})]}),(0,a.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,a.jsx)("button",{onClick:E,className:"flex-1 border border-[#2a2a2a] text-[#888888] py-2 font-[family-name:var(--font-montserrat)] hover:border-[#3a3a3a] hover:text-[#f5f5f5] transition-colors",children:"Cancel"}),(0,a.jsx)("button",{onClick:A,disabled:!w.street||!w.city||!w.state,className:"flex-1 bg-[#c9a962] text-[#0a0a0a] py-2 font-[family-name:var(--font-montserrat)] hover:bg-[#d4b87a] transition-colors disabled:opacity-50",children:"Save Address"})]})]})]})})]})})}e.s(["default",()=>o])}]);