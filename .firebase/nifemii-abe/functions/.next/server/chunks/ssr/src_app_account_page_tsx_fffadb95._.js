module.exports=[93818,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.i(69387);var d=a.i(60574),e=a.i(20237),f=a.i(11642),g=a.i(38246);let h=a=>{switch(a){case"pending":return"bg-yellow-500/20 text-yellow-400";case"confirmed":return"bg-blue-500/20 text-blue-400";case"in-progress":return"bg-purple-500/20 text-purple-400";case"ready":case"delivered":return"bg-green-500/20 text-green-400";case"cancelled":return"bg-red-500/20 text-red-400";default:return"bg-[#2a2a2a] text-[#888888]"}};function i(){let{user:a,setPassword:i}=(0,f.useAuth)(),[j,k]=(0,c.useState)(!1),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)(""),[v,w]=(0,c.useState)(!1),[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)(0),[B,C]=(0,c.useState)(0),[D,E]=(0,c.useState)([]),[F,G]=(0,c.useState)([]),[H,I]=(0,c.useState)(!0);(0,c.useEffect)(()=>{if(!a?.phone)return void I(!1);let b=(0,d.query)((0,d.collection)(e.db,"orders"),(0,d.where)("userPhone","==",a.phone),(0,d.orderBy)("createdAt","desc"),(0,d.limit)(5)),c=(0,d.onSnapshot)(b,a=>{let b=a.docs.map(a=>({id:a.id,...a.data(),createdAt:a.data().createdAt?.toDate?.()||new Date}));A(b.filter(a=>!["delivered","cancelled"].includes(a.status)).length),E(b),I(!1)},()=>{I(!1)}),f=new Date().toISOString().split("T")[0],g=(0,d.query)((0,d.collection)(e.db,"appointments"),(0,d.where)("userPhone","==",a.phone),(0,d.where)("date",">=",f),(0,d.where)("status","in",["pending","confirmed"])),h=(0,d.onSnapshot)(g,a=>{let b=a.docs.map(a=>({id:a.id,...a.data()}));C(b.length),G(b.slice(0,3))},()=>{});return()=>{c(),h()}},[a?.phone]);let J=async a=>{if(a.preventDefault(),s(""),u(""),l!==n)return void s("Passwords do not match");if(l.length<6)return void s("Password must be at least 6 characters");q(!0);try{let a=await i(l);a.success?(u(a.message),m(""),o(""),k(!1)):s(a.message)}catch{s("Failed to set password. Please try again.")}finally{q(!1)}};return(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsxs)("h1",{className:"text-2xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5]",children:["Welcome",a?.name?`, ${a.name}`:"","!"]}),(0,b.jsx)("p",{className:"text-[#888888] text-sm font-[family-name:var(--font-montserrat)]",children:"Manage your orders, appointments, and profile"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8",children:[(0,b.jsxs)(g.default,{href:"/account/orders",className:"bg-[#111111] border border-[#1a1a1a] p-6 hover:border-[#c9a962]/50 transition-colors",children:[(0,b.jsx)("p",{className:"text-2xl font-[family-name:var(--font-cormorant)] text-[#c9a962] mb-1",children:H?"...":z}),(0,b.jsx)("p",{className:"text-[#888888] text-sm font-[family-name:var(--font-montserrat)]",children:"Active Orders"})]}),(0,b.jsxs)(g.default,{href:"/account/appointments",className:"bg-[#111111] border border-[#1a1a1a] p-6 hover:border-[#c9a962]/50 transition-colors",children:[(0,b.jsx)("p",{className:"text-2xl font-[family-name:var(--font-cormorant)] text-[#c9a962] mb-1",children:H?"...":B}),(0,b.jsx)("p",{className:"text-[#888888] text-sm font-[family-name:var(--font-montserrat)]",children:"Upcoming Appointments"})]}),(0,b.jsxs)(g.default,{href:"/account/profile",className:"bg-[#111111] border border-[#1a1a1a] p-6 hover:border-[#c9a962]/50 transition-colors",children:[(0,b.jsx)("p",{className:"text-2xl font-[family-name:var(--font-cormorant)] text-[#c9a962] mb-1",children:a?.name?"Complete":"Incomplete"}),(0,b.jsx)("p",{className:"text-[#888888] text-sm font-[family-name:var(--font-montserrat)]",children:"Profile"})]})]}),!a?.hasPassword&&(0,b.jsxs)("div",{className:"bg-[#c9a962]/10 border border-[#c9a962]/30 p-6 mb-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-[#c9a962] font-[family-name:var(--font-cormorant)] text-lg mb-1",children:"Set Up Password Login"}),(0,b.jsx)("p",{className:"text-[#888888] text-sm font-[family-name:var(--font-montserrat)]",children:"Create a password to sign in faster without OTP each time"})]}),!j&&(0,b.jsx)("button",{onClick:()=>k(!0),className:"text-[#c9a962] text-sm font-[family-name:var(--font-montserrat)] hover:underline whitespace-nowrap ml-4",children:"Set Password"})]}),j&&(0,b.jsxs)("form",{onSubmit:J,className:"mt-4 space-y-4",children:[r&&(0,b.jsx)("div",{className:"bg-red-500/10 border border-red-500/50 text-red-400 px-4 py-2 text-sm font-[family-name:var(--font-montserrat)]",children:r}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"New Password"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:v?"text":"password",value:l,onChange:a=>m(a.target.value),required:!0,minLength:6,className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 pr-10 text-[#f5f5f5] focus:border-[#c9a962] focus:outline-none transition-colors font-[family-name:var(--font-montserrat)] text-sm",placeholder:"Min 6 characters"}),(0,b.jsx)("button",{type:"button",onClick:()=>w(!v),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#888888] hover:text-[#c9a962] transition-colors","aria-label":v?"Hide password":"Show password",children:v?(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"})}):(0,b.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Confirm Password"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:x?"text":"password",value:n,onChange:a=>o(a.target.value),required:!0,minLength:6,className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 pr-10 text-[#f5f5f5] focus:border-[#c9a962] focus:outline-none transition-colors font-[family-name:var(--font-montserrat)] text-sm",placeholder:"Repeat password"}),(0,b.jsx)("button",{type:"button",onClick:()=>y(!x),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#888888] hover:text-[#c9a962] transition-colors","aria-label":x?"Hide password":"Show password",children:x?(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"})}):(0,b.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{type:"submit",disabled:p,className:"bg-[#c9a962] text-[#0a0a0a] px-6 py-2 font-[family-name:var(--font-montserrat)] text-sm uppercase tracking-wider hover:bg-[#d4b87a] transition-colors disabled:opacity-50",children:p?"Setting...":"Set Password"}),(0,b.jsx)("button",{type:"button",onClick:()=>{k(!1),m(""),o(""),s("")},className:"text-[#888888] px-4 py-2 font-[family-name:var(--font-montserrat)] text-sm hover:text-[#f5f5f5] transition-colors",children:"Cancel"})]})]})]}),a?.hasPassword&&t&&(0,b.jsx)("div",{className:"bg-green-500/10 border border-green-500/50 text-green-400 px-4 py-3 mb-6 text-sm font-[family-name:var(--font-montserrat)]",children:t}),(0,b.jsxs)("div",{className:"bg-[#111111] border border-[#1a1a1a] p-6 mb-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-lg font-[family-name:var(--font-cormorant)] text-[#f5f5f5]",children:"Recent Orders"}),(0,b.jsx)(g.default,{href:"/account/orders",className:"text-[#c9a962] text-sm font-[family-name:var(--font-montserrat)] hover:underline",children:"View All"})]}),H?(0,b.jsx)("div",{className:"flex justify-center py-8",children:(0,b.jsx)("div",{className:"w-6 h-6 border-2 border-[#c9a962] border-t-transparent rounded-full animate-spin"})}):0===D.length?(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)("svg",{className:"w-12 h-12 text-[#2a2a2a] mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),(0,b.jsx)("p",{className:"text-[#888888] text-sm font-[family-name:var(--font-montserrat)] mb-4",children:"You haven't placed any orders yet"}),(0,b.jsx)(g.default,{href:"/shop",className:"inline-block bg-[#c9a962] text-[#0a0a0a] px-6 py-2 font-[family-name:var(--font-montserrat)] text-sm uppercase tracking-wider hover:bg-[#d4b87a] transition-colors",children:"Browse Shop"})]}):(0,b.jsx)("div",{className:"space-y-3",children:D.map(a=>{let c;return(0,b.jsxs)(g.default,{href:"/account/orders",className:"flex items-center justify-between p-3 bg-[#0a0a0a] hover:bg-[#1a1a1a] transition-colors",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)]",children:["#",a.id.slice(-6).toUpperCase()]}),(0,b.jsx)("p",{className:"text-[#888888] text-xs font-[family-name:var(--font-montserrat)]",children:a.type.replace("-"," ")})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("p",{className:"text-[#c9a962] text-sm font-[family-name:var(--font-montserrat)]",children:(c=a.pricing?.totalAmount||0,new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0}).format(c))}),(0,b.jsx)("span",{className:`inline-block px-2 py-0.5 text-xs ${h(a.status)}`,children:a.status})]})]},a.id)})})]}),(0,b.jsxs)("div",{className:"bg-[#111111] border border-[#1a1a1a] p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-lg font-[family-name:var(--font-cormorant)] text-[#f5f5f5]",children:"Upcoming Appointments"}),(0,b.jsx)(g.default,{href:"/account/appointments",className:"text-[#c9a962] text-sm font-[family-name:var(--font-montserrat)] hover:underline",children:"View All"})]}),H?(0,b.jsx)("div",{className:"flex justify-center py-8",children:(0,b.jsx)("div",{className:"w-6 h-6 border-2 border-[#c9a962] border-t-transparent rounded-full animate-spin"})}):0===F.length?(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)("svg",{className:"w-12 h-12 text-[#2a2a2a] mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,b.jsx)("p",{className:"text-[#888888] text-sm font-[family-name:var(--font-montserrat)] mb-4",children:"No upcoming appointments"}),(0,b.jsx)(g.default,{href:"/account/appointments/book",className:"inline-block bg-[#c9a962] text-[#0a0a0a] px-6 py-2 font-[family-name:var(--font-montserrat)] text-sm uppercase tracking-wider hover:bg-[#d4b87a] transition-colors",children:"Book Consultation"})]}):(0,b.jsx)("div",{className:"space-y-3",children:F.map(a=>(0,b.jsxs)(g.default,{href:"/account/appointments",className:"flex items-center justify-between p-3 bg-[#0a0a0a] hover:bg-[#1a1a1a] transition-colors",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)] capitalize",children:a.type.replace("-"," ")}),(0,b.jsx)("p",{className:"text-[#888888] text-xs font-[family-name:var(--font-montserrat)]",children:a.timeSlot})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("p",{className:"text-[#c9a962] text-sm font-[family-name:var(--font-montserrat)]",children:a.date}),(0,b.jsx)("span",{className:`inline-block px-2 py-0.5 text-xs ${h(a.status)}`,children:a.status})]})]},a.id))})]})]})}a.s(["default",()=>i])}];

//# sourceMappingURL=src_app_account_page_tsx_fffadb95._.js.map