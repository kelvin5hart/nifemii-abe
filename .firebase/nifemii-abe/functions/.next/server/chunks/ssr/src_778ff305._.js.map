{"version":3,"sources":["../../../../src/lib/website-image-types.ts","../../../../src/app/admin/images/page.tsx"],"sourcesContent":["import { Timestamp } from \"firebase/firestore\";\n\n// Image categories for website sections\nexport type ImageCategory =\n  | \"hero\" // Homepage hero carousel\n  | \"about-hero\" // About page hero\n  | \"about-gallery\" // About page gallery\n  | \"about-founder\" // Founder photo\n  | \"services\" // Services page cards\n  | \"collections\" // Collections page grid\n  | \"shop-hero\" // Shop page hero\n  | \"backgrounds\"; // Background images (testimonials, CTA)\n\n// Website image document structure\nexport interface WebsiteImage {\n  id: string;\n  category: ImageCategory;\n  url: string;\n  name: string;\n  order: number;\n  createdAt: Date | Timestamp;\n  updatedAt?: Date | Timestamp;\n}\n\n// Default images for each category (fallbacks)\nexport const defaultImages: Record<ImageCategory, string[]> = {\n  hero: [\n    \"/images/IMG_1606.jpg\",\n    \"/images/IMG_1607.jpg\",\n    \"/images/IMG_1608.jpg\",\n    \"/images/IMG_1609.jpg\",\n    \"/images/wedding_01.jpg\",\n    \"/images/wedding_02.jpg\",\n    \"/images/wedding_03.jpg\",\n    \"/images/Traditional.jpg\",\n    \"/images/design_final.jpg\",\n  ],\n  \"about-hero\": [\"/images/IMG_1606.jpg\"],\n  \"about-gallery\": [\n    \"/images/IMG_1618.jpg\",\n    \"/images/IMG_1619.jpg\",\n    \"/images/IMG_1620.jpg\",\n    \"/images/IMG_1596.jpg\",\n  ],\n  \"about-founder\": [\"/images/nifemi_founder.jpg\"],\n  services: [\n    \"/images/design_final.jpg\",\n    \"/images/Traditional.jpg\",\n    \"/images/wedding_01.jpg\",\n    \"/images/nifemi_founder.jpg\",\n  ],\n  collections: [\n    \"/images/IMG_1596.jpg\",\n    \"/images/wedding_01.jpg\",\n    \"/images/Traditional.jpg\",\n    \"/images/IMG_1599.jpg\",\n    \"/images/IMG_1601.jpg\",\n    \"/images/IMG_1605.jpg\",\n    \"/images/IMG_1618.jpg\",\n    \"/images/IMG_1619.jpg\",\n    \"/images/IMG_1620.jpg\",\n    \"/images/wedding_02.jpg\",\n    \"/images/wedding_03.jpg\",\n    \"/images/design_final.jpg\",\n    \"/images/IMG_1597.jpg\",\n    \"/images/IMG_1598.jpg\",\n    \"/images/IMG_1610.jpg\",\n  ],\n  \"shop-hero\": [\"/images/outfit5.jpg\"],\n  backgrounds: [\n    \"/images/IMG_1610.jpg\", // Testimonials\n    \"/images/IMG_1616.jpg\", // CTA sections\n  ],\n};\n\n// Category display names for admin UI\nexport const categoryDisplayNames: Record<ImageCategory, string> = {\n  hero: \"Homepage Hero Carousel\",\n  \"about-hero\": \"About Page Hero\",\n  \"about-gallery\": \"About Page Gallery\",\n  \"about-founder\": \"Founder Photo\",\n  services: \"Services Page\",\n  collections: \"Collections Page\",\n  \"shop-hero\": \"Shop Page Hero\",\n  backgrounds: \"Background Images\",\n};\n\n// Category descriptions for admin UI\nexport const categoryDescriptions: Record<ImageCategory, string> = {\n  hero: \"Images that rotate in the homepage hero section (recommended: 5-9 images)\",\n  \"about-hero\": \"Main hero background image for the About page\",\n  \"about-gallery\": \"Gallery grid on the About page (recommended: 4 images)\",\n  \"about-founder\": \"Profile photo of the founder/designer\",\n  services: \"Images for each service card (Custom Made, Ready to Wear, Wedding, Style)\",\n  collections: \"Collection preview images (recommended: 12-15 images)\",\n  \"shop-hero\": \"Hero background image for the Shop page\",\n  backgrounds: \"Background images for testimonials and CTA sections\",\n};\n","\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport Image from \"next/image\";\nimport {\n  collection,\n  addDoc,\n  deleteDoc,\n  doc,\n  query,\n  where,\n  orderBy,\n  getDocs,\n  updateDoc,\n  Timestamp,\n} from \"firebase/firestore\";\nimport {\n  ref,\n  uploadBytes,\n  getDownloadURL,\n  deleteObject,\n} from \"firebase/storage\";\nimport { db, storage } from \"@/lib/firebase\";\nimport {\n  WebsiteImage,\n  ImageCategory,\n  categoryDisplayNames,\n  categoryDescriptions,\n  defaultImages,\n} from \"@/lib/website-image-types\";\n\nconst categories: ImageCategory[] = [\n  \"hero\",\n  \"about-hero\",\n  \"about-gallery\",\n  \"about-founder\",\n  \"services\",\n  \"collections\",\n  \"shop-hero\",\n  \"backgrounds\",\n];\n\nexport default function AdminImagesPage() {\n  const [selectedCategory, setSelectedCategory] = useState<ImageCategory>(\"hero\");\n  const [images, setImages] = useState<WebsiteImage[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [uploading, setUploading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n\n  // Fetch images for selected category\n  useEffect(() => {\n    const fetchImages = async () => {\n      setLoading(true);\n      setError(\"\");\n\n      try {\n        const q = query(\n          collection(db, \"websiteImages\"),\n          where(\"category\", \"==\", selectedCategory),\n          orderBy(\"order\", \"asc\")\n        );\n        const snapshot = await getDocs(q);\n        const imageData = snapshot.docs.map((doc) => ({\n          id: doc.id,\n          ...doc.data(),\n        })) as WebsiteImage[];\n        setImages(imageData);\n      } catch (err) {\n        console.error(\"Error fetching images:\", err);\n        setError(\"Failed to load images\");\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchImages();\n  }, [selectedCategory]);\n\n  // Handle file upload\n  const handleFileUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const files = e.target.files;\n    if (!files || files.length === 0) return;\n\n    setUploading(true);\n    setError(\"\");\n    setSuccess(\"\");\n\n    try {\n      const newImages: WebsiteImage[] = [];\n\n      for (let i = 0; i < files.length; i++) {\n        const file = files[i];\n\n        // Validate file type\n        if (!file.type.startsWith(\"image/\")) {\n          setError(`${file.name} is not an image file`);\n          continue;\n        }\n\n        // Validate file size (max 5MB)\n        if (file.size > 5 * 1024 * 1024) {\n          setError(`${file.name} is too large. Max size is 5MB`);\n          continue;\n        }\n\n        // Create unique filename\n        const timestamp = Date.now();\n        const safeName = file.name.replace(/[^a-zA-Z0-9.]/g, \"_\");\n        const storageRef = ref(\n          storage,\n          `website/${selectedCategory}/${timestamp}_${safeName}`\n        );\n\n        // Upload to Firebase Storage\n        await uploadBytes(storageRef, file);\n        const downloadUrl = await getDownloadURL(storageRef);\n\n        // Get current max order\n        const maxOrder = images.length > 0\n          ? Math.max(...images.map((img) => img.order))\n          : -1;\n\n        // Add to Firestore\n        const docRef = await addDoc(collection(db, \"websiteImages\"), {\n          category: selectedCategory,\n          url: downloadUrl,\n          name: file.name,\n          order: maxOrder + 1 + i,\n          createdAt: Timestamp.now(),\n          updatedAt: Timestamp.now(),\n        });\n\n        newImages.push({\n          id: docRef.id,\n          category: selectedCategory,\n          url: downloadUrl,\n          name: file.name,\n          order: maxOrder + 1 + i,\n          createdAt: new Date(),\n        });\n      }\n\n      setImages([...images, ...newImages]);\n      setSuccess(`${newImages.length} image(s) uploaded successfully`);\n\n      // Clear success message after 3 seconds\n      setTimeout(() => setSuccess(\"\"), 3000);\n    } catch (err) {\n      console.error(\"Error uploading images:\", err);\n      setError(\"Failed to upload images. Please try again.\");\n    } finally {\n      setUploading(false);\n      // Reset file input\n      e.target.value = \"\";\n    }\n  };\n\n  // Delete image\n  const handleDeleteImage = async (image: WebsiteImage) => {\n    if (!confirm(\"Are you sure you want to delete this image?\")) return;\n\n    try {\n      // Delete from Storage if it's a Firebase URL\n      if (image.url.includes(\"firebasestorage.googleapis.com\")) {\n        try {\n          const storageRef = ref(storage, image.url);\n          await deleteObject(storageRef);\n        } catch (storageErr) {\n          console.error(\"Error deleting from storage:\", storageErr);\n          // Continue anyway - the storage file might not exist\n        }\n      }\n\n      // Delete from Firestore\n      await deleteDoc(doc(db, \"websiteImages\", image.id));\n\n      // Update local state\n      setImages(images.filter((img) => img.id !== image.id));\n      setSuccess(\"Image deleted successfully\");\n\n      // Clear success message after 3 seconds\n      setTimeout(() => setSuccess(\"\"), 3000);\n    } catch (err) {\n      console.error(\"Error deleting image:\", err);\n      setError(\"Failed to delete image\");\n    }\n  };\n\n  // Move image up in order\n  const handleMoveUp = async (index: number) => {\n    if (index === 0) return;\n\n    const newImages = [...images];\n    const currentImage = newImages[index];\n    const prevImage = newImages[index - 1];\n\n    // Swap orders\n    const tempOrder = currentImage.order;\n    currentImage.order = prevImage.order;\n    prevImage.order = tempOrder;\n\n    // Swap positions in array\n    newImages[index] = prevImage;\n    newImages[index - 1] = currentImage;\n\n    setImages(newImages);\n\n    // Update Firestore\n    try {\n      await updateDoc(doc(db, \"websiteImages\", currentImage.id), {\n        order: currentImage.order,\n        updatedAt: Timestamp.now(),\n      });\n      await updateDoc(doc(db, \"websiteImages\", prevImage.id), {\n        order: prevImage.order,\n        updatedAt: Timestamp.now(),\n      });\n    } catch (err) {\n      console.error(\"Error updating order:\", err);\n    }\n  };\n\n  // Move image down in order\n  const handleMoveDown = async (index: number) => {\n    if (index === images.length - 1) return;\n\n    const newImages = [...images];\n    const currentImage = newImages[index];\n    const nextImage = newImages[index + 1];\n\n    // Swap orders\n    const tempOrder = currentImage.order;\n    currentImage.order = nextImage.order;\n    nextImage.order = tempOrder;\n\n    // Swap positions in array\n    newImages[index] = nextImage;\n    newImages[index + 1] = currentImage;\n\n    setImages(newImages);\n\n    // Update Firestore\n    try {\n      await updateDoc(doc(db, \"websiteImages\", currentImage.id), {\n        order: currentImage.order,\n        updatedAt: Timestamp.now(),\n      });\n      await updateDoc(doc(db, \"websiteImages\", nextImage.id), {\n        order: nextImage.order,\n        updatedAt: Timestamp.now(),\n      });\n    } catch (err) {\n      console.error(\"Error updating order:\", err);\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <h1 className=\"text-2xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5] mb-2\">\n          Website Images\n        </h1>\n        <p className=\"text-[#888888] font-[family-name:var(--font-montserrat)] text-sm\">\n          Manage images displayed across the website\n        </p>\n      </div>\n\n      {/* Category Tabs */}\n      <div className=\"flex flex-wrap gap-2\">\n        {categories.map((category) => (\n          <button\n            key={category}\n            onClick={() => setSelectedCategory(category)}\n            className={`px-4 py-2 text-sm font-[family-name:var(--font-montserrat)] transition-colors ${\n              selectedCategory === category\n                ? \"bg-[#c9a962] text-[#0a0a0a]\"\n                : \"bg-[#1a1a1a] text-[#888888] hover:bg-[#2a2a2a] hover:text-[#f5f5f5]\"\n            }`}\n          >\n            {categoryDisplayNames[category]}\n          </button>\n        ))}\n      </div>\n\n      {/* Category Description */}\n      <div className=\"bg-[#111111] border border-[#1a1a1a] p-4\">\n        <h2 className=\"text-lg font-[family-name:var(--font-cormorant)] text-[#f5f5f5] mb-1\">\n          {categoryDisplayNames[selectedCategory]}\n        </h2>\n        <p className=\"text-[#888888] font-[family-name:var(--font-montserrat)] text-sm\">\n          {categoryDescriptions[selectedCategory]}\n        </p>\n      </div>\n\n      {/* Messages */}\n      {error && (\n        <div className=\"bg-red-500/10 border border-red-500/50 text-red-400 px-4 py-3 text-sm font-[family-name:var(--font-montserrat)]\">\n          {error}\n        </div>\n      )}\n\n      {success && (\n        <div className=\"bg-green-500/10 border border-green-500/50 text-green-400 px-4 py-3 text-sm font-[family-name:var(--font-montserrat)]\">\n          {success}\n        </div>\n      )}\n\n      {/* Upload Section */}\n      <div className=\"bg-[#111111] border border-[#1a1a1a] p-6\">\n        <h3 className=\"text-lg font-[family-name:var(--font-cormorant)] text-[#f5f5f5] mb-4\">\n          Upload New Images\n        </h3>\n        <div className=\"flex flex-col sm:flex-row gap-4\">\n          <label className=\"flex-1 cursor-pointer\">\n            <div className=\"border-2 border-dashed border-[#2a2a2a] hover:border-[#c9a962] transition-colors p-8 text-center\">\n              <svg\n                className=\"w-12 h-12 mx-auto text-[#888888] mb-4\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={1.5}\n                  d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\"\n                />\n              </svg>\n              <p className=\"text-[#888888] font-[family-name:var(--font-montserrat)] text-sm mb-2\">\n                {uploading ? \"Uploading...\" : \"Click to upload images\"}\n              </p>\n              <p className=\"text-[#666666] font-[family-name:var(--font-montserrat)] text-xs\">\n                JPG, PNG, WebP (max 5MB each)\n              </p>\n            </div>\n            <input\n              type=\"file\"\n              accept=\"image/*\"\n              multiple\n              onChange={handleFileUpload}\n              disabled={uploading}\n              className=\"hidden\"\n            />\n          </label>\n        </div>\n      </div>\n\n      {/* Current Images */}\n      <div className=\"bg-[#111111] border border-[#1a1a1a] p-6\">\n        <h3 className=\"text-lg font-[family-name:var(--font-cormorant)] text-[#f5f5f5] mb-4\">\n          Current Images ({images.length})\n        </h3>\n\n        {loading ? (\n          <div className=\"text-center py-8\">\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-[#c9a962] mx-auto\"></div>\n            <p className=\"text-[#888888] mt-4 font-[family-name:var(--font-montserrat)] text-sm\">\n              Loading images...\n            </p>\n          </div>\n        ) : images.length === 0 ? (\n          <div className=\"text-center py-8\">\n            <p className=\"text-[#888888] font-[family-name:var(--font-montserrat)] text-sm mb-2\">\n              No custom images configured\n            </p>\n            <p className=\"text-[#666666] font-[family-name:var(--font-montserrat)] text-xs\">\n              Using {defaultImages[selectedCategory]?.length || 0} default image(s)\n            </p>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4\">\n            {images.map((image, index) => (\n              <div\n                key={image.id}\n                className=\"relative group bg-[#0a0a0a] border border-[#2a2a2a]\"\n              >\n                <div className=\"aspect-square relative\">\n                  <Image\n                    src={image.url}\n                    alt={image.name}\n                    fill\n                    className=\"object-cover\"\n                    sizes=\"(max-width: 640px) 50vw, (max-width: 768px) 33vw, (max-width: 1024px) 25vw, 20vw\"\n                  />\n                </div>\n\n                {/* Overlay with actions */}\n                <div className=\"absolute inset-0 bg-black/70 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col items-center justify-center gap-2\">\n                  <p className=\"text-[#f5f5f5] text-xs font-[family-name:var(--font-montserrat)] px-2 text-center truncate w-full\">\n                    {image.name}\n                  </p>\n\n                  <div className=\"flex gap-2\">\n                    {/* Move Up */}\n                    {index > 0 && (\n                      <button\n                        onClick={() => handleMoveUp(index)}\n                        className=\"p-2 bg-[#1a1a1a] hover:bg-[#2a2a2a] transition-colors\"\n                        title=\"Move up\"\n                      >\n                        <svg className=\"w-4 h-4 text-[#f5f5f5]\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 15l7-7 7 7\" />\n                        </svg>\n                      </button>\n                    )}\n\n                    {/* Move Down */}\n                    {index < images.length - 1 && (\n                      <button\n                        onClick={() => handleMoveDown(index)}\n                        className=\"p-2 bg-[#1a1a1a] hover:bg-[#2a2a2a] transition-colors\"\n                        title=\"Move down\"\n                      >\n                        <svg className=\"w-4 h-4 text-[#f5f5f5]\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                        </svg>\n                      </button>\n                    )}\n\n                    {/* Delete */}\n                    <button\n                      onClick={() => handleDeleteImage(image)}\n                      className=\"p-2 bg-red-500/20 hover:bg-red-500/40 transition-colors\"\n                      title=\"Delete\"\n                    >\n                      <svg className=\"w-4 h-4 text-red-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                      </svg>\n                    </button>\n                  </div>\n                </div>\n\n                {/* Order badge */}\n                <div className=\"absolute top-2 left-2 bg-[#0a0a0a]/80 px-2 py-1 text-xs text-[#f5f5f5] font-[family-name:var(--font-montserrat)]\">\n                  #{index + 1}\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {/* Default Images Reference */}\n      <div className=\"bg-[#111111] border border-[#1a1a1a] p-6\">\n        <h3 className=\"text-lg font-[family-name:var(--font-cormorant)] text-[#f5f5f5] mb-4\">\n          Default Images (Fallback)\n        </h3>\n        <p className=\"text-[#888888] font-[family-name:var(--font-montserrat)] text-sm mb-4\">\n          These images are used if no custom images are uploaded for this category.\n        </p>\n        <div className=\"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-2\">\n          {defaultImages[selectedCategory]?.map((url, index) => (\n            <div key={index} className=\"aspect-square relative bg-[#0a0a0a] border border-[#2a2a2a]\">\n              <Image\n                src={url}\n                alt={`Default ${index + 1}`}\n                fill\n                className=\"object-cover opacity-60\"\n                sizes=\"(max-width: 640px) 33vw, (max-width: 768px) 25vw, (max-width: 1024px) 16vw, 12vw\"\n              />\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}