{"version":3,"sources":["../../../../src/app/admin/finance/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { collection, query, orderBy, onSnapshot, Timestamp } from \"firebase/firestore\";\nimport { db } from \"@/lib/firebase\";\nimport { Order } from \"@/lib/firebase-types\";\nimport Link from \"next/link\";\n\nconst formatPrice = (price: number) => {\n  return new Intl.NumberFormat(\"en-NG\", {\n    style: \"currency\",\n    currency: \"NGN\",\n    minimumFractionDigits: 0,\n  }).format(price);\n};\n\nconst formatDate = (date: Date | Timestamp) => {\n  const d = date instanceof Timestamp ? date.toDate() : date;\n  return d.toLocaleDateString(\"en-NG\", {\n    month: \"short\",\n    day: \"numeric\",\n    year: \"numeric\",\n  });\n};\n\ntype PaymentMethod = \"paystack\" | \"cash\" | \"transfer\" | \"all\";\ntype PaymentStatus = \"paid\" | \"pending\" | \"all\";\n\ninterface PaymentRecord {\n  orderId: string;\n  orderRef: string;\n  customerName: string;\n  customerPhone: string;\n  type: \"deposit\" | \"balance\" | \"full\";\n  amount: number;\n  method: string;\n  status: \"paid\" | \"pending\";\n  date?: Date;\n  orderDate: Date;\n}\n\nexport default function AdminFinancePage() {\n  const [orders, setOrders] = useState<Order[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [filterMethod, setFilterMethod] = useState<PaymentMethod>(\"all\");\n  const [filterStatus, setFilterStatus] = useState<PaymentStatus>(\"all\");\n  const [dateRange, setDateRange] = useState<\"all\" | \"today\" | \"week\" | \"month\">(\"month\");\n\n  useEffect(() => {\n    const ordersQuery = query(\n      collection(db, \"orders\"),\n      orderBy(\"createdAt\", \"desc\")\n    );\n\n    const unsubscribe = onSnapshot(ordersQuery, (snapshot) => {\n      const ordersData = snapshot.docs.map((doc) => {\n        const data = doc.data();\n        return {\n          id: doc.id,\n          ...data,\n          createdAt: data.createdAt?.toDate?.() || new Date(),\n          updatedAt: data.updatedAt?.toDate?.() || new Date(),\n        } as Order;\n      });\n      setOrders(ordersData);\n      setLoading(false);\n    });\n\n    return () => unsubscribe();\n  }, []);\n\n  // Filter orders by date range\n  const getDateFilteredOrders = () => {\n    const now = new Date();\n    const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());\n\n    return orders.filter((order) => {\n      if (order.status === \"cancelled\") return false;\n\n      const orderDate = order.createdAt instanceof Date ? order.createdAt : new Date();\n\n      switch (dateRange) {\n        case \"today\":\n          return orderDate >= today;\n        case \"week\":\n          const weekAgo = new Date(today);\n          weekAgo.setDate(weekAgo.getDate() - 7);\n          return orderDate >= weekAgo;\n        case \"month\":\n          const monthAgo = new Date(today);\n          monthAgo.setMonth(monthAgo.getMonth() - 1);\n          return orderDate >= monthAgo;\n        default:\n          return true;\n      }\n    });\n  };\n\n  // Generate payment records from orders\n  const getPaymentRecords = (): PaymentRecord[] => {\n    const records: PaymentRecord[] = [];\n    const filteredOrders = getDateFilteredOrders();\n\n    filteredOrders.forEach((order) => {\n      const pricing = order.pricing;\n      if (!pricing) return;\n\n      const baseRecord = {\n        orderId: order.id,\n        orderRef: `#${order.id.slice(0, 8)}`,\n        customerName: order.userName || \"Unknown\",\n        customerPhone: order.userPhone,\n        orderDate: order.createdAt instanceof Date ? order.createdAt : new Date(),\n      };\n\n      // Check if order has deposit/balance structure\n      if (pricing.depositAmount !== undefined && pricing.depositAmount > 0) {\n        // Deposit record\n        records.push({\n          ...baseRecord,\n          type: \"deposit\",\n          amount: pricing.depositAmount,\n          method: pricing.depositMethod || \"pending\",\n          status: pricing.depositPaid ? \"paid\" : \"pending\",\n          date: pricing.depositDate instanceof Timestamp\n            ? pricing.depositDate.toDate()\n            : pricing.depositPaid\n            ? order.createdAt instanceof Date ? order.createdAt : new Date()\n            : undefined,\n        });\n\n        // Balance record (if exists)\n        const balanceAmount = pricing.balanceAmount || 0;\n        if (balanceAmount > 0) {\n          records.push({\n            ...baseRecord,\n            type: \"balance\",\n            amount: balanceAmount,\n            method: pricing.balanceMethod || \"pending\",\n            status: pricing.balancePaid ? \"paid\" : \"pending\",\n            date: pricing.balanceDate instanceof Timestamp\n              ? pricing.balanceDate.toDate()\n              : pricing.balancePaid\n              ? order.updatedAt instanceof Date ? order.updatedAt : new Date()\n              : undefined,\n          });\n        }\n      } else {\n        // Full payment\n        records.push({\n          ...baseRecord,\n          type: \"full\",\n          amount: pricing.totalAmount,\n          method: pricing.depositMethod || order.paymentMethod || \"pending\",\n          status: pricing.depositPaid ? \"paid\" : \"pending\",\n          date: pricing.depositDate instanceof Timestamp\n            ? pricing.depositDate.toDate()\n            : pricing.depositPaid\n            ? order.createdAt instanceof Date ? order.createdAt : new Date()\n            : undefined,\n        });\n      }\n    });\n\n    // Filter by method\n    let filtered = records;\n    if (filterMethod !== \"all\") {\n      filtered = filtered.filter((r) => r.method === filterMethod);\n    }\n\n    // Filter by status\n    if (filterStatus !== \"all\") {\n      filtered = filtered.filter((r) => r.status === filterStatus);\n    }\n\n    // Sort by date (most recent first)\n    return filtered.sort((a, b) => {\n      const dateA = a.date || a.orderDate;\n      const dateB = b.date || b.orderDate;\n      return dateB.getTime() - dateA.getTime();\n    });\n  };\n\n  // Calculate totals\n  const calculateTotals = () => {\n    const records = getPaymentRecords();\n\n    const paidTotal = records\n      .filter((r) => r.status === \"paid\")\n      .reduce((sum, r) => sum + r.amount, 0);\n\n    const pendingTotal = records\n      .filter((r) => r.status === \"pending\")\n      .reduce((sum, r) => sum + r.amount, 0);\n\n    // Group by payment method (only paid amounts)\n    const byMethod: Record<string, number> = {};\n    records\n      .filter((r) => r.status === \"paid\")\n      .forEach((r) => {\n        byMethod[r.method] = (byMethod[r.method] || 0) + r.amount;\n      });\n\n    return { paidTotal, pendingTotal, byMethod };\n  };\n\n  const totals = calculateTotals();\n  const paymentRecords = getPaymentRecords();\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"text-[#888888]\">Loading financial data...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\n        <div>\n          <h1 className=\"text-2xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5]\">\n            Finance\n          </h1>\n          <p className=\"text-[#888888] text-sm font-[family-name:var(--font-montserrat)]\">\n            Track payments received and outstanding\n          </p>\n        </div>\n      </div>\n\n      {/* Summary Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n        <div className=\"bg-[#111111] border border-[#1a1a1a] p-6\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <div className=\"text-green-400\">\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n              </svg>\n            </div>\n            <span className=\"text-green-400 text-xs font-[family-name:var(--font-montserrat)]\">\n              Received\n            </span>\n          </div>\n          <p className=\"text-2xl font-[family-name:var(--font-cormorant)] text-green-400 mb-1\">\n            {formatPrice(totals.paidTotal)}\n          </p>\n          <p className=\"text-[#888888] text-sm font-[family-name:var(--font-montserrat)]\">\n            Total Paid\n          </p>\n        </div>\n\n        <div className=\"bg-[#111111] border border-[#1a1a1a] p-6\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <div className=\"text-yellow-400\">\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n              </svg>\n            </div>\n            <span className=\"text-yellow-400 text-xs font-[family-name:var(--font-montserrat)]\">\n              Outstanding\n            </span>\n          </div>\n          <p className=\"text-2xl font-[family-name:var(--font-cormorant)] text-yellow-400 mb-1\">\n            {formatPrice(totals.pendingTotal)}\n          </p>\n          <p className=\"text-[#888888] text-sm font-[family-name:var(--font-montserrat)]\">\n            Pending Payments\n          </p>\n        </div>\n\n        <div className=\"bg-[#111111] border border-[#1a1a1a] p-6\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <div className=\"text-[#c9a962]\">\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n              </svg>\n            </div>\n            <span className=\"text-[#c9a962] text-xs font-[family-name:var(--font-montserrat)]\">\n              Combined\n            </span>\n          </div>\n          <p className=\"text-2xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5] mb-1\">\n            {formatPrice(totals.paidTotal + totals.pendingTotal)}\n          </p>\n          <p className=\"text-[#888888] text-sm font-[family-name:var(--font-montserrat)]\">\n            Total Value\n          </p>\n        </div>\n      </div>\n\n      {/* Payment Method Breakdown */}\n      {Object.keys(totals.byMethod).length > 0 && (\n        <div className=\"bg-[#111111] border border-[#1a1a1a] p-6\">\n          <h2 className=\"text-lg font-[family-name:var(--font-cormorant)] text-[#f5f5f5] mb-4\">\n            Revenue by Payment Method\n          </h2>\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n            {Object.entries(totals.byMethod).map(([method, amount]) => (\n              <div key={method} className=\"bg-[#0a0a0a] p-4 border border-[#1a1a1a]\">\n                <p className=\"text-[#888888] text-xs uppercase tracking-wider font-[family-name:var(--font-montserrat)] mb-2\">\n                  {method === \"paystack\" ? \"Paystack (Online)\" : method.charAt(0).toUpperCase() + method.slice(1)}\n                </p>\n                <p className=\"text-[#c9a962] text-lg font-[family-name:var(--font-montserrat)]\">\n                  {formatPrice(amount)}\n                </p>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Filters */}\n      <div className=\"flex flex-wrap gap-4\">\n        <select\n          value={dateRange}\n          onChange={(e) => setDateRange(e.target.value as typeof dateRange)}\n          className=\"bg-[#111111] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none\"\n        >\n          <option value=\"today\">Today</option>\n          <option value=\"week\">Last 7 Days</option>\n          <option value=\"month\">Last 30 Days</option>\n          <option value=\"all\">All Time</option>\n        </select>\n\n        <select\n          value={filterStatus}\n          onChange={(e) => setFilterStatus(e.target.value as PaymentStatus)}\n          className=\"bg-[#111111] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none\"\n        >\n          <option value=\"all\">All Status</option>\n          <option value=\"paid\">Paid Only</option>\n          <option value=\"pending\">Pending Only</option>\n        </select>\n\n        <select\n          value={filterMethod}\n          onChange={(e) => setFilterMethod(e.target.value as PaymentMethod)}\n          className=\"bg-[#111111] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none\"\n        >\n          <option value=\"all\">All Methods</option>\n          <option value=\"paystack\">Paystack</option>\n          <option value=\"cash\">Cash</option>\n          <option value=\"transfer\">Transfer</option>\n        </select>\n      </div>\n\n      {/* Payment Records Table */}\n      <div className=\"bg-[#111111] border border-[#1a1a1a] overflow-hidden\">\n        <div className=\"p-4 border-b border-[#1a1a1a]\">\n          <h2 className=\"text-lg font-[family-name:var(--font-cormorant)] text-[#f5f5f5]\">\n            Payment Records ({paymentRecords.length})\n          </h2>\n        </div>\n\n        {paymentRecords.length === 0 ? (\n          <div className=\"p-12 text-center\">\n            <p className=\"text-[#888888] font-[family-name:var(--font-montserrat)]\">\n              No payment records found for the selected filters\n            </p>\n          </div>\n        ) : (\n          <>\n            {/* Mobile Card View */}\n            <div className=\"md:hidden divide-y divide-[#1a1a1a]\">\n              {paymentRecords.map((record, idx) => (\n                <div\n                  key={`${record.orderId}-${record.type}-${idx}`}\n                  className=\"p-4\"\n                >\n                  <div className=\"flex items-start justify-between mb-2\">\n                    <div>\n                      <Link\n                        href=\"/admin/orders\"\n                        className=\"text-[#c9a962] text-sm font-[family-name:var(--font-montserrat)] hover:underline\"\n                      >\n                        {record.orderRef}\n                      </Link>\n                      <p className=\"text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)] mt-1\">\n                        {record.customerName}\n                      </p>\n                    </div>\n                    <span\n                      className={`px-2 py-1 text-xs border font-[family-name:var(--font-montserrat)] ${\n                        record.status === \"paid\"\n                          ? \"bg-green-500/20 text-green-400 border-green-500/50\"\n                          : \"bg-yellow-500/20 text-yellow-400 border-yellow-500/50\"\n                      }`}\n                    >\n                      {record.status}\n                    </span>\n                  </div>\n                  <div className=\"flex items-center justify-between text-sm\">\n                    <span className=\"text-[#c9a962] font-[family-name:var(--font-montserrat)]\">\n                      {formatPrice(record.amount)}\n                    </span>\n                    <span className=\"text-[#888888] font-[family-name:var(--font-montserrat)] capitalize\">\n                      {record.type} Â· {record.method || \"-\"}\n                    </span>\n                  </div>\n                  {record.date && (\n                    <p className=\"text-xs text-[#666666] mt-2 font-[family-name:var(--font-montserrat)]\">\n                      {formatDate(record.date)}\n                    </p>\n                  )}\n                </div>\n              ))}\n            </div>\n\n            {/* Desktop Table View */}\n            <div className=\"hidden md:block overflow-x-auto\">\n              <table className=\"w-full\">\n                <thead className=\"bg-[#0a0a0a] border-b border-[#1a1a1a]\">\n                  <tr>\n                    <th className=\"text-left px-4 py-3 text-xs uppercase tracking-wider text-[#888888] font-[family-name:var(--font-montserrat)]\">\n                      Order\n                    </th>\n                    <th className=\"text-left px-4 py-3 text-xs uppercase tracking-wider text-[#888888] font-[family-name:var(--font-montserrat)]\">\n                      Customer\n                    </th>\n                    <th className=\"text-left px-4 py-3 text-xs uppercase tracking-wider text-[#888888] font-[family-name:var(--font-montserrat)]\">\n                      Type\n                    </th>\n                    <th className=\"text-left px-4 py-3 text-xs uppercase tracking-wider text-[#888888] font-[family-name:var(--font-montserrat)]\">\n                      Amount\n                    </th>\n                    <th className=\"text-left px-4 py-3 text-xs uppercase tracking-wider text-[#888888] font-[family-name:var(--font-montserrat)]\">\n                      Method\n                    </th>\n                    <th className=\"text-left px-4 py-3 text-xs uppercase tracking-wider text-[#888888] font-[family-name:var(--font-montserrat)]\">\n                      Status\n                    </th>\n                    <th className=\"text-left px-4 py-3 text-xs uppercase tracking-wider text-[#888888] font-[family-name:var(--font-montserrat)]\">\n                      Date\n                    </th>\n                  </tr>\n                </thead>\n                <tbody className=\"divide-y divide-[#1a1a1a]\">\n                  {paymentRecords.map((record, idx) => (\n                    <tr\n                      key={`${record.orderId}-${record.type}-${idx}`}\n                      className=\"hover:bg-[#1a1a1a]/50 transition-colors\"\n                    >\n                      <td className=\"px-4 py-4\">\n                        <Link\n                          href=\"/admin/orders\"\n                          className=\"text-[#c9a962] text-sm font-[family-name:var(--font-montserrat)] hover:underline\"\n                        >\n                          {record.orderRef}\n                        </Link>\n                      </td>\n                      <td className=\"px-4 py-4\">\n                        <p className=\"text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)]\">\n                          {record.customerName}\n                        </p>\n                        <p className=\"text-[#888888] text-xs font-[family-name:var(--font-montserrat)]\">\n                          {record.customerPhone}\n                        </p>\n                      </td>\n                      <td className=\"px-4 py-4 text-sm text-[#888888] font-[family-name:var(--font-montserrat)] capitalize\">\n                        {record.type}\n                      </td>\n                      <td className=\"px-4 py-4 text-sm text-[#f5f5f5] font-[family-name:var(--font-montserrat)]\">\n                        {formatPrice(record.amount)}\n                      </td>\n                      <td className=\"px-4 py-4 text-sm font-[family-name:var(--font-montserrat)] capitalize\">\n                        {record.status === \"pending\" ? (\n                          <span className=\"text-[#666666]\">-</span>\n                        ) : (\n                          <span className=\"text-[#888888]\">\n                            {record.method === \"paystack\" ? \"Paystack\" : record.method}\n                          </span>\n                        )}\n                      </td>\n                      <td className=\"px-4 py-4\">\n                        <span\n                          className={`px-2 py-1 text-xs border font-[family-name:var(--font-montserrat)] ${\n                            record.status === \"paid\"\n                              ? \"bg-green-500/20 text-green-400 border-green-500/50\"\n                              : \"bg-yellow-500/20 text-yellow-400 border-yellow-500/50\"\n                          }`}\n                        >\n                          {record.status}\n                        </span>\n                      </td>\n                      <td className=\"px-4 py-4 text-sm text-[#888888] font-[family-name:var(--font-montserrat)]\">\n                        {record.date ? formatDate(record.date) : \"-\"}\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEA,EAAA,EAAA,CAAA,CAAA,OAEA,IAAM,EAAc,AAAC,GACZ,IAAI,KAAK,YAAY,CAAC,QAAS,CACpC,MAAO,WACP,SAAU,MACV,sBAAuB,CACzB,GAAG,MAAM,CAAC,GAGN,EAAa,AAAC,GAEX,CADG,aAAgB,EAAA,SAAS,CAAG,EAAK,MAAM,GAAK,CAAA,EAC7C,kBAAkB,CAAC,QAAS,CACnC,MAAO,QACP,IAAK,UACL,KAAM,SACR,GAmBa,SAAS,IACtB,IA+IQ,IAMA,EAKA,EA1JF,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAU,EAAE,EAC1C,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACjC,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,OAC1D,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,OAC1D,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAqC,SAE/E,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,IAAM,EAAc,CAAA,EAAA,EAAA,KAAA,AAAK,EACvB,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,EAAA,EAAE,CAAE,UACf,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,YAAa,SAGjB,EAAc,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,EAAc,AAAD,IAU1C,EATmB,EAAS,IAAI,CAAC,CASvB,EAT0B,CAAE,AAAD,IACnC,IAAM,EAAO,EAAI,IAAI,GACrB,MAAO,CACL,GAAI,EAAI,EAAE,CACV,GAAG,CAAI,CACP,UAAW,EAAK,SAAS,EAAE,YAAc,IAAI,KAC7C,UAAW,EAAK,SAAS,EAAE,YAAc,IAAI,IAC/C,CACF,IAEA,GAAW,EACb,GAEA,MAAO,IAAM,GACf,EAAG,EAAE,EA8BL,IAAM,EAAoB,KACxB,QAAM,EAA2B,EAAE,CAGnC,CA7BM,EAAQ,IAAI,KAAK,CADjB,EAAM,IAAI,MACW,WAAW,GAAI,EAAI,QAAQ,GAAI,EAAI,OAAO,IAE9D,EAAO,MAAM,CAAC,AAAC,IACpB,GAAI,AAAiB,gBAAX,MAAM,CAAkB,OAAO,EAEzC,IAAM,EAAY,EAAM,SAAS,YAAY,KAAO,EAAM,SAAS,CAAG,IAAI,KAE1E,OAAQ,GACN,IAAK,QACH,OAAO,GAAa,CACtB,KAAK,OACH,IAAM,EAAU,IAAI,KAAK,GAEzB,OADA,EAAQ,OAAO,CAAC,EAAQ,OAAO,GAAK,GAC7B,GAAa,CACtB,KAAK,QACH,IAAM,EAAW,IAAI,KAAK,GAE1B,OADA,EAAS,QAAQ,CAAC,EAAS,QAAQ,GAAK,GACjC,GAAa,CACtB,SACE,OAAO,CACX,CACF,IAQe,OAAO,CAAC,AAAC,IACtB,IAAM,EAAU,EAAM,OAAO,CAC7B,GAAI,CAAC,EAAS,OAEd,IAAM,EAAa,CACjB,QAAS,EAAM,EAAE,CACjB,SAAU,CAAC,CAAC,EAAE,EAAM,EAAE,CAAC,KAAK,CAAC,EAAG,GAAA,CAAI,CACpC,aAAc,EAAM,QAAQ,EAAI,UAChC,cAAe,EAAM,SAAS,CAC9B,UAAW,EAAM,SAAS,YAAY,KAAO,EAAM,SAAS,CAAG,IAAI,IACrE,EAGA,QAA8B,IAA1B,EAAQ,aAAa,EAAkB,EAAQ,aAAa,CAAG,EAAG,CAEpE,EAAQ,IAAI,CAAC,CACX,GAAG,CAAU,CACb,KAAM,UACN,OAAQ,EAAQ,aAAa,CAC7B,OAAQ,EAAQ,aAAa,EAAI,UACjC,OAAQ,EAAQ,WAAW,CAAG,OAAS,UACvC,KAAM,EAAQ,WAAW,YAAY,EAAA,SAAS,CAC1C,EAAQ,WAAW,CAAC,MAAM,GAC1B,EAAQ,WAAW,CACnB,EAAM,SAAS,YAAY,KAAO,EAAM,SAAS,CAAG,IAAI,UACxD,CACN,GAGA,IAAM,EAAgB,EAAQ,aAAa,EAAI,EAC3C,EAAgB,GAAG,AACrB,EAAQ,IAAI,CAAC,CACX,GAAG,CAAU,CACb,KAAM,UACN,OAAQ,EACR,OAAQ,EAAQ,aAAa,EAAI,UACjC,OAAQ,EAAQ,WAAW,CAAG,OAAS,UACvC,KAAM,EAAQ,WAAW,YAAY,EAAA,SAAS,CAC1C,EAAQ,WAAW,CAAC,MAAM,GAC1B,EAAQ,WAAW,CACnB,EAAM,SAAS,YAAY,KAAO,EAAM,SAAS,CAAG,IAAI,UACxD,CACN,EAEJ,MAEE,CAFK,CAEG,IAAI,CAAC,CACX,GAAG,CAAU,CACb,KAAM,OACN,OAAQ,EAAQ,WAAW,CAC3B,OAAQ,EAAQ,aAAa,EAAI,EAAM,aAAa,EAAI,UACxD,OAAQ,EAAQ,WAAW,CAAG,OAAS,UACvC,KAAM,EAAQ,WAAW,YAAY,EAAA,SAAS,CAC1C,EAAQ,WAAW,CAAC,MAAM,GAC1B,EAAQ,WAAW,CACnB,EAAM,SAAS,YAAY,KAAO,EAAM,SAAS,CAAG,IAAI,UACxD,CACN,EAEJ,GAGA,IAAI,EAAW,EAWf,MAVqB,OAAO,CAAxB,GACF,GAAW,EAAS,MAAM,CAAE,AAAD,GAAO,EAAE,MAAM,GAAK,EAAA,EAI5B,OAAO,CAAxB,IACF,EAAW,EAAS,MAAM,CAAC,AAAC,GAAM,EAAE,MAAM,GAAK,EAAA,EAI1C,EAAS,IAAI,CAAC,CAAC,EAAG,KACvB,IAAM,EAAQ,EAAE,IAAI,EAAI,EAAE,SAAS,CAEnC,MAAO,CADO,EAAE,IAAI,EAAI,EAAE,SAAA,AAAS,EACtB,OAAO,GAAK,EAAM,OAAO,EACxC,EACF,EAyBM,GAnBE,EAAY,GAFF,CAqBH,IAlBV,MAAM,CAAE,AAAD,GAAoB,SAAb,EAAE,MAAM,EACtB,MAAM,CAAC,CAAC,EAAK,IAAM,EAAM,EAAE,MAAM,CAAE,KAEjB,EAClB,MAAM,CAAC,AAAC,GAAmB,AAAb,cAAE,MAAM,EACtB,MAAM,CAAC,CAAC,EAAK,IAAM,EAAM,EAAE,MAAM,CAAE,KAGG,CAAC,EAC1C,EACG,MAAM,CAAC,AAAC,GAAmB,SAAb,EAAE,MAAM,EACtB,OAAO,CAAC,AAAC,IACR,CAAQ,CAAC,EAAE,MAAM,CAAC,CAAG,CAAC,CAAQ,CAAC,EAAE,MAAM,CAAC,GAAI,CAAC,CAAI,EAAE,MAAM,AAC3D,GAEK,CAAE,yBAAW,WAAc,CAAS,GAIvC,EAAiB,WAEvB,AAAI,EAEA,CAAA,EAAA,EAAA,EAFS,CAET,EAAC,MAAA,CAAI,UAAU,iDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0BAAiB,gCAMpC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8EACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,4EAAmE,YAGjF,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4EAAmE,iDAOpF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0BACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,qBACjE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,IAAK,EAAE,sDAG3E,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4EAAmE,gBAIrF,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iFACV,EAAY,EAAO,SAAS,IAE/B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4EAAmE,kBAKlF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2BACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,qBACjE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,IAAK,EAAE,oDAG3E,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,6EAAoE,mBAItF,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kFACV,EAAY,EAAO,YAAY,IAElC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4EAAmE,wBAKlF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0BACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,qBACjE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,IAAK,EAAE,oLAG3E,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4EAAmE,gBAIrF,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iFACV,EAAY,EAAO,SAAS,CAAG,EAAO,YAAY,IAErD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4EAAmE,sBAOnF,OAAO,IAAI,CAAC,EAAO,QAAQ,EAAE,MAAM,CAAG,GACrC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qDACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gFAAuE,8BAGrF,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iDACZ,OAAO,OAAO,CAAC,EAAO,QAAQ,EAAE,GAAG,CAAC,CAAC,CAAC,EAAQ,EAAO,GACpD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAiB,UAAU,qDAC1B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,0GACC,aAAX,EAAwB,oBAAsB,EAAO,MAAM,CAAC,GAAG,WAAW,GAAK,EAAO,KAAK,CAAC,KAE/F,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4EACV,EAAY,OALP,SAclB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iCACb,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,MAAO,EACP,SAAU,AAAC,GAAM,EAAa,EAAE,MAAM,CAAC,KAAK,EAC5C,UAAU,sKAEV,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,iBAAQ,UACtB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,gBAAO,gBACrB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,iBAAQ,iBACtB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,eAAM,gBAGtB,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,MAAO,EACP,SAAU,AAAC,GAAM,EAAgB,EAAE,MAAM,CAAC,KAAK,EAC/C,UAAU,sKAEV,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,eAAM,eACpB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,gBAAO,cACrB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,mBAAU,oBAG1B,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,MAAO,EACP,SAAU,AAAC,GAAM,EAAgB,EAAE,MAAM,CAAC,KAAK,EAC/C,UAAU,sKAEV,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,eAAM,gBACpB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,oBAAW,aACzB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,gBAAO,SACrB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,oBAAW,mBAK7B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iEACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,4EAAkE,oBAC5D,EAAe,MAAM,CAAC,SAIjB,IAA1B,EAAe,MAAM,CACpB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4BACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,oEAA2D,wDAK1E,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WAEE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+CACZ,EAAe,GAAG,CAAC,CAAC,EAAQ,IAC3B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAEC,UAAU,gBAEV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CACH,KAAK,gBACL,UAAU,4FAET,EAAO,QAAQ,GAElB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iFACV,EAAO,YAAY,MAGxB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACC,UAAW,CAAC,mEAAmE,EAC3D,AAAlB,WAAO,MAAM,CACT,qDACA,wDAAA,CACJ,UAED,EAAO,MAAM,MAGlB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sDACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,oEACb,EAAY,EAAO,MAAM,IAE5B,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,gFACb,EAAO,IAAI,CAAC,MAAI,EAAO,MAAM,EAAI,UAGrC,EAAO,IAAI,EACV,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iFACV,EAAW,EAAO,IAAI,MAnCtB,CAAA,EAAG,EAAO,OAAO,CAAC,CAAC,EAAE,EAAO,IAAI,CAAC,CAAC,EAAE,EAAA,CAAK,KA2CpD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2CACb,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,mBACf,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,kDACf,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,yHAAgH,UAG9H,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,yHAAgH,aAG9H,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,yHAAgH,SAG9H,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,yHAAgH,WAG9H,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,yHAAgH,WAG9H,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,yHAAgH,WAG9H,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,yHAAgH,cAKlI,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,qCACd,EAAe,GAAG,CAAC,CAAC,EAAQ,IAC3B,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAEC,UAAU,oDAEV,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qBACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CACH,KAAK,gBACL,UAAU,4FAET,EAAO,QAAQ,KAGpB,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,sBACZ,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4EACV,EAAO,YAAY,GAEtB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4EACV,EAAO,aAAa,MAGzB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,iGACX,EAAO,IAAI,GAEd,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,sFACX,EAAY,EAAO,MAAM,IAE5B,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,kFACX,AAAkB,cAAX,MAAM,CACZ,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,0BAAiB,MAEjC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,0BACK,aAAlB,EAAO,MAAM,CAAkB,WAAa,EAAO,MAAM,KAIhE,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qBACZ,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACC,UAAW,CAAC,mEAAmE,EAC3D,SAAlB,EAAO,MAAM,CACT,qDACA,wDAAA,CACJ,UAED,EAAO,MAAM,KAGlB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,sFACX,EAAO,IAAI,CAAG,EAAW,EAAO,IAAI,EAAI,QA9CtC,CAAA,EAAG,EAAO,OAAO,CAAC,CAAC,EAAE,EAAO,IAAI,CAAC,CAAC,EAAE,EAAA,CAAK,kBA0DpE"}