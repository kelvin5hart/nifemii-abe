module.exports=[71713,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944);a.i(69387);var e=a.i(60574),f=a.i(20237),g=a.i(1802),h=a.i(71987);let i=a=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0}).format(a);function j(){let a=(0,d.useRouter)(),[j,k]=(0,c.useState)("type"),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)([]),[r,s]=(0,c.useState)(!0),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)(""),[x,y]=(0,c.useState)(null),[z,A]=(0,c.useState)("ready-to-wear"),[B,C]=(0,c.useState)(""),[D,E]=(0,c.useState)(""),[F,G]=(0,c.useState)(null),[H,I]=(0,c.useState)([]),[J,K]=(0,c.useState)({fabricProvided:!1}),[L,M]=(0,c.useState)({}),[N,O]=(0,c.useState)([]),[P,Q]=(0,c.useState)(""),[R,S]=(0,c.useState)(""),[T,U]=(0,c.useState)(""),[V,W]=(0,c.useState)(""),[X,Y]=(0,c.useState)(""),[Z,$]=(0,c.useState)(!1),[_,aa]=(0,c.useState)("pickup"),[ab,ac]=(0,c.useState)({id:"",label:"",street:"",city:"",state:""}),[ad,ae]=(0,c.useState)(""),[af,ag]=(0,c.useState)("");(0,c.useEffect)(()=>{let a=(0,e.query)((0,e.collection)(f.db,"products"),(0,e.orderBy)("createdAt","desc")),b=(0,e.onSnapshot)(a,a=>{q(a.docs.map(a=>({id:a.id,...a.data()})).filter(a=>!1!==a.active)),s(!1)},a=>{console.error("Error fetching products:",a),s(!1)});return()=>b()},[]);let ah=a=>parseFloat(a.replace(/,/g,"").replace(/[^0-9.]/g,""))||0,ai=a=>{let b=a.replace(/[^0-9]/g,"");return b?parseInt(b).toLocaleString():""},aj=async()=>{if(!(B.length<10))try{let a=(0,g.formatPhoneNumber)(B),b=(0,e.query)((0,e.collection)(f.db,"users"),(0,e.where)("phone","==",a)),c=await (0,e.getDocs)(b);if(c.empty)G(null);else{let a=c.docs[0].data();G(c.docs[0].id),E(a.name||""),a.measurements&&M(a.measurements)}}catch(a){console.error("Error searching customer:",a)}},ak=p.filter(a=>a.name.toLowerCase().includes(v.toLowerCase())||a.sku?.toLowerCase().includes(v.toLowerCase())||a.category.toLowerCase().includes(v.toLowerCase())),al=(a,b)=>{let c=[...H],d=c[a],e=p.find(a=>a.id===d.productId),f=e?.sizes[d.size]||99;c[a].quantity=Math.max(1,Math.min(b,f)),I(c)},am=()=>{O([...N,{name:"",size:"",phone:""}])},an=(a,b,c)=>{let d=[...N];d[a][b]=c,O(d)},ao=()=>"ready-to-wear"===z?H.reduce((a,b)=>a+b.price*b.quantity,0)+ah(V):"bulk-bespoke"===z?N.length*ah(R)+ah(V):ah(T)+ah(V),ap=async()=>{m(!0),o("");try{let b=(0,g.formatPhoneNumber)(B),c=F;if(!c){let a=(0,e.doc)((0,e.collection)(f.db,"users"));c=a.id,await (0,e.setDoc)(a,{phone:b,name:D,measurements:L,createdAt:e.Timestamp.now(),createdBy:"admin"})}let d=ao(),h="ready-to-wear"===z?H.reduce((a,b)=>a+b.price*b.quantity,0):"bulk-bespoke"===z?N.length*ah(R):ah(T),i=ah(V),j=ah(X),k=d-j,l={subtotal:h,deliveryFee:i,totalAmount:d,balancePaid:!1};j>0&&(l.depositAmount=j,l.depositPaid=Z,l.balanceAmount=k);let m={userId:c,userPhone:b,userName:D,type:z,status:"pending",pricing:l,deliveryMethod:_,paymentMethod:"offline",createdBy:"admin",createdAt:e.Timestamp.now(),updatedAt:e.Timestamp.now()};"ready-to-wear"===z&&H.length>0&&(m.items=H),("full-bespoke"===z||"sew-only"===z)&&(m.serviceDetails=J,m.measurements=L),"bulk-bespoke"===z&&(m.bulkRecipients=N,m.bulkBaseProduct=P,m.bulkPricePerUnit=ah(R)),"delivery"===_&&(m.deliveryAddress=ab),af.trim()&&(m.notes=af),ad&&(m.dueDate=ad),await (0,e.addDoc)((0,e.collection)(f.db,"orders"),m),a.push("/admin/orders")}catch(a){console.error("Error creating order:",a),o("Failed to create order. Please try again.")}finally{m(!1)}};return(0,b.jsxs)("div",{className:"max-w-2xl",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("button",{onClick:()=>a.back(),className:"text-[#888888] hover:text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)] mb-4",children:"â† Back to Orders"}),(0,b.jsx)("h1",{className:"text-2xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5]",children:"Create New Order"})]}),(0,b.jsx)("div",{className:"flex gap-2 mb-8",children:["type","customer","details","pricing"].map((a,c)=>(0,b.jsx)("div",{className:`h-1 flex-1 ${["type","customer","details","pricing"].indexOf(j)>=c?"bg-[#c9a962]":"bg-[#2a2a2a]"}`},a))}),(0,b.jsx)("div",{className:"bg-[#111111] border border-[#1a1a1a] p-6",children:(()=>{switch(j){case"type":return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("h2",{className:"text-xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5]",children:"Select Order Type"}),(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[{value:"ready-to-wear",label:"Ready to Wear",desc:"Select from your product catalog",icon:"ðŸ‘—"},{value:"full-bespoke",label:"Full Bespoke",desc:"Custom made from scratch with fabric",icon:"âœ‚ï¸"},{value:"sew-only",label:"Sew Only",desc:"Customer provides their own fabric",icon:"ðŸ§µ"},{value:"bulk-bespoke",label:"Bulk Order",desc:"Multiple recipients with sizes",icon:"ðŸ“¦"}].map(a=>(0,b.jsx)("button",{onClick:()=>A(a.value),className:`p-4 border text-left transition-colors ${z===a.value?"border-[#c9a962] bg-[#c9a962]/10":"border-[#2a2a2a] hover:border-[#3a3a3a]"}`,children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:"text-2xl",children:a.icon}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-[#f5f5f5] font-[family-name:var(--font-montserrat)]",children:a.label}),(0,b.jsx)("p",{className:"text-sm text-[#888888] font-[family-name:var(--font-montserrat)] mt-1",children:a.desc})]})]})},a.value))}),(0,b.jsx)("button",{onClick:()=>k("customer"),className:"bg-[#c9a962] text-[#0a0a0a] px-6 py-2 font-[family-name:var(--font-montserrat)] hover:bg-[#d4b87a] transition-colors",children:"Continue"})]});case"customer":return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("h2",{className:"text-xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5]",children:"Customer Information"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Phone Number"}),(0,b.jsx)("div",{className:"flex gap-2",children:(0,b.jsx)("input",{type:"tel",value:B,onChange:a=>C(a.target.value.replace(/\D/g,"")),onBlur:aj,className:"flex-1 bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none",placeholder:"08012345678"})}),F&&(0,b.jsx)("p",{className:"text-green-400 text-sm mt-2 font-[family-name:var(--font-montserrat)]",children:"Existing customer found"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Customer Name"}),(0,b.jsx)("input",{type:"text",value:D,onChange:a=>E(a.target.value),className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none",placeholder:"Full name"})]})]}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("button",{onClick:()=>k("type"),className:"border border-[#2a2a2a] text-[#888888] px-6 py-2 font-[family-name:var(--font-montserrat)] hover:border-[#3a3a3a] hover:text-[#f5f5f5] transition-colors",children:"Back"}),(0,b.jsx)("button",{onClick:()=>k("details"),disabled:!B||!D,className:"bg-[#c9a962] text-[#0a0a0a] px-6 py-2 font-[family-name:var(--font-montserrat)] hover:bg-[#d4b87a] transition-colors disabled:opacity-50",children:"Continue"})]})]});case"details":return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("h2",{className:"text-xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5]",children:["ready-to-wear"===z&&"Select Products","full-bespoke"===z&&"Bespoke Order Details","sew-only"===z&&"Sew Only Details","bulk-bespoke"===z&&"Bulk Order Details"]}),"ready-to-wear"===z&&(0,b.jsxs)("div",{className:"space-y-4",children:[H.length>0&&(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("p",{className:"text-sm text-[#888888] font-[family-name:var(--font-montserrat)]",children:["Selected Items (",H.length,")"]}),H.map((a,c)=>(0,b.jsxs)("div",{className:"bg-[#0a0a0a] border border-[#1a1a1a] p-3 flex gap-3",children:[a.image&&(0,b.jsx)("div",{className:"w-16 h-16 bg-[#1a1a1a] flex-shrink-0 overflow-hidden",children:(0,b.jsx)(h.default,{src:a.image,alt:a.productName,width:64,height:64,className:"w-full h-full object-cover"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)]",children:a.productName}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[a.sku&&(0,b.jsx)("span",{className:"text-[10px] text-[#c9a962] bg-[#c9a962]/10 px-1.5 py-0.5",children:a.sku}),(0,b.jsxs)("span",{className:"text-xs text-[#888888]",children:["Size: ",a.size]})]})]}),(0,b.jsx)("button",{onClick:()=>{I(H.filter((a,b)=>b!==c))},className:"text-red-400 text-xs hover:text-red-300",children:"Remove"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>al(c,a.quantity-1),className:"w-6 h-6 border border-[#2a2a2a] text-[#888888] hover:border-[#c9a962] hover:text-[#c9a962]",children:"-"}),(0,b.jsx)("span",{className:"text-[#f5f5f5] text-sm w-8 text-center",children:a.quantity}),(0,b.jsx)("button",{onClick:()=>al(c,a.quantity+1),className:"w-6 h-6 border border-[#2a2a2a] text-[#888888] hover:border-[#c9a962] hover:text-[#c9a962]",children:"+"})]}),(0,b.jsx)("p",{className:"text-[#c9a962] text-sm font-[family-name:var(--font-montserrat)]",children:i(a.price*a.quantity)})]})]})]},`${a.productId}-${a.size}`)),(0,b.jsxs)("div",{className:"flex justify-between pt-2 border-t border-[#1a1a1a]",children:[(0,b.jsx)("span",{className:"text-[#888888] font-[family-name:var(--font-montserrat)]",children:"Subtotal"}),(0,b.jsx)("span",{className:"text-[#c9a962] font-[family-name:var(--font-montserrat)]",children:i(H.reduce((a,b)=>a+b.price*b.quantity,0))})]})]}),(0,b.jsx)("button",{onClick:()=>u(!0),className:"w-full py-3 border border-dashed border-[#2a2a2a] text-[#888888] hover:border-[#c9a962] hover:text-[#c9a962] transition-colors font-[family-name:var(--font-montserrat)]",children:"+ Add Product from Catalog"}),0===H.length&&(0,b.jsx)("p",{className:"text-center text-sm text-[#666666] font-[family-name:var(--font-montserrat)]",children:"No products added yet. Click above to select from your catalog."})]}),"full-bespoke"===z&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Style/Design Description *"}),(0,b.jsx)("textarea",{value:J.styleDescription||"",onChange:a=>K({...J,styleDescription:a.target.value}),rows:3,className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none resize-none",placeholder:"Describe the style (e.g., Agbada with embroidery, Senator style with gold buttons...)"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Fabric Details"}),(0,b.jsx)("textarea",{value:J.fabricDetails||"",onChange:a=>K({...J,fabricDetails:a.target.value}),rows:2,className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none resize-none",placeholder:"Fabric type, color, quantity needed..."})]}),(0,b.jsxs)("div",{className:"bg-[#0a0a0a] border border-[#1a1a1a] p-4",children:[(0,b.jsx)("h3",{className:"text-sm uppercase tracking-wider text-[#888888] mb-4 font-[family-name:var(--font-montserrat)]",children:"Measurements (inches)"}),(0,b.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[{key:"chest",label:"Chest"},{key:"waist",label:"Waist"},{key:"hips",label:"Hips"},{key:"shoulder",label:"Shoulder"},{key:"sleeveLength",label:"Sleeve"},{key:"shirtLength",label:"Shirt Length"},{key:"neck",label:"Neck"},{key:"trouserWaist",label:"Trouser Waist"},{key:"trouserLength",label:"Trouser Length"},{key:"thigh",label:"Thigh"},{key:"ankle",label:"Ankle"}].map(a=>(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs text-[#666666] mb-1 font-[family-name:var(--font-montserrat)]",children:a.label}),(0,b.jsx)("input",{type:"number",value:L[a.key]||"",onChange:b=>M({...L,[a.key]:parseFloat(b.target.value)||void 0}),className:"w-full bg-[#111111] border border-[#2a2a2a] px-2 py-1 text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none"})]},a.key))})]})]}),"sew-only"===z&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"bg-[#c9a962]/10 border border-[#c9a962]/30 p-4",children:(0,b.jsx)("p",{className:"text-[#c9a962] text-sm font-[family-name:var(--font-montserrat)]",children:"Customer provides their own fabric. This order is for labor/sewing only."})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"What to Make *"}),(0,b.jsx)("textarea",{value:J.styleDescription||"",onChange:a=>K({...J,styleDescription:a.target.value,fabricProvided:!0}),rows:3,className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none resize-none",placeholder:"Describe what should be made with the customer's fabric..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Fabric Received?"}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("button",{type:"button",onClick:()=>K({...J,fabricReceived:!0}),className:`flex-1 py-2 border ${!0===J.fabricReceived?"border-[#c9a962] text-[#c9a962]":"border-[#2a2a2a] text-[#888888]"} font-[family-name:var(--font-montserrat)]`,children:"Yes"}),(0,b.jsx)("button",{type:"button",onClick:()=>K({...J,fabricReceived:!1}),className:`flex-1 py-2 border ${!1===J.fabricReceived?"border-[#c9a962] text-[#c9a962]":"border-[#2a2a2a] text-[#888888]"} font-[family-name:var(--font-montserrat)]`,children:"Not Yet"})]})]}),(0,b.jsxs)("div",{className:"bg-[#0a0a0a] border border-[#1a1a1a] p-4",children:[(0,b.jsx)("h3",{className:"text-sm uppercase tracking-wider text-[#888888] mb-4 font-[family-name:var(--font-montserrat)]",children:"Measurements (inches)"}),(0,b.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[{key:"chest",label:"Chest"},{key:"waist",label:"Waist"},{key:"hips",label:"Hips"},{key:"shoulder",label:"Shoulder"},{key:"sleeveLength",label:"Sleeve"},{key:"shirtLength",label:"Shirt Length"},{key:"neck",label:"Neck"},{key:"trouserWaist",label:"Trouser Waist"},{key:"trouserLength",label:"Trouser Length"},{key:"thigh",label:"Thigh"},{key:"ankle",label:"Ankle"}].map(a=>(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs text-[#666666] mb-1 font-[family-name:var(--font-montserrat)]",children:a.label}),(0,b.jsx)("input",{type:"number",value:L[a.key]||"",onChange:b=>M({...L,[a.key]:parseFloat(b.target.value)||void 0}),className:"w-full bg-[#111111] border border-[#2a2a2a] px-2 py-1 text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none"})]},a.key))})]})]}),"bulk-bespoke"===z&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Base Product/Design *"}),(0,b.jsx)("input",{type:"text",value:P,onChange:a=>Q(a.target.value),className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none",placeholder:"e.g., Company Uniform - Blue Ankara"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Price Per Unit (â‚¦)"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#888888] font-[family-name:var(--font-montserrat)]",children:"â‚¦"}),(0,b.jsx)("input",{type:"text",inputMode:"numeric",value:R,onChange:a=>S(ai(a.target.value)),className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] pl-8 pr-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none",placeholder:"e.g., 25,000"})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("p",{className:"text-sm text-[#888888] font-[family-name:var(--font-montserrat)]",children:["Recipients (",N.length,")"]}),(0,b.jsx)("button",{onClick:am,className:"text-[#c9a962] text-sm font-[family-name:var(--font-montserrat)]",children:"+ Add Recipient"})]}),N.map((a,c)=>(0,b.jsxs)("div",{className:"bg-[#0a0a0a] border border-[#1a1a1a] p-3 space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("span",{className:"text-xs text-[#666666] font-[family-name:var(--font-montserrat)]",children:["Recipient ",c+1]}),(0,b.jsx)("button",{onClick:()=>{O(N.filter((a,b)=>b!==c))},className:"text-red-400 text-xs",children:"Remove"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,b.jsx)("input",{type:"text",value:a.name,onChange:a=>an(c,"name",a.target.value),className:"col-span-2 bg-[#111111] border border-[#2a2a2a] px-3 py-2 text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none",placeholder:"Name"}),(0,b.jsx)("input",{type:"text",value:a.size,onChange:a=>an(c,"size",a.target.value),className:"bg-[#111111] border border-[#2a2a2a] px-3 py-2 text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none",placeholder:"Size"})]}),(0,b.jsx)("input",{type:"tel",value:a.phone||"",onChange:a=>an(c,"phone",a.target.value.replace(/\D/g,"")),className:"w-full bg-[#111111] border border-[#2a2a2a] px-3 py-2 text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none",placeholder:"Phone (optional)"})]},c)),0===N.length&&(0,b.jsx)("p",{className:"text-center text-sm text-[#666666] py-4 font-[family-name:var(--font-montserrat)]",children:"No recipients added. Click above to add recipients with their sizes."}),N.length>0&&ah(R)>0&&(0,b.jsxs)("div",{className:"flex justify-between pt-2 border-t border-[#1a1a1a]",children:[(0,b.jsxs)("span",{className:"text-[#888888] font-[family-name:var(--font-montserrat)]",children:["Total (",N.length," Ã— ",i(ah(R)),")"]}),(0,b.jsx)("span",{className:"text-[#c9a962] font-[family-name:var(--font-montserrat)]",children:i(N.length*ah(R))})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("button",{onClick:()=>k("customer"),className:"border border-[#2a2a2a] text-[#888888] px-6 py-2 font-[family-name:var(--font-montserrat)] hover:border-[#3a3a3a] hover:text-[#f5f5f5] transition-colors",children:"Back"}),(0,b.jsx)("button",{onClick:()=>k("pricing"),disabled:"ready-to-wear"===z&&0===H.length||"bulk-bespoke"===z&&0===N.length,className:"bg-[#c9a962] text-[#0a0a0a] px-6 py-2 font-[family-name:var(--font-montserrat)] hover:bg-[#d4b87a] transition-colors disabled:opacity-50",children:"Continue"})]})]});case"pricing":return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("h2",{className:"text-xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5]",children:"Pricing & Delivery"}),(0,b.jsxs)("div",{className:"space-y-4",children:[("full-bespoke"===z||"sew-only"===z)&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"sew-only"===z?"Labor Cost (â‚¦)":"Total Price (â‚¦)"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#888888] font-[family-name:var(--font-montserrat)]",children:"â‚¦"}),(0,b.jsx)("input",{type:"text",inputMode:"numeric",value:T,onChange:a=>U(ai(a.target.value)),className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] pl-8 pr-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none",placeholder:"e.g., 50,000"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Delivery Method"}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("button",{type:"button",onClick:()=>aa("pickup"),className:`flex-1 py-2 border ${"pickup"===_?"border-[#c9a962] text-[#c9a962]":"border-[#2a2a2a] text-[#888888]"} font-[family-name:var(--font-montserrat)]`,children:"Pickup"}),(0,b.jsx)("button",{type:"button",onClick:()=>aa("delivery"),className:`flex-1 py-2 border ${"delivery"===_?"border-[#c9a962] text-[#c9a962]":"border-[#2a2a2a] text-[#888888]"} font-[family-name:var(--font-montserrat)]`,children:"Delivery"})]})]}),"delivery"===_&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Delivery Fee (â‚¦)"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#888888] font-[family-name:var(--font-montserrat)]",children:"â‚¦"}),(0,b.jsx)("input",{type:"text",inputMode:"numeric",value:V,onChange:a=>W(ai(a.target.value)),className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] pl-8 pr-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none",placeholder:"e.g., 2,000"})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("input",{type:"text",value:ab.street,onChange:a=>ac({...ab,street:a.target.value}),className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none",placeholder:"Street address"}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("input",{type:"text",value:ab.city,onChange:a=>ac({...ab,city:a.target.value}),className:"flex-1 bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none",placeholder:"City"}),(0,b.jsx)("input",{type:"text",value:ab.state,onChange:a=>ac({...ab,state:a.target.value}),className:"flex-1 bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none",placeholder:"State"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Deposit Amount (â‚¦)"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#888888] font-[family-name:var(--font-montserrat)]",children:"â‚¦"}),(0,b.jsx)("input",{type:"text",inputMode:"numeric",value:X,onChange:a=>Y(ai(a.target.value)),className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] pl-8 pr-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none",placeholder:"e.g., 25,000"})]})]}),ah(X)>0&&(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("input",{type:"checkbox",id:"depositPaid",checked:Z,onChange:a=>$(a.target.checked),className:"w-4 h-4 accent-[#c9a962]"}),(0,b.jsx)("label",{htmlFor:"depositPaid",className:"text-[#f5f5f5] font-[family-name:var(--font-montserrat)]",children:"Deposit paid"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Due Date (Customer's Deadline)"}),(0,b.jsx)("input",{type:"date",value:ad,onChange:a=>ae(a.target.value),min:new Date().toISOString().split("T")[0],className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none [&::-webkit-calendar-picker-indicator]:invert"}),(0,b.jsx)("p",{className:"text-xs text-[#666666] mt-1 font-[family-name:var(--font-montserrat)]",children:"When does the customer need this order by?"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Notes"}),(0,b.jsx)("textarea",{value:af,onChange:a=>ag(a.target.value),rows:2,className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none resize-none",placeholder:"Additional notes..."})]}),(0,b.jsxs)("div",{className:"bg-[#0a0a0a] border border-[#1a1a1a] p-4",children:[(0,b.jsxs)("div",{className:"flex justify-between text-[#f5f5f5] font-[family-name:var(--font-montserrat)]",children:[(0,b.jsx)("span",{children:"Total"}),(0,b.jsx)("span",{className:"text-[#c9a962]",children:i(ao())})]}),ah(X)>0&&(0,b.jsxs)("div",{className:"flex justify-between text-sm text-[#888888] mt-2 font-[family-name:var(--font-montserrat)]",children:[(0,b.jsx)("span",{children:"Balance due"}),(0,b.jsx)("span",{children:i(ao()-ah(X))})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("button",{onClick:()=>k("details"),className:"border border-[#2a2a2a] text-[#888888] px-6 py-2 font-[family-name:var(--font-montserrat)] hover:border-[#3a3a3a] hover:text-[#f5f5f5] transition-colors",children:"Back"}),(0,b.jsx)("button",{onClick:ap,disabled:l,className:"bg-[#c9a962] text-[#0a0a0a] px-6 py-2 font-[family-name:var(--font-montserrat)] hover:bg-[#d4b87a] transition-colors disabled:opacity-50",children:l?"Creating...":"Create Order"})]}),n&&(0,b.jsx)("p",{className:"text-red-400 text-sm font-[family-name:var(--font-montserrat)]",children:n})]});default:return null}})()}),t&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"bg-[#111111] border border-[#1a1a1a] w-full max-w-2xl max-h-[80vh] flex flex-col",children:[(0,b.jsxs)("div",{className:"p-4 border-b border-[#1a1a1a] flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"text-lg font-[family-name:var(--font-cormorant)] text-[#f5f5f5]",children:x?"Select Size":"Select Product"}),(0,b.jsx)("button",{onClick:()=>{u(!1),y(null),w("")},className:"text-[#888888] hover:text-[#f5f5f5]",children:"âœ•"})]}),x?(0,b.jsxs)("div",{className:"p-4",children:[(0,b.jsxs)("div",{className:"flex gap-4 mb-4",children:[x.images[0]&&(0,b.jsx)("div",{className:"w-24 h-24 bg-[#0a0a0a] flex-shrink-0 overflow-hidden",children:(0,b.jsx)(h.default,{src:x.images[0],alt:x.name,width:96,height:96,className:"w-full h-full object-cover"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-[#f5f5f5] font-[family-name:var(--font-montserrat)]",children:x.name}),x.sku&&(0,b.jsx)("p",{className:"text-xs text-[#c9a962] mt-1",children:x.sku}),(0,b.jsx)("p",{className:"text-[#c9a962] mt-2 font-[family-name:var(--font-montserrat)]",children:i(x.salePrice||x.price)})]})]}),(0,b.jsx)("p",{className:"text-sm text-[#888888] mb-3 font-[family-name:var(--font-montserrat)]",children:"Select Size:"}),(0,b.jsx)("div",{className:"grid grid-cols-4 gap-2",children:Object.entries(x.sizes).map(([a,c])=>(0,b.jsxs)("button",{onClick:()=>(a=>{if(!x)return;let b=x.sizes[a]||0;if(b<=0)return;let c=H.findIndex(b=>b.productId===x.id&&b.size===a);if(c>=0){let a=[...H],d=a[c].quantity;d<b&&(a[c].quantity=d+1,I(a))}else I([...H,{productId:x.id,productName:x.name,sku:x.sku,size:a,quantity:1,price:x.salePrice||x.price,image:x.images[0]}]);y(null),u(!1),w("")})(a),disabled:0===c,className:`py-3 border text-center font-[family-name:var(--font-montserrat)] transition-colors ${0===c?"border-[#1a1a1a] text-[#444444] cursor-not-allowed":"border-[#2a2a2a] text-[#f5f5f5] hover:border-[#c9a962] hover:text-[#c9a962]"}`,children:[(0,b.jsx)("span",{className:"block text-sm",children:a}),(0,b.jsx)("span",{className:`block text-xs mt-1 ${0===c?"text-red-400":"text-[#666666]"}`,children:0===c?"Out":`${c} left`})]},a))}),(0,b.jsx)("button",{onClick:()=>y(null),className:"mt-4 w-full py-2 border border-[#2a2a2a] text-[#888888] hover:border-[#3a3a3a] hover:text-[#f5f5f5] font-[family-name:var(--font-montserrat)] transition-colors",children:"â† Back to Products"})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"p-4 border-b border-[#1a1a1a]",children:(0,b.jsx)("input",{type:"text",value:v,onChange:a=>w(a.target.value),placeholder:"Search by name, SKU, or category...",className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none"})}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:r?(0,b.jsx)("div",{className:"text-center py-8",children:(0,b.jsx)("div",{className:"w-6 h-6 border-2 border-[#c9a962] border-t-transparent rounded-full animate-spin mx-auto"})}):0===ak.length?(0,b.jsx)("div",{className:"text-center py-8 text-[#888888] font-[family-name:var(--font-montserrat)]",children:"No products found"}):(0,b.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:ak.map(a=>{let c=Object.values(a.sizes).reduce((a,b)=>a+b,0);return(0,b.jsxs)("button",{onClick:()=>{y(a)},disabled:0===c,className:`text-left border transition-colors ${0===c?"border-[#1a1a1a] opacity-50 cursor-not-allowed":"border-[#2a2a2a] hover:border-[#c9a962]"}`,children:[(0,b.jsxs)("div",{className:"aspect-square bg-[#0a0a0a] relative",children:[a.images[0]?(0,b.jsx)(h.default,{src:a.images[0],alt:a.name,fill:!0,className:"object-cover"}):(0,b.jsx)("div",{className:"w-full h-full flex items-center justify-center text-[#2a2a2a]",children:"No Image"}),0===c&&(0,b.jsx)("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-red-400 text-xs font-[family-name:var(--font-montserrat)]",children:"Out of Stock"})})]}),(0,b.jsxs)("div",{className:"p-2",children:[(0,b.jsx)("p",{className:"text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)] truncate",children:a.name}),(0,b.jsxs)("div",{className:"flex items-center justify-between mt-1",children:[(0,b.jsx)("span",{className:"text-xs text-[#c9a962]",children:i(a.salePrice||a.price)}),a.sku&&(0,b.jsx)("span",{className:"text-[10px] text-[#666666]",children:a.sku})]})]})]},a.id)})})})]})]})})]})}a.s(["default",()=>j])}];

//# sourceMappingURL=src_app_admin_orders_new_page_tsx_b1286650._.js.map