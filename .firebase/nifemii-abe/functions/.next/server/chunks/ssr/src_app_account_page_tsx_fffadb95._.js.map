{"version":3,"sources":["../../../../src/app/account/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { collection, query, where, orderBy, onSnapshot, limit } from \"firebase/firestore\";\nimport { db } from \"@/lib/firebase\";\nimport { useAuth } from \"@/contexts/AuthContext\";\nimport Link from \"next/link\";\nimport { Order, Appointment } from \"@/lib/firebase-types\";\n\nconst formatPrice = (price: number) => {\n  return new Intl.NumberFormat(\"en-NG\", {\n    style: \"currency\",\n    currency: \"NGN\",\n    minimumFractionDigits: 0,\n  }).format(price);\n};\n\nconst getStatusColor = (status: string) => {\n  switch (status) {\n    case \"pending\":\n      return \"bg-yellow-500/20 text-yellow-400\";\n    case \"confirmed\":\n      return \"bg-blue-500/20 text-blue-400\";\n    case \"in-progress\":\n      return \"bg-purple-500/20 text-purple-400\";\n    case \"ready\":\n      return \"bg-green-500/20 text-green-400\";\n    case \"delivered\":\n      return \"bg-green-500/20 text-green-400\";\n    case \"cancelled\":\n      return \"bg-red-500/20 text-red-400\";\n    default:\n      return \"bg-[#2a2a2a] text-[#888888]\";\n  }\n};\n\nexport default function AccountDashboardPage() {\n  const { user, setPassword } = useAuth();\n  const [showPasswordForm, setShowPasswordForm] = useState(false);\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [passwordLoading, setPasswordLoading] = useState(false);\n  const [passwordError, setPasswordError] = useState(\"\");\n  const [passwordSuccess, setPasswordSuccess] = useState(\"\");\n  const [showNewPassword, setShowNewPassword] = useState(false);\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\n\n  // Stats\n  const [activeOrders, setActiveOrders] = useState(0);\n  const [upcomingAppointments, setUpcomingAppointments] = useState(0);\n  const [recentOrders, setRecentOrders] = useState<Order[]>([]);\n  const [appointments, setAppointments] = useState<Appointment[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    if (!user?.phone) {\n      setLoading(false);\n      return;\n    }\n\n    // Listen to user's orders\n    const ordersQuery = query(\n      collection(db, \"orders\"),\n      where(\"userPhone\", \"==\", user.phone),\n      orderBy(\"createdAt\", \"desc\"),\n      limit(5)\n    );\n\n    const unsubOrders = onSnapshot(ordersQuery, (snapshot) => {\n      const orders = snapshot.docs.map((doc) => ({\n        id: doc.id,\n        ...doc.data(),\n        createdAt: doc.data().createdAt?.toDate?.() || new Date(),\n      })) as Order[];\n\n      // Count active orders (not delivered or cancelled)\n      const active = orders.filter(\n        (o) => ![\"delivered\", \"cancelled\"].includes(o.status)\n      ).length;\n\n      setActiveOrders(active);\n      setRecentOrders(orders);\n      setLoading(false);\n    }, () => {\n      setLoading(false);\n    });\n\n    // Listen to user's upcoming appointments\n    const today = new Date().toISOString().split(\"T\")[0];\n    const appointmentsQuery = query(\n      collection(db, \"appointments\"),\n      where(\"userPhone\", \"==\", user.phone),\n      where(\"date\", \">=\", today),\n      where(\"status\", \"in\", [\"pending\", \"confirmed\"])\n    );\n\n    const unsubAppointments = onSnapshot(appointmentsQuery, (snapshot) => {\n      const apts = snapshot.docs.map((doc) => ({\n        id: doc.id,\n        ...doc.data(),\n      })) as Appointment[];\n\n      setUpcomingAppointments(apts.length);\n      setAppointments(apts.slice(0, 3));\n    }, () => {\n      // Index may not exist\n    });\n\n    return () => {\n      unsubOrders();\n      unsubAppointments();\n    };\n  }, [user?.phone]);\n\n  const handleSetPassword = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setPasswordError(\"\");\n    setPasswordSuccess(\"\");\n\n    if (newPassword !== confirmPassword) {\n      setPasswordError(\"Passwords do not match\");\n      return;\n    }\n\n    if (newPassword.length < 6) {\n      setPasswordError(\"Password must be at least 6 characters\");\n      return;\n    }\n\n    setPasswordLoading(true);\n    try {\n      const result = await setPassword(newPassword);\n      if (result.success) {\n        setPasswordSuccess(result.message);\n        setNewPassword(\"\");\n        setConfirmPassword(\"\");\n        setShowPasswordForm(false);\n      } else {\n        setPasswordError(result.message);\n      }\n    } catch {\n      setPasswordError(\"Failed to set password. Please try again.\");\n    } finally {\n      setPasswordLoading(false);\n    }\n  };\n\n  return (\n    <div>\n        {/* Header */}\n        <div className=\"mb-8\">\n          <h1 className=\"text-2xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5]\">\n            Welcome{user?.name ? `, ${user.name}` : \"\"}!\n          </h1>\n          <p className=\"text-[#888888] text-sm font-[family-name:var(--font-montserrat)]\">\n            Manage your orders, appointments, and profile\n          </p>\n        </div>\n\n        {/* Quick Stats */}\n        <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8\">\n          <Link\n            href=\"/account/orders\"\n            className=\"bg-[#111111] border border-[#1a1a1a] p-6 hover:border-[#c9a962]/50 transition-colors\"\n          >\n            <p className=\"text-2xl font-[family-name:var(--font-cormorant)] text-[#c9a962] mb-1\">\n              {loading ? \"...\" : activeOrders}\n            </p>\n            <p className=\"text-[#888888] text-sm font-[family-name:var(--font-montserrat)]\">\n              Active Orders\n            </p>\n          </Link>\n          <Link\n            href=\"/account/appointments\"\n            className=\"bg-[#111111] border border-[#1a1a1a] p-6 hover:border-[#c9a962]/50 transition-colors\"\n          >\n            <p className=\"text-2xl font-[family-name:var(--font-cormorant)] text-[#c9a962] mb-1\">\n              {loading ? \"...\" : upcomingAppointments}\n            </p>\n            <p className=\"text-[#888888] text-sm font-[family-name:var(--font-montserrat)]\">\n              Upcoming Appointments\n            </p>\n          </Link>\n          <Link\n            href=\"/account/profile\"\n            className=\"bg-[#111111] border border-[#1a1a1a] p-6 hover:border-[#c9a962]/50 transition-colors\"\n          >\n            <p className=\"text-2xl font-[family-name:var(--font-cormorant)] text-[#c9a962] mb-1\">\n              {user?.name ? \"Complete\" : \"Incomplete\"}\n            </p>\n            <p className=\"text-[#888888] text-sm font-[family-name:var(--font-montserrat)]\">\n              Profile\n            </p>\n          </Link>\n        </div>\n\n        {/* Password Setup Card - Only show if user doesn't have password */}\n        {!user?.hasPassword && (\n          <div className=\"bg-[#c9a962]/10 border border-[#c9a962]/30 p-6 mb-6\">\n            <div className=\"flex items-start justify-between\">\n              <div>\n                <h3 className=\"text-[#c9a962] font-[family-name:var(--font-cormorant)] text-lg mb-1\">\n                  Set Up Password Login\n                </h3>\n                <p className=\"text-[#888888] text-sm font-[family-name:var(--font-montserrat)]\">\n                  Create a password to sign in faster without OTP each time\n                </p>\n              </div>\n              {!showPasswordForm && (\n                <button\n                  onClick={() => setShowPasswordForm(true)}\n                  className=\"text-[#c9a962] text-sm font-[family-name:var(--font-montserrat)] hover:underline whitespace-nowrap ml-4\"\n                >\n                  Set Password\n                </button>\n              )}\n            </div>\n\n            {showPasswordForm && (\n              <form onSubmit={handleSetPassword} className=\"mt-4 space-y-4\">\n                {passwordError && (\n                  <div className=\"bg-red-500/10 border border-red-500/50 text-red-400 px-4 py-2 text-sm font-[family-name:var(--font-montserrat)]\">\n                    {passwordError}\n                  </div>\n                )}\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]\">\n                      New Password\n                    </label>\n                    <div className=\"relative\">\n                      <input\n                        type={showNewPassword ? \"text\" : \"password\"}\n                        value={newPassword}\n                        onChange={(e) => setNewPassword(e.target.value)}\n                        required\n                        minLength={6}\n                        className=\"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 pr-10 text-[#f5f5f5] focus:border-[#c9a962] focus:outline-none transition-colors font-[family-name:var(--font-montserrat)] text-sm\"\n                        placeholder=\"Min 6 characters\"\n                      />\n                      <button\n                        type=\"button\"\n                        onClick={() => setShowNewPassword(!showNewPassword)}\n                        className=\"absolute right-3 top-1/2 -translate-y-1/2 text-[#888888] hover:text-[#c9a962] transition-colors\"\n                        aria-label={showNewPassword ? \"Hide password\" : \"Show password\"}\n                      >\n                        {showNewPassword ? (\n                          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88\" />\n                          </svg>\n                        ) : (\n                          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z\" />\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n                          </svg>\n                        )}\n                      </button>\n                    </div>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]\">\n                      Confirm Password\n                    </label>\n                    <div className=\"relative\">\n                      <input\n                        type={showConfirmPassword ? \"text\" : \"password\"}\n                        value={confirmPassword}\n                        onChange={(e) => setConfirmPassword(e.target.value)}\n                        required\n                        minLength={6}\n                        className=\"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 pr-10 text-[#f5f5f5] focus:border-[#c9a962] focus:outline-none transition-colors font-[family-name:var(--font-montserrat)] text-sm\"\n                        placeholder=\"Repeat password\"\n                      />\n                      <button\n                        type=\"button\"\n                        onClick={() => setShowConfirmPassword(!showConfirmPassword)}\n                        className=\"absolute right-3 top-1/2 -translate-y-1/2 text-[#888888] hover:text-[#c9a962] transition-colors\"\n                        aria-label={showConfirmPassword ? \"Hide password\" : \"Show password\"}\n                      >\n                        {showConfirmPassword ? (\n                          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88\" />\n                          </svg>\n                        ) : (\n                          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z\" />\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n                          </svg>\n                        )}\n                      </button>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"flex gap-3\">\n                  <button\n                    type=\"submit\"\n                    disabled={passwordLoading}\n                    className=\"bg-[#c9a962] text-[#0a0a0a] px-6 py-2 font-[family-name:var(--font-montserrat)] text-sm uppercase tracking-wider hover:bg-[#d4b87a] transition-colors disabled:opacity-50\"\n                  >\n                    {passwordLoading ? \"Setting...\" : \"Set Password\"}\n                  </button>\n                  <button\n                    type=\"button\"\n                    onClick={() => {\n                      setShowPasswordForm(false);\n                      setNewPassword(\"\");\n                      setConfirmPassword(\"\");\n                      setPasswordError(\"\");\n                    }}\n                    className=\"text-[#888888] px-4 py-2 font-[family-name:var(--font-montserrat)] text-sm hover:text-[#f5f5f5] transition-colors\"\n                  >\n                    Cancel\n                  </button>\n                </div>\n              </form>\n            )}\n          </div>\n        )}\n\n        {/* Password Already Set */}\n        {user?.hasPassword && passwordSuccess && (\n          <div className=\"bg-green-500/10 border border-green-500/50 text-green-400 px-4 py-3 mb-6 text-sm font-[family-name:var(--font-montserrat)]\">\n            {passwordSuccess}\n          </div>\n        )}\n\n        {/* Recent Orders */}\n        <div className=\"bg-[#111111] border border-[#1a1a1a] p-6 mb-6\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <h2 className=\"text-lg font-[family-name:var(--font-cormorant)] text-[#f5f5f5]\">\n              Recent Orders\n            </h2>\n            <Link\n              href=\"/account/orders\"\n              className=\"text-[#c9a962] text-sm font-[family-name:var(--font-montserrat)] hover:underline\"\n            >\n              View All\n            </Link>\n          </div>\n          {loading ? (\n            <div className=\"flex justify-center py-8\">\n              <div className=\"w-6 h-6 border-2 border-[#c9a962] border-t-transparent rounded-full animate-spin\"></div>\n            </div>\n          ) : recentOrders.length === 0 ? (\n            <div className=\"text-center py-8\">\n              <svg\n                className=\"w-12 h-12 text-[#2a2a2a] mx-auto mb-4\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={1}\n                  d=\"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z\"\n                />\n              </svg>\n              <p className=\"text-[#888888] text-sm font-[family-name:var(--font-montserrat)] mb-4\">\n                You haven&apos;t placed any orders yet\n              </p>\n              <Link\n                href=\"/shop\"\n                className=\"inline-block bg-[#c9a962] text-[#0a0a0a] px-6 py-2 font-[family-name:var(--font-montserrat)] text-sm uppercase tracking-wider hover:bg-[#d4b87a] transition-colors\"\n              >\n                Browse Shop\n              </Link>\n            </div>\n          ) : (\n            <div className=\"space-y-3\">\n              {recentOrders.map((order) => (\n                <Link\n                  key={order.id}\n                  href=\"/account/orders\"\n                  className=\"flex items-center justify-between p-3 bg-[#0a0a0a] hover:bg-[#1a1a1a] transition-colors\"\n                >\n                  <div>\n                    <p className=\"text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)]\">\n                      #{order.id.slice(-6).toUpperCase()}\n                    </p>\n                    <p className=\"text-[#888888] text-xs font-[family-name:var(--font-montserrat)]\">\n                      {order.type.replace(\"-\", \" \")}\n                    </p>\n                  </div>\n                  <div className=\"text-right\">\n                    <p className=\"text-[#c9a962] text-sm font-[family-name:var(--font-montserrat)]\">\n                      {formatPrice(order.pricing?.totalAmount || 0)}\n                    </p>\n                    <span className={`inline-block px-2 py-0.5 text-xs ${getStatusColor(order.status)}`}>\n                      {order.status}\n                    </span>\n                  </div>\n                </Link>\n              ))}\n            </div>\n          )}\n        </div>\n\n        {/* Upcoming Appointments */}\n        <div className=\"bg-[#111111] border border-[#1a1a1a] p-6\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <h2 className=\"text-lg font-[family-name:var(--font-cormorant)] text-[#f5f5f5]\">\n              Upcoming Appointments\n            </h2>\n            <Link\n              href=\"/account/appointments\"\n              className=\"text-[#c9a962] text-sm font-[family-name:var(--font-montserrat)] hover:underline\"\n            >\n              View All\n            </Link>\n          </div>\n          {loading ? (\n            <div className=\"flex justify-center py-8\">\n              <div className=\"w-6 h-6 border-2 border-[#c9a962] border-t-transparent rounded-full animate-spin\"></div>\n            </div>\n          ) : appointments.length === 0 ? (\n            <div className=\"text-center py-8\">\n              <svg\n                className=\"w-12 h-12 text-[#2a2a2a] mx-auto mb-4\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={1}\n                  d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"\n                />\n              </svg>\n              <p className=\"text-[#888888] text-sm font-[family-name:var(--font-montserrat)] mb-4\">\n                No upcoming appointments\n              </p>\n              <Link\n                href=\"/account/appointments/book\"\n                className=\"inline-block bg-[#c9a962] text-[#0a0a0a] px-6 py-2 font-[family-name:var(--font-montserrat)] text-sm uppercase tracking-wider hover:bg-[#d4b87a] transition-colors\"\n              >\n                Book Consultation\n              </Link>\n            </div>\n          ) : (\n            <div className=\"space-y-3\">\n              {appointments.map((apt) => (\n                <Link\n                  key={apt.id}\n                  href=\"/account/appointments\"\n                  className=\"flex items-center justify-between p-3 bg-[#0a0a0a] hover:bg-[#1a1a1a] transition-colors\"\n                >\n                  <div>\n                    <p className=\"text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)] capitalize\">\n                      {apt.type.replace(\"-\", \" \")}\n                    </p>\n                    <p className=\"text-[#888888] text-xs font-[family-name:var(--font-montserrat)]\">\n                      {apt.timeSlot}\n                    </p>\n                  </div>\n                  <div className=\"text-right\">\n                    <p className=\"text-[#c9a962] text-sm font-[family-name:var(--font-montserrat)]\">\n                      {apt.date}\n                    </p>\n                    <span className={`inline-block px-2 py-0.5 text-xs ${getStatusColor(apt.status)}`}>\n                      {apt.status}\n                    </span>\n                  </div>\n                </Link>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n  );\n}\n"],"names":[],"mappings":"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"}