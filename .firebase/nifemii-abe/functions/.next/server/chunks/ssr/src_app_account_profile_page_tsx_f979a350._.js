module.exports=[13211,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.i(69387);var d=a.i(60574),e=a.i(20237),f=a.i(11642);let g=["Abia","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Edo","Ekiti","Enugu","FCT","Gombe","Imo","Jigawa","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nasarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara"];function h(){let{user:a,signOut:h}=(0,f.useAuth)(),[i,j]=(0,c.useState)(""),[k,l]=(0,c.useState)(""),[m,n]=(0,c.useState)([]),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(null),[y,z]=(0,c.useState)({id:"",label:"",street:"",city:"",state:"",landmark:"",isDefault:!1});(0,c.useEffect)(()=>{a&&(j(a.name||""),l(a.email||""),n(a.addresses||[]))},[a]);let A=async()=>{if(a?.id){r(!0),t(!1);try{await (0,d.updateDoc)((0,d.doc)(e.db,"users",a.id),{name:i,email:k||null,updatedAt:d.Timestamp.now()}),p(!1),t(!0),setTimeout(()=>t(!1),3e3)}catch(a){console.error("Error saving profile:",a)}finally{r(!1)}}},B=async()=>{if(!a?.id)return;let b=[...m];if(null!==w)b[w]={...y,id:m[w].id};else{let a={...y,id:Date.now().toString()};a.isDefault&&(b=b.map(a=>({...a,isDefault:!1}))),b.push(a)}y.isDefault&&(b=b.map((a,b)=>({...a,isDefault:null!==w?b===w:a.id===y.id})));try{await (0,d.updateDoc)((0,d.doc)(e.db,"users",a.id),{addresses:b,updatedAt:d.Timestamp.now()}),n(b),D()}catch(a){console.error("Error saving address:",a)}},C=async b=>{if(!a?.id||!confirm("Delete this address?"))return;let c=m.filter((a,c)=>c!==b);try{await (0,d.updateDoc)((0,d.doc)(e.db,"users",a.id),{addresses:c,updatedAt:d.Timestamp.now()}),n(c)}catch(a){console.error("Error deleting address:",a)}},D=()=>{v(!1),x(null),z({id:"",label:"",street:"",city:"",state:"",landmark:"",isDefault:!1})},E=async()=>{confirm("Are you sure you want to sign out?")&&(await h(),window.location.href="/")};return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-2xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5]",children:"My Profile"}),(0,b.jsx)("p",{className:"text-[#888888] text-sm font-[family-name:var(--font-montserrat)]",children:"Manage your personal information and addresses"})]}),(0,b.jsxs)("div",{className:"bg-[#111111] border border-[#1a1a1a] mb-6",children:[(0,b.jsxs)("div",{className:"p-6 border-b border-[#1a1a1a] flex items-center justify-between",children:[(0,b.jsx)("h2",{className:"text-lg font-[family-name:var(--font-cormorant)] text-[#f5f5f5]",children:"Personal Information"}),!o&&(0,b.jsx)("button",{onClick:()=>p(!0),className:"text-[#c9a962] text-sm font-[family-name:var(--font-montserrat)]",children:"Edit"})]}),(0,b.jsxs)("div",{className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Phone Number"}),(0,b.jsxs)("div",{className:"bg-[#0a0a0a] border border-[#1a1a1a] px-4 py-3",children:[(0,b.jsx)("span",{className:"text-[#f5f5f5] font-[family-name:var(--font-montserrat)]",children:a?.phone}),(0,b.jsx)("span",{className:"text-[#888888] text-xs ml-2 font-[family-name:var(--font-montserrat)]",children:"(cannot be changed)"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Full Name"}),o?(0,b.jsx)("input",{type:"text",value:i,onChange:a=>j(a.target.value),className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none",placeholder:"Enter your full name"}):(0,b.jsx)("div",{className:"bg-[#0a0a0a] border border-[#1a1a1a] px-4 py-3",children:(0,b.jsx)("span",{className:"text-[#f5f5f5] font-[family-name:var(--font-montserrat)]",children:i||"Not set"})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Email (optional)"}),o?(0,b.jsx)("input",{type:"email",value:k,onChange:a=>l(a.target.value),className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none",placeholder:"Enter your email address"}):(0,b.jsx)("div",{className:"bg-[#0a0a0a] border border-[#1a1a1a] px-4 py-3",children:(0,b.jsx)("span",{className:"text-[#f5f5f5] font-[family-name:var(--font-montserrat)]",children:k||"Not set"})})]}),o&&(0,b.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,b.jsx)("button",{onClick:()=>{p(!1),j(a?.name||""),l(a?.email||"")},className:"flex-1 border border-[#2a2a2a] text-[#888888] py-2 font-[family-name:var(--font-montserrat)] hover:border-[#3a3a3a] hover:text-[#f5f5f5] transition-colors",children:"Cancel"}),(0,b.jsx)("button",{onClick:A,disabled:q,className:"flex-1 bg-[#c9a962] text-[#0a0a0a] py-2 font-[family-name:var(--font-montserrat)] hover:bg-[#d4b87a] transition-colors disabled:opacity-50",children:q?"Saving...":s?"Saved!":"Save Changes"})]})]})]}),(0,b.jsxs)("div",{className:"bg-[#111111] border border-[#1a1a1a] mb-6",children:[(0,b.jsxs)("div",{className:"p-6 border-b border-[#1a1a1a] flex items-center justify-between",children:[(0,b.jsx)("h2",{className:"text-lg font-[family-name:var(--font-cormorant)] text-[#f5f5f5]",children:"Saved Addresses"}),(0,b.jsx)("button",{onClick:()=>v(!0),className:"text-[#c9a962] text-sm font-[family-name:var(--font-montserrat)]",children:"+ Add Address"})]}),(0,b.jsx)("div",{className:"p-6",children:0===m.length?(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsxs)("svg",{className:"w-12 h-12 text-[#2a2a2a] mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,b.jsx)("p",{className:"text-[#888888] font-[family-name:var(--font-montserrat)] mb-4",children:"No saved addresses"}),(0,b.jsx)("button",{onClick:()=>v(!0),className:"text-[#c9a962] text-sm font-[family-name:var(--font-montserrat)]",children:"Add your first address"})]}):(0,b.jsx)("div",{className:"space-y-4",children:m.map((a,c)=>(0,b.jsx)("div",{className:`bg-[#0a0a0a] border p-4 ${a.isDefault?"border-[#c9a962]/50":"border-[#1a1a1a]"}`,children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)("span",{className:"text-[#f5f5f5] font-[family-name:var(--font-montserrat)]",children:a.label||"Address"}),a.isDefault&&(0,b.jsx)("span",{className:"text-xs bg-[#c9a962]/20 text-[#c9a962] px-2 py-0.5 font-[family-name:var(--font-montserrat)]",children:"Default"})]}),(0,b.jsx)("p",{className:"text-sm text-[#888888] font-[family-name:var(--font-montserrat)]",children:a.street}),(0,b.jsxs)("p",{className:"text-sm text-[#888888] font-[family-name:var(--font-montserrat)]",children:[a.city,", ",a.state]}),a.landmark&&(0,b.jsxs)("p",{className:"text-xs text-[#666666] mt-1 font-[family-name:var(--font-montserrat)]",children:["Near: ",a.landmark]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>{x(c),z(m[c]),v(!0)},className:"text-[#c9a962] text-sm font-[family-name:var(--font-montserrat)]",children:"Edit"}),(0,b.jsx)("button",{onClick:()=>C(c),className:"text-red-400 text-sm font-[family-name:var(--font-montserrat)]",children:"Delete"})]})]})},a.id))})})]}),(0,b.jsx)("div",{className:"bg-[#111111] border border-[#1a1a1a] p-6",children:(0,b.jsx)("button",{onClick:E,className:"w-full border border-red-500/50 text-red-400 py-3 font-[family-name:var(--font-montserrat)] hover:bg-red-500/10 transition-colors",children:"Sign Out"})}),u&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"bg-[#111111] border border-[#1a1a1a] w-full max-w-md",children:[(0,b.jsxs)("div",{className:"border-b border-[#1a1a1a] px-6 py-4 flex items-center justify-between",children:[(0,b.jsx)("h2",{className:"text-xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5]",children:null!==w?"Edit Address":"Add Address"}),(0,b.jsx)("button",{onClick:D,className:"text-[#888888] hover:text-[#f5f5f5]",children:"âœ•"})]}),(0,b.jsxs)("div",{className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Label (e.g., Home, Office)"}),(0,b.jsx)("input",{type:"text",value:y.label,onChange:a=>z({...y,label:a.target.value}),className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Street Address"}),(0,b.jsx)("input",{type:"text",value:y.street,onChange:a=>z({...y,street:a.target.value}),className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"City"}),(0,b.jsx)("input",{type:"text",value:y.city,onChange:a=>z({...y,city:a.target.value}),className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"State"}),(0,b.jsxs)("select",{value:y.state,onChange:a=>z({...y,state:a.target.value}),className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none",children:[(0,b.jsx)("option",{value:"",children:"Select state"}),g.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Landmark (optional)"}),(0,b.jsx)("input",{type:"text",value:y.landmark||"",onChange:a=>z({...y,landmark:a.target.value}),className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none",placeholder:"e.g., Near XYZ Mall"})]}),(0,b.jsxs)("label",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"checkbox",checked:y.isDefault||!1,onChange:a=>z({...y,isDefault:a.target.checked}),className:"w-4 h-4 accent-[#c9a962]"}),(0,b.jsx)("span",{className:"text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)]",children:"Set as default address"})]}),(0,b.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,b.jsx)("button",{onClick:D,className:"flex-1 border border-[#2a2a2a] text-[#888888] py-2 font-[family-name:var(--font-montserrat)] hover:border-[#3a3a3a] hover:text-[#f5f5f5] transition-colors",children:"Cancel"}),(0,b.jsx)("button",{onClick:B,disabled:!y.street||!y.city||!y.state,className:"flex-1 bg-[#c9a962] text-[#0a0a0a] py-2 font-[family-name:var(--font-montserrat)] hover:bg-[#d4b87a] transition-colors disabled:opacity-50",children:"Save Address"})]})]})]})})]})})}a.s(["default",()=>h])}];

//# sourceMappingURL=src_app_account_profile_page_tsx_f979a350._.js.map