module.exports=[22724,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(11642),f=a.i(38246);function g(){let[a,g]=(0,c.useState)("phone"),[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)("otp"),[,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)(""),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(!1),[y,z]=(0,c.useState)(!1),A=(0,d.useRouter)(),{user:B,initializeRecaptcha:C,sendOTP:D,verifyOTPAndSignIn:E,checkHasPassword:F,loginWithPassword:G}=(0,e.useAuth)();(0,c.useEffect)(()=>{B&&A.push("/account")},[B,A]),(0,c.useEffect)(()=>{let a=!0;return(async()=>{if(await new Promise(a=>setTimeout(a,1e3)),a)try{let b=await C("recaptcha-container");a&&(z(b),b||console.error("reCAPTCHA initialization returned false"))}catch(b){console.error("Failed to initialize reCAPTCHA:",b),a&&z(!1)}})(),()=>{a=!1}},[C]);let H=async a=>{if(a.preventDefault(),r(""),t(""),v(!0),!y){r("Please wait while we set up verification..."),v(!1);return}try{let a=await F(h);if(p(a),a)g("password-choice");else{let a=await D(h);a.success?(t(a.message),g("otp")):r(a.message)}}catch(a){console.error(a),r("Failed to check account. Please try again.")}finally{v(!1)}},I=async a=>{if(o(a),r(""),"otp"===a){v(!0);try{let a=await D(h);a.success?(t(a.message),g("otp")):r(a.message)}catch(a){console.error(a),r("Failed to send verification code. Please try again.")}finally{v(!1)}}},J=async a=>{a.preventDefault(),r(""),v(!0);try{let a=await G(h,l);a.success?A.push("/account"):r(a.message)}catch(a){console.error(a),r("Failed to login. Please try again.")}finally{v(!1)}},K=async a=>{a.preventDefault(),r(""),t(""),v(!0);try{let a=await E(j);a.success?A.push("/account"):r(a.message)}catch(a){console.error(a),r("Failed to verify code. Please try again.")}finally{v(!1)}},L=()=>{g("phone"),k(""),m(""),r(""),t(""),o("otp")};return(0,b.jsxs)("div",{className:"min-h-screen bg-[#0a0a0a] flex items-center justify-center px-4 py-20",children:[(0,b.jsx)("div",{id:"recaptcha-container"}),(0,b.jsxs)("div",{className:"w-full max-w-md",children:[(0,b.jsxs)("div",{className:"text-center mb-8",children:[(0,b.jsx)(f.default,{href:"/",className:"inline-block",children:(0,b.jsxs)("h1",{className:"text-3xl font-light tracking-[0.1em] text-[#f5f5f5] font-[family-name:var(--font-cormorant)]",children:["NIFEMII ",(0,b.jsx)("span",{className:"text-[#c9a962]",children:"ABE"})]})}),(0,b.jsx)("p",{className:"text-[#888888] mt-2 font-[family-name:var(--font-montserrat)] text-sm",children:"Sign in to your account"})]}),(0,b.jsxs)("div",{className:"bg-[#111111] border border-[#1a1a1a] p-8",children:["phone"===a&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h2",{className:"text-xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5] mb-2",children:"Enter Your Phone Number"}),(0,b.jsx)("p",{className:"text-[#888888] text-sm font-[family-name:var(--font-montserrat)] mb-6",children:"We'll send you a verification code via SMS"}),q&&(0,b.jsx)("div",{className:"bg-red-500/10 border border-red-500/50 text-red-400 px-4 py-3 mb-6 text-sm font-[family-name:var(--font-montserrat)]",children:q}),(0,b.jsxs)("form",{onSubmit:H,className:"space-y-5",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"phone",className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Phone Number"}),(0,b.jsxs)("div",{className:"flex",children:[(0,b.jsx)("span",{className:"bg-[#1a1a1a] border border-[#2a2a2a] border-r-0 px-4 py-3 text-[#888888] font-[family-name:var(--font-montserrat)] text-sm",children:"+234"}),(0,b.jsx)("input",{type:"tel",id:"phone",value:h,onChange:a=>i(a.target.value.replace(/\D/g,"")),required:!0,maxLength:11,className:"flex-1 bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-3 text-[#f5f5f5] focus:border-[#c9a962] focus:outline-none transition-colors font-[family-name:var(--font-montserrat)] text-sm",placeholder:"8012345678"})]}),(0,b.jsx)("p",{className:"text-[#666666] text-xs mt-2 font-[family-name:var(--font-montserrat)]",children:"Enter your number without the leading zero"})]}),(0,b.jsx)("button",{type:"submit",disabled:u||h.length<10||!y,className:"w-full bg-[#c9a962] text-[#0a0a0a] py-3 font-[family-name:var(--font-montserrat)] text-sm uppercase tracking-wider hover:bg-[#d4b87a] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Checking...":"Continue"})]})]}),"password-choice"===a&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h2",{className:"text-xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5] mb-2",children:"Welcome Back!"}),(0,b.jsx)("p",{className:"text-[#888888] text-sm font-[family-name:var(--font-montserrat)] mb-6",children:"How would you like to sign in?"}),q&&(0,b.jsx)("div",{className:"bg-red-500/10 border border-red-500/50 text-red-400 px-4 py-3 mb-6 text-sm font-[family-name:var(--font-montserrat)]",children:q}),(0,b.jsxs)("div",{className:"space-y-4",children:["otp"===n?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{onClick:()=>o("password"),disabled:u,className:"w-full border border-[#c9a962] text-[#c9a962] py-3 font-[family-name:var(--font-montserrat)] text-sm uppercase tracking-wider hover:bg-[#c9a962]/10 transition-colors disabled:opacity-50",children:"Sign in with Password"}),(0,b.jsx)("button",{onClick:()=>I("otp"),disabled:u,className:"w-full bg-[#c9a962] text-[#0a0a0a] py-3 font-[family-name:var(--font-montserrat)] text-sm uppercase tracking-wider hover:bg-[#d4b87a] transition-colors disabled:opacity-50",children:u?"Sending Code...":"Sign in with SMS Code"})]}):(0,b.jsxs)("form",{onSubmit:J,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"password",className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Password"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:w?"text":"password",id:"password",value:l,onChange:a=>m(a.target.value),required:!0,className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-3 pr-12 text-[#f5f5f5] focus:border-[#c9a962] focus:outline-none transition-colors font-[family-name:var(--font-montserrat)] text-sm",placeholder:"Enter your password"}),(0,b.jsx)("button",{type:"button",onClick:()=>x(!w),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#888888] hover:text-[#c9a962] transition-colors","aria-label":w?"Hide password":"Show password",children:w?(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"})}):(0,b.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})]}),(0,b.jsx)("button",{type:"submit",disabled:u||l.length<6,className:"w-full bg-[#c9a962] text-[#0a0a0a] py-3 font-[family-name:var(--font-montserrat)] text-sm uppercase tracking-wider hover:bg-[#d4b87a] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Signing in...":"Sign In"}),(0,b.jsx)("button",{type:"button",onClick:()=>{o("otp"),m(""),r("")},className:"w-full text-[#888888] hover:text-[#c9a962] py-2 font-[family-name:var(--font-montserrat)] text-sm transition-colors",children:"Use SMS code instead"})]}),(0,b.jsx)("button",{type:"button",onClick:L,className:"w-full text-[#888888] hover:text-[#c9a962] py-2 font-[family-name:var(--font-montserrat)] text-sm transition-colors",children:"Change Phone Number"})]})]}),"otp"===a&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h2",{className:"text-xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5] mb-2",children:"Enter Verification Code"}),(0,b.jsxs)("p",{className:"text-[#888888] text-sm font-[family-name:var(--font-montserrat)] mb-6",children:["We sent a code to +234",h]}),q&&(0,b.jsx)("div",{className:"bg-red-500/10 border border-red-500/50 text-red-400 px-4 py-3 mb-6 text-sm font-[family-name:var(--font-montserrat)]",children:q}),s&&(0,b.jsx)("div",{className:"bg-green-500/10 border border-green-500/50 text-green-400 px-4 py-3 mb-6 text-sm font-[family-name:var(--font-montserrat)]",children:s}),(0,b.jsxs)("form",{onSubmit:K,className:"space-y-5",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"otp",className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"6-Digit Code"}),(0,b.jsx)("input",{type:"text",id:"otp",value:j,onChange:a=>{k(a.target.value.replace(/\D/g,"").slice(0,6))},required:!0,maxLength:6,className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-3 text-[#f5f5f5] focus:border-[#c9a962] focus:outline-none transition-colors font-[family-name:var(--font-montserrat)] text-sm text-center tracking-[0.5em] text-lg",placeholder:"000000",autoFocus:!0}),(0,b.jsx)("p",{className:"text-[#666666] text-xs mt-2 font-[family-name:var(--font-montserrat)]",children:"Code expires in 5 minutes"})]}),(0,b.jsx)("button",{type:"submit",disabled:u||6!==j.length,className:"w-full bg-[#c9a962] text-[#0a0a0a] py-3 font-[family-name:var(--font-montserrat)] text-sm uppercase tracking-wider hover:bg-[#d4b87a] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Verifying...":"Verify & Sign In"}),(0,b.jsx)("button",{type:"button",onClick:L,className:"w-full text-[#888888] hover:text-[#c9a962] py-2 font-[family-name:var(--font-montserrat)] text-sm transition-colors",children:"Change Phone Number"})]})]})]}),(0,b.jsx)("p",{className:"text-center mt-6 text-[#888888] text-sm font-[family-name:var(--font-montserrat)]",children:(0,b.jsx)(f.default,{href:"/",className:"hover:text-[#c9a962] transition-colors",children:"Back to Website"})})]})]})}a.s(["default",()=>g])}];

//# sourceMappingURL=src_app_account_login_page_tsx_9e30d65e._.js.map