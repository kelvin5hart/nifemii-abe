{"version":3,"sources":["../../../../src/app/admin/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { collection, query, where, orderBy, limit, onSnapshot, Timestamp } from \"firebase/firestore\";\nimport { db } from \"@/lib/firebase\";\nimport { Order, Appointment } from \"@/lib/firebase-types\";\nimport Link from \"next/link\";\n\nconst formatPrice = (price: number) => {\n  return new Intl.NumberFormat(\"en-NG\", {\n    style: \"currency\",\n    currency: \"NGN\",\n    minimumFractionDigits: 0,\n  }).format(price);\n};\n\nconst formatDate = (date: Date | Timestamp) => {\n  const d = date instanceof Timestamp ? date.toDate() : date;\n  return d.toLocaleDateString(\"en-NG\", {\n    month: \"short\",\n    day: \"numeric\",\n    year: \"numeric\",\n  });\n};\n\nexport default function AdminDashboardPage() {\n  const [stats, setStats] = useState({\n    totalOrders: 0,\n    pendingOrders: 0,\n    totalCustomers: 0,\n    paidRevenue: 0,\n    pendingRevenue: 0,\n    ordersThisMonth: 0,\n    customersThisMonth: 0,\n  });\n  const [recentOrders, setRecentOrders] = useState<Order[]>([]);\n  const [upcomingAppointments, setUpcomingAppointments] = useState<Appointment[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    // Get start of current month for comparisons\n    const now = new Date();\n    const startOfMonth = new Date(now.getFullYear(), now.getMonth(), 1);\n\n    // Listen to orders\n    const ordersQuery = query(\n      collection(db, \"orders\"),\n      orderBy(\"createdAt\", \"desc\")\n    );\n\n    const unsubOrders = onSnapshot(ordersQuery, (snapshot) => {\n      const orders = snapshot.docs.map((doc) => ({\n        id: doc.id,\n        ...doc.data(),\n        createdAt: doc.data().createdAt?.toDate?.() || new Date(),\n      })) as Order[];\n\n      // Calculate stats\n      const totalOrders = orders.length;\n      const pendingOrders = orders.filter((o) => o.status === \"pending\").length;\n\n      // Calculate paid and pending revenue\n      let paidRevenue = 0;\n      let pendingRevenue = 0;\n\n      orders.filter((o) => o.status !== \"cancelled\").forEach((order) => {\n        const pricing = order.pricing;\n        if (!pricing) return;\n\n        // Check if order has deposit/balance structure\n        if (pricing.depositAmount !== undefined && pricing.depositAmount > 0) {\n          // Deposit paid\n          if (pricing.depositPaid) {\n            paidRevenue += pricing.depositAmount;\n          } else {\n            pendingRevenue += pricing.depositAmount;\n          }\n          // Balance paid\n          const balanceAmount = pricing.balanceAmount || 0;\n          if (balanceAmount > 0) {\n            if (pricing.balancePaid) {\n              paidRevenue += balanceAmount;\n            } else {\n              pendingRevenue += balanceAmount;\n            }\n          }\n        } else {\n          // Full payment structure\n          if (pricing.depositPaid) {\n            paidRevenue += pricing.totalAmount;\n          } else {\n            pendingRevenue += pricing.totalAmount;\n          }\n        }\n      });\n\n      const ordersThisMonth = orders.filter((o) => {\n        const orderDate = o.createdAt instanceof Timestamp ? o.createdAt.toDate() : o.createdAt;\n        return orderDate >= startOfMonth;\n      }).length;\n\n      setStats((prev) => ({\n        ...prev,\n        totalOrders,\n        pendingOrders,\n        paidRevenue,\n        pendingRevenue,\n        ordersThisMonth,\n      }));\n\n      // Recent orders (last 5)\n      setRecentOrders(orders.slice(0, 5));\n    });\n\n    // Listen to all users and filter out admins client-side\n    // This avoids needing a composite index for isAdmin != true\n    const customersQuery = query(collection(db, \"users\"));\n\n    const unsubCustomers = onSnapshot(customersQuery, (snapshot) => {\n      // Filter out admins - include users without isAdmin field (they're customers)\n      const customerDocs = snapshot.docs.filter((doc) => {\n        const data = doc.data();\n        return data.isAdmin !== true;\n      });\n\n      const totalCustomers = customerDocs.length;\n      const customersThisMonth = customerDocs.filter((doc) => {\n        const data = doc.data();\n        const createdAt = data.createdAt?.toDate?.() || new Date(0);\n        return createdAt >= startOfMonth;\n      }).length;\n\n      setStats((prev) => ({\n        ...prev,\n        totalCustomers,\n        customersThisMonth,\n      }));\n    });\n\n    // Listen to upcoming appointments\n    const today = new Date().toISOString().split(\"T\")[0];\n    const appointmentsQuery = query(\n      collection(db, \"appointments\"),\n      where(\"date\", \">=\", today),\n      where(\"status\", \"in\", [\"pending\", \"confirmed\"]),\n      orderBy(\"date\", \"asc\"),\n      limit(5)\n    );\n\n    const unsubAppointments = onSnapshot(appointmentsQuery, (snapshot) => {\n      const appointments = snapshot.docs.map((doc) => ({\n        id: doc.id,\n        ...doc.data(),\n      })) as Appointment[];\n      setUpcomingAppointments(appointments);\n      setLoading(false);\n    }, () => {\n      // Index may not exist, just set loading to false\n      setLoading(false);\n    });\n\n    return () => {\n      unsubOrders();\n      unsubCustomers();\n      unsubAppointments();\n    };\n  }, []);\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case \"pending\":\n        return \"bg-yellow-500/20 text-yellow-400\";\n      case \"confirmed\":\n        return \"bg-blue-500/20 text-blue-400\";\n      case \"in-progress\":\n        return \"bg-purple-500/20 text-purple-400\";\n      case \"ready\":\n        return \"bg-green-500/20 text-green-400\";\n      case \"delivered\":\n        return \"bg-green-500/20 text-green-400\";\n      case \"cancelled\":\n        return \"bg-red-500/20 text-red-400\";\n      default:\n        return \"bg-[#2a2a2a] text-[#888888]\";\n    }\n  };\n\n  return (\n    <div>\n      {/* Header */}\n      <div className=\"mb-8\">\n        <h1 className=\"text-2xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5]\">\n          Dashboard\n        </h1>\n        <p className=\"text-[#888888] text-sm font-[family-name:var(--font-montserrat)]\">\n          Welcome back! Here&apos;s an overview of your business.\n        </p>\n      </div>\n\n      {/* Stats Grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n        <div className=\"bg-[#111111] border border-[#1a1a1a] p-6\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <div className=\"text-[#c9a962]\">\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\" />\n              </svg>\n            </div>\n            <span className=\"text-[#888888] text-xs font-[family-name:var(--font-montserrat)]\">\n              +{stats.ordersThisMonth} this month\n            </span>\n          </div>\n          <p className=\"text-2xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5] mb-1\">\n            {loading ? \"...\" : stats.totalOrders}\n          </p>\n          <p className=\"text-[#888888] text-sm font-[family-name:var(--font-montserrat)]\">\n            Total Orders\n          </p>\n        </div>\n\n        <div className=\"bg-[#111111] border border-[#1a1a1a] p-6\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <div className=\"text-[#c9a962]\">\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n              </svg>\n            </div>\n            <span className={`text-xs font-[family-name:var(--font-montserrat)] ${stats.pendingOrders > 0 ? \"text-yellow-400\" : \"text-[#888888]\"}`}>\n              {stats.pendingOrders > 0 ? \"Needs attention\" : \"All clear\"}\n            </span>\n          </div>\n          <p className=\"text-2xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5] mb-1\">\n            {loading ? \"...\" : stats.pendingOrders}\n          </p>\n          <p className=\"text-[#888888] text-sm font-[family-name:var(--font-montserrat)]\">\n            Pending Orders\n          </p>\n        </div>\n\n        <div className=\"bg-[#111111] border border-[#1a1a1a] p-6\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <div className=\"text-[#c9a962]\">\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\" />\n              </svg>\n            </div>\n            <span className=\"text-[#888888] text-xs font-[family-name:var(--font-montserrat)]\">\n              +{stats.customersThisMonth} this month\n            </span>\n          </div>\n          <p className=\"text-2xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5] mb-1\">\n            {loading ? \"...\" : stats.totalCustomers}\n          </p>\n          <p className=\"text-[#888888] text-sm font-[family-name:var(--font-montserrat)]\">\n            Total Customers\n          </p>\n        </div>\n\n        <Link href=\"/admin/finance\" className=\"bg-[#111111] border border-[#1a1a1a] p-6 hover:border-[#c9a962]/50 transition-colors\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <div className=\"text-[#c9a962]\">\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n              </svg>\n            </div>\n            <span className=\"text-green-400 text-xs font-[family-name:var(--font-montserrat)]\">\n              Paid\n            </span>\n          </div>\n          <p className=\"text-2xl font-[family-name:var(--font-cormorant)] text-green-400 mb-1\">\n            {loading ? \"...\" : formatPrice(stats.paidRevenue)}\n          </p>\n          <p className=\"text-[#888888] text-sm font-[family-name:var(--font-montserrat)]\">\n            Revenue Received\n          </p>\n          {stats.pendingRevenue > 0 && (\n            <p className=\"text-yellow-400 text-xs mt-2 font-[family-name:var(--font-montserrat)]\">\n              {formatPrice(stats.pendingRevenue)} pending\n            </p>\n          )}\n        </Link>\n      </div>\n\n      {/* Quick Actions */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8\">\n        {/* Recent Orders */}\n        <div className=\"bg-[#111111] border border-[#1a1a1a] p-6\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <h2 className=\"text-lg font-[family-name:var(--font-cormorant)] text-[#f5f5f5]\">\n              Recent Orders\n            </h2>\n            <Link\n              href=\"/admin/orders\"\n              className=\"text-[#c9a962] text-sm font-[family-name:var(--font-montserrat)] hover:underline\"\n            >\n              View All\n            </Link>\n          </div>\n          {loading ? (\n            <div className=\"flex justify-center py-8\">\n              <div className=\"w-6 h-6 border-2 border-[#c9a962] border-t-transparent rounded-full animate-spin\"></div>\n            </div>\n          ) : recentOrders.length === 0 ? (\n            <div className=\"text-center py-8\">\n              <svg\n                className=\"w-12 h-12 text-[#2a2a2a] mx-auto mb-4\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={1}\n                  d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\"\n                />\n              </svg>\n              <p className=\"text-[#888888] text-sm font-[family-name:var(--font-montserrat)]\">\n                No orders yet\n              </p>\n            </div>\n          ) : (\n            <div className=\"space-y-3\">\n              {recentOrders.map((order) => (\n                <Link\n                  key={order.id}\n                  href=\"/admin/orders\"\n                  className=\"flex items-center justify-between p-3 bg-[#0a0a0a] hover:bg-[#1a1a1a] transition-colors\"\n                >\n                  <div>\n                    <p className=\"text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)]\">\n                      #{order.id.slice(-6).toUpperCase()}\n                    </p>\n                    <p className=\"text-[#888888] text-xs font-[family-name:var(--font-montserrat)]\">\n                      {order.userName || order.userPhone}\n                    </p>\n                  </div>\n                  <div className=\"text-right\">\n                    <p className=\"text-[#c9a962] text-sm font-[family-name:var(--font-montserrat)]\">\n                      {formatPrice(order.pricing?.totalAmount || 0)}\n                    </p>\n                    <span className={`inline-block px-2 py-0.5 text-xs ${getStatusColor(order.status)}`}>\n                      {order.status}\n                    </span>\n                  </div>\n                </Link>\n              ))}\n            </div>\n          )}\n        </div>\n\n        {/* Upcoming Appointments */}\n        <div className=\"bg-[#111111] border border-[#1a1a1a] p-6\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <h2 className=\"text-lg font-[family-name:var(--font-cormorant)] text-[#f5f5f5]\">\n              Upcoming Appointments\n            </h2>\n            <Link\n              href=\"/admin/appointments\"\n              className=\"text-[#c9a962] text-sm font-[family-name:var(--font-montserrat)] hover:underline\"\n            >\n              View All\n            </Link>\n          </div>\n          {loading ? (\n            <div className=\"flex justify-center py-8\">\n              <div className=\"w-6 h-6 border-2 border-[#c9a962] border-t-transparent rounded-full animate-spin\"></div>\n            </div>\n          ) : upcomingAppointments.length === 0 ? (\n            <div className=\"text-center py-8\">\n              <svg\n                className=\"w-12 h-12 text-[#2a2a2a] mx-auto mb-4\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={1}\n                  d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"\n                />\n              </svg>\n              <p className=\"text-[#888888] text-sm font-[family-name:var(--font-montserrat)]\">\n                No appointments scheduled\n              </p>\n            </div>\n          ) : (\n            <div className=\"space-y-3\">\n              {upcomingAppointments.map((apt) => (\n                <Link\n                  key={apt.id}\n                  href=\"/admin/appointments\"\n                  className=\"flex items-center justify-between p-3 bg-[#0a0a0a] hover:bg-[#1a1a1a] transition-colors\"\n                >\n                  <div>\n                    <p className=\"text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)] capitalize\">\n                      {apt.type.replace(\"-\", \" \")}\n                    </p>\n                    <p className=\"text-[#888888] text-xs font-[family-name:var(--font-montserrat)]\">\n                      {apt.userName || apt.userPhone}\n                    </p>\n                  </div>\n                  <div className=\"text-right\">\n                    <p className=\"text-[#c9a962] text-sm font-[family-name:var(--font-montserrat)]\">\n                      {apt.date}\n                    </p>\n                    <p className=\"text-[#888888] text-xs font-[family-name:var(--font-montserrat)]\">\n                      {apt.timeSlot}\n                    </p>\n                  </div>\n                </Link>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Quick Actions */}\n      <div className=\"bg-[#111111] border border-[#1a1a1a] p-6\">\n        <h2 className=\"text-lg font-[family-name:var(--font-cormorant)] text-[#f5f5f5] mb-6\">\n          Quick Actions\n        </h2>\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n          <Link\n            href=\"/admin/orders/new\"\n            className=\"flex flex-col items-center justify-center p-4 bg-[#0a0a0a] border border-[#2a2a2a] hover:border-[#c9a962] transition-colors text-center\"\n          >\n            <span className=\"text-2xl text-[#c9a962] mb-2\">+</span>\n            <span className=\"text-sm text-[#f5f5f5] font-[family-name:var(--font-montserrat)]\">\n              New Order\n            </span>\n          </Link>\n          <Link\n            href=\"/admin/products\"\n            className=\"flex flex-col items-center justify-center p-4 bg-[#0a0a0a] border border-[#2a2a2a] hover:border-[#c9a962] transition-colors text-center\"\n          >\n            <span className=\"text-2xl text-[#c9a962] mb-2\">+</span>\n            <span className=\"text-sm text-[#f5f5f5] font-[family-name:var(--font-montserrat)]\">\n              Add Product\n            </span>\n          </Link>\n          <Link\n            href=\"/admin/customers\"\n            className=\"flex flex-col items-center justify-center p-4 bg-[#0a0a0a] border border-[#2a2a2a] hover:border-[#c9a962] transition-colors text-center\"\n          >\n            <span className=\"text-2xl text-[#c9a962] mb-2\">+</span>\n            <span className=\"text-sm text-[#f5f5f5] font-[family-name:var(--font-montserrat)]\">\n              Add Customer\n            </span>\n          </Link>\n          <Link\n            href=\"/admin/settings\"\n            className=\"flex flex-col items-center justify-center p-4 bg-[#0a0a0a] border border-[#2a2a2a] hover:border-[#c9a962] transition-colors text-center\"\n          >\n            <span className=\"text-2xl text-[#c9a962] mb-2\">âš™</span>\n            <span className=\"text-sm text-[#f5f5f5] font-[family-name:var(--font-montserrat)]\">\n              Settings\n            </span>\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEA,EAAA,EAAA,CAAA,CAAA,OAEA,IAAM,EAAc,AAAC,GACZ,IAAI,KAAK,YAAY,CAAC,QAAS,CACpC,MAAO,WACP,SAAU,MACV,sBAAuB,CACzB,GAAG,MAAM,CAAC,GAYG,SAAS,IACtB,GAAM,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,CACjC,YAAa,EACb,cAAe,EACf,eAAgB,EAChB,YAAa,EACb,eAAgB,EAChB,gBAAiB,EACjB,mBAAoB,CACtB,GACM,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAU,EAAE,EACtD,CAAC,EAAsB,EAAwB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,EAAE,EAC5E,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,SAEvC,CAAA,EAAA,EAAA,SAAS,AAAT,EAAU,KAER,IAAM,EAAM,IAAI,KACV,EAAe,IAAI,KAAK,EAAI,WAAW,GAAI,EAAI,QAAQ,GAAI,GAG3D,EAAc,CAAA,EAAA,EAAA,KAAA,AAAK,EACvB,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,EAAA,EAAE,CAAE,UACf,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,YAAa,SAGjB,EAAc,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,EAAa,AAAC,IAC3C,IAAM,EAAS,EAAS,IAAI,CAAC,GAAG,CAAC,AAAC,IAAS,CACzC,CADwC,EACpC,EAAI,EAAE,CACV,GAAG,EAAI,IAAI,EAAE,CACb,UAAW,EAAI,IAAI,GAAG,SAAS,EAAE,YAAc,IAAI,IACrD,CAAC,GAGK,EAAc,EAAO,MAAM,CAC3B,EAAgB,EAAO,MAAM,CAAC,AAAC,GAAmB,YAAb,EAAE,MAAM,EAAgB,MAAM,CAGrE,EAAc,EACd,EAAiB,EAErB,EAAO,MAAM,CAAC,AAAC,GAAmB,cAAb,EAAE,MAAM,EAAkB,OAAO,CAAC,AAAC,IACtD,IAAM,EAAU,EAAM,OAAO,CAC7B,GAAK,CAAD,CAGJ,GAA8B,IAHhB,KAGV,EAAQ,aAAa,EAAkB,EAAQ,aAAa,CAAG,EAAG,CAEhE,EAAQ,WAAW,CACrB,CADuB,EACR,EAAQ,aAAa,CAEpC,GAAkB,EAAQ,aAAa,CAGzC,IAAM,EAAgB,EAAQ,aAAa,EAAI,EAC3C,EAAgB,GAAG,CACjB,EAAQ,WAAW,CACrB,CADuB,EACR,EAEf,GAAkB,EAGxB,MAEM,CAFC,CAEO,WAAW,CACrB,CADuB,EACR,EAAQ,WAAW,CAElC,GAAkB,EAAQ,WAAW,AAG3C,GAEA,IAAM,EAAkB,EAAO,MAAM,CAAC,AAAC,GACnB,AACX,GADa,SAAS,YAAY,EAAA,SAAS,CAAG,EAAE,SAAS,CAAC,MAAM,GAAK,EAAE,SAAS,AAAT,GAC1D,GACnB,MAAM,CAET,EAAU,AAAD,IAAW,CAClB,EADiB,CACd,CAAI,aACP,gBACA,cACA,iBACA,kBACA,EACF,CAAC,EAGD,EAAgB,EAAO,KAAK,CAAC,EAAG,GAClC,GAIM,EAAiB,CAAA,EAAA,EAAA,KAAA,AAAK,EAAC,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,EAAA,EAAE,CAAE,UAEtC,EAAiB,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,EAAgB,AAAC,IAEjD,IAAM,EAAe,EAAS,IAAI,CAAC,MAAM,CAAC,AAAC,IAEjB,IADX,AACN,EADU,IAAI,GACT,OAAO,EAGf,EAAiB,EAAa,MAAM,CACpC,EAAqB,EAAa,MAAM,CAAC,AAAC,IAC9C,IAAM,EAAO,EAAI,IAAI,GAErB,MAAO,CADW,EAAK,SAAS,EAAE,YAAc,IAAI,KAAK,EAAA,GACrC,CACtB,GAAG,MAAM,CAET,EAAS,AAAC,IAAU,CAClB,EADiB,CACd,CAAI,gBACP,qBACA,EACF,CAAC,CACH,GAGM,EAAQ,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAC9C,EAAoB,CAAA,EAAA,EAAA,KAAA,AAAK,EAC7B,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,EAAA,EAAE,CAAE,gBACf,CAAA,EAAA,EAAA,KAAA,AAAK,EAAC,OAAQ,KAAM,GACpB,CAAA,EAAA,EAAA,KAAA,AAAK,EAAC,SAAU,KAAM,CAAC,UAAW,YAAY,EAC9C,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,OAAQ,OAChB,CAAA,EAAA,EAAA,KAAA,AAAK,EAAC,IAGF,EAAoB,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,EAAmB,AAAC,IAKvD,EAJqB,EAAS,IAAI,CAAC,GAAG,CAAE,AAAD,IAAU,CAC/C,CAD8C,EAC1C,EAAI,CAGc,CAHZ,CACV,GAAG,EAAI,IAAI,EAAE,CACf,CAAC,GAED,GAAW,EACb,EAAG,KAED,GAAW,EACb,GAEA,MAAO,KACL,IACA,IACA,GACF,CACF,EAAG,EAAE,EAsBH,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WAEC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,4EAAmE,cAGjF,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4EAAmE,0DAMlF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0BACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,qBACjE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,IAAK,EAAE,wIAG3E,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,6EAAmE,IAC/E,EAAM,eAAe,CAAC,oBAG5B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iFACV,EAAU,MAAQ,EAAM,WAAW,GAEtC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4EAAmE,oBAKlF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0BACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,qBACjE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,IAAK,EAAE,oDAG3E,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAW,CAAC,kDAAkD,EAAE,EAAM,aAAa,CAAG,EAAI,kBAAoB,iBAAA,CAAkB,UACnI,EAAM,aAAa,CAAG,EAAI,kBAAoB,iBAGnD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iFACV,EAAU,MAAQ,EAAM,aAAa,GAExC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4EAAmE,sBAKlF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0BACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,qBACjE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,IAAK,EAAE,+QAG3E,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,6EAAmE,IAC/E,EAAM,kBAAkB,CAAC,oBAG/B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iFACV,EAAU,MAAQ,EAAM,cAAc,GAEzC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4EAAmE,uBAKlF,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAK,iBAAiB,UAAU,iGACpC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0BACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,qBACjE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,IAAK,EAAE,oLAG3E,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4EAAmE,YAIrF,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iFACV,EAAU,MAAQ,EAAY,EAAM,WAAW,IAElD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4EAAmE,qBAG/E,EAAM,cAAc,CAAG,GACtB,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,mFACV,EAAY,EAAM,cAAc,EAAE,oBAO3C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uDAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,2EAAkE,kBAGhF,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CACH,KAAK,gBACL,UAAU,4FACX,gBAIF,EACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uFAES,IAAxB,EAAa,MAAM,CACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6BACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAU,wCACV,KAAK,OACL,OAAO,eACP,QAAQ,qBAER,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACC,cAAc,QACd,eAAe,QACf,YAAa,EACb,EAAE,sIAGN,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4EAAmE,qBAKlF,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACZ,EAAa,GAAG,CAAC,AAAC,GACjB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,OAAI,CAAA,CAEH,KAAK,gBACL,UAAU,oGAEV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,6EAAmE,IAC5E,EAAM,EAAE,CAAC,KAAK,CAAC,CAAC,GAAG,WAAW,MAElC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4EACV,EAAM,QAAQ,EAAI,EAAM,SAAS,MAGtC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4EACV,EAAY,EAAM,OAAO,EAAE,aAAe,KAE7C,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAW,CAAC,iCAAiC,EAAE,CA7KhD,AAAC,IACtB,OAAQ,GACN,IAAK,UACH,MAAO,kCACT,KAAK,YACH,MAAO,8BACT,KAAK,cACH,MAAO,kCACT,KAAK,QAEL,IAAK,YADH,MAAO,gCAGT,KAAK,YACH,MAAO,4BACT,SACE,MAAO,6BACX,CACF,GA4JsF,EAAM,MAAM,EAAA,CAAG,UAChF,EAAM,MAAM,QAjBZ,EAAM,EAAE,QA2BvB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,2EAAkE,0BAGhF,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CACH,KAAK,sBACL,UAAU,4FACX,gBAIF,EACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uFAEiB,IAAhC,EAAqB,MAAM,CAC7B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6BACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAU,wCACV,KAAK,OACL,OAAO,eACP,QAAQ,qBAER,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACC,cAAc,QACd,eAAe,QACf,YAAa,EACb,EAAE,6FAGN,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4EAAmE,iCAKlF,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACZ,EAAqB,GAAG,CAAC,AAAC,GACzB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,OAAI,CAAA,CAEH,KAAK,sBACL,UAAU,oGAEV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uFACV,EAAI,IAAI,CAAC,OAAO,CAAC,IAAK,OAEzB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4EACV,EAAI,QAAQ,EAAI,EAAI,SAAS,MAGlC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4EACV,EAAI,IAAI,GAEX,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4EACV,EAAI,QAAQ,QAjBZ,EAAI,EAAE,WA4BvB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qDACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gFAAuE,kBAGrF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,OAAI,CAAA,CACH,KAAK,oBACL,UAAU,oJAEV,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wCAA+B,MAC/C,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4EAAmE,iBAIrF,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,OAAI,CAAA,CACH,KAAK,kBACL,UAAU,oJAEV,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wCAA+B,MAC/C,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4EAAmE,mBAIrF,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,OAAI,CAAA,CACH,KAAK,mBACL,UAAU,oJAEV,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wCAA+B,MAC/C,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4EAAmE,oBAIrF,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,OAAI,CAAA,CACH,KAAK,kBACL,UAAU,oJAEV,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wCAA+B,MAC/C,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4EAAmE,wBAQ/F"}