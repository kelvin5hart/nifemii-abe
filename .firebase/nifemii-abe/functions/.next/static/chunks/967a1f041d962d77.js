(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63116,e=>{"use strict";var t=e.i(43476),a=e.i(71645);e.i(36180);var s=e.i(98925),r=e.i(59141);let n={pending:"bg-yellow-500/20 text-yellow-400 border-yellow-500/50",confirmed:"bg-blue-500/20 text-blue-400 border-blue-500/50","in-progress":"bg-purple-500/20 text-purple-400 border-purple-500/50",ready:"bg-green-500/20 text-green-400 border-green-500/50",delivered:"bg-emerald-500/20 text-emerald-400 border-emerald-500/50",cancelled:"bg-red-500/20 text-red-400 border-red-500/50"},i={"ready-to-wear":"Ready to Wear","full-bespoke":"Full Bespoke","sew-only":"Sew Only","bulk-bespoke":"Bulk Order"};function l(){let[e,l]=(0,a.useState)([]),[o,c]=(0,a.useState)(!0),[d,m]=(0,a.useState)(null),[x,f]=(0,a.useState)("all"),[p,h]=(0,a.useState)("all"),[u,b]=(0,a.useState)(""),[v,j]=(0,a.useState)(!1),[y,N]=(0,a.useState)(null),[g,w]=(0,a.useState)(null),[k,D]=(0,a.useState)("cash"),[A,C]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=(0,s.query)((0,s.collection)(r.db,"orders"),(0,s.orderBy)("createdAt","desc")),t=(0,s.onSnapshot)(e,e=>{l(e.docs.map(e=>{let t=e.data();return{id:e.id,...t,createdAt:t.createdAt?.toDate()||new Date,updatedAt:t.updatedAt?.toDate()||new Date}})),c(!1)});return()=>t()},[]);let P=e.filter(e=>("all"===x||e.status===x)&&("all"===p||e.type===p)),S=async(e,t)=>{try{await (0,s.updateDoc)((0,s.doc)(r.db,"orders",e),{status:t,updatedAt:s.Timestamp.now()}),d?.id===e&&m({...d,status:t})}catch(e){console.error("Error updating order status:",e)}},T=e=>{m(e),b(e.adminNotes||""),w(null)},M=async e=>{if(d){C(!0);try{let t={updatedAt:s.Timestamp.now()};"deposit"===e?(t["pricing.depositPaid"]=!0,t["pricing.depositMethod"]=k,t["pricing.depositDate"]=s.Timestamp.now(),"pending"===d.status&&(t.status="confirmed")):(t["pricing.balancePaid"]=!0,t["pricing.balanceMethod"]=k,t["pricing.balanceDate"]=s.Timestamp.now()),await (0,s.updateDoc)((0,s.doc)(r.db,"orders",d.id),t);let a={...d.pricing,..."deposit"===e?{depositPaid:!0,depositMethod:k}:{balancePaid:!0,balanceMethod:k}};m({...d,pricing:a,status:"deposit"===e&&"pending"===d.status?"confirmed":d.status}),w(null)}catch(e){console.error("Error recording payment:",e),alert("Failed to record payment. Please try again.")}finally{C(!1)}}},O=async()=>{if(d){j(!0);try{await (0,s.updateDoc)((0,s.doc)(r.db,"orders",d.id),{adminNotes:u,updatedAt:s.Timestamp.now()}),m({...d,adminNotes:u})}catch(e){console.error("Error saving admin notes:",e)}finally{j(!1)}}},B=e=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(e),R=e=>new Intl.DateTimeFormat("en-NG",{day:"numeric",month:"short",year:"numeric"}).format(e),L=e=>{let t=new Date(e+"T00:00:00");return new Intl.DateTimeFormat("en-NG",{day:"numeric",month:"short",year:"numeric"}).format(t)},z=(e,t)=>{if("delivered"===t||"cancelled"===t)return"completed";let a=new Date;a.setHours(0,0,0,0);let s=Math.ceil((new Date(e+"T00:00:00").getTime()-a.getTime())/864e5);return s<0?"overdue":s<=3?"urgent":s<=7?"soon":"normal"},F={overdue:"text-red-400",urgent:"text-orange-400",soon:"text-yellow-400",normal:"text-[#888888]",completed:"text-[#888888] line-through"};return o?(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("div",{className:"text-[#888888]",children:"Loading orders..."})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,t.jsx)("h1",{className:"text-2xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5]",children:"Orders"}),(0,t.jsx)("a",{href:"/admin/orders/new",className:"bg-[#c9a962] text-[#0a0a0a] px-4 py-2 text-sm font-[family-name:var(--font-montserrat)] hover:bg-[#d4b87a] transition-colors",children:"+ Create Order"})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,t.jsxs)("select",{value:x,onChange:e=>f(e.target.value),className:"bg-[#111111] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none",children:[(0,t.jsx)("option",{value:"all",children:"All Statuses"}),(0,t.jsx)("option",{value:"pending",children:"Pending"}),(0,t.jsx)("option",{value:"confirmed",children:"Confirmed"}),(0,t.jsx)("option",{value:"in-progress",children:"In Progress"}),(0,t.jsx)("option",{value:"ready",children:"Ready"}),(0,t.jsx)("option",{value:"delivered",children:"Delivered"}),(0,t.jsx)("option",{value:"cancelled",children:"Cancelled"})]}),(0,t.jsxs)("select",{value:p,onChange:e=>h(e.target.value),className:"bg-[#111111] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none",children:[(0,t.jsx)("option",{value:"all",children:"All Types"}),(0,t.jsx)("option",{value:"ready-to-wear",children:"Ready to Wear"}),(0,t.jsx)("option",{value:"full-bespoke",children:"Full Bespoke"}),(0,t.jsx)("option",{value:"sew-only",children:"Sew Only"}),(0,t.jsx)("option",{value:"bulk-bespoke",children:"Bulk Order"})]})]}),0===P.length?(0,t.jsx)("div",{className:"bg-[#111111] border border-[#1a1a1a] p-12 text-center",children:(0,t.jsx)("p",{className:"text-[#888888] font-[family-name:var(--font-montserrat)]",children:"No orders found"})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"md:hidden space-y-4",children:P.map(e=>(0,t.jsxs)("div",{className:"bg-[#111111] border border-[#1a1a1a] p-4",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-sm text-[#f5f5f5] font-[family-name:var(--font-montserrat)]",children:["#",e.id.slice(0,8)]}),(0,t.jsx)("p",{className:"text-xs text-[#888888] font-[family-name:var(--font-montserrat)]",children:R(e.createdAt)})]}),(0,t.jsx)("span",{className:`px-2 py-1 text-xs border ${n[e.status]} font-[family-name:var(--font-montserrat)]`,children:e.status})]}),(0,t.jsxs)("div",{className:"space-y-2 mb-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-xs text-[#888888] font-[family-name:var(--font-montserrat)]",children:"Customer"}),(0,t.jsx)("span",{className:"text-sm text-[#f5f5f5] font-[family-name:var(--font-montserrat)]",children:e.userName||"Unknown"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-xs text-[#888888] font-[family-name:var(--font-montserrat)]",children:"Type"}),(0,t.jsx)("span",{className:"text-sm text-[#f5f5f5] font-[family-name:var(--font-montserrat)]",children:i[e.type]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-xs text-[#888888] font-[family-name:var(--font-montserrat)]",children:"Amount"}),(0,t.jsx)("span",{className:"text-sm text-[#c9a962] font-[family-name:var(--font-montserrat)]",children:B(e.pricing.totalAmount)})]}),e.dueDate&&(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-xs text-[#888888] font-[family-name:var(--font-montserrat)]",children:"Due"}),(0,t.jsxs)("span",{className:`text-sm font-[family-name:var(--font-montserrat)] ${F[z(e.dueDate,e.status)]}`,children:[L(e.dueDate),"overdue"===z(e.dueDate,e.status)&&" (Overdue)"]})]})]}),(0,t.jsx)("button",{onClick:()=>T(e),className:"w-full bg-[#1a1a1a] text-[#c9a962] py-2 text-sm font-[family-name:var(--font-montserrat)] hover:bg-[#222222] transition-colors",children:"View Details"})]},e.id))}),(0,t.jsx)("div",{className:"hidden md:block bg-[#111111] border border-[#1a1a1a] overflow-hidden",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-[#0a0a0a] border-b border-[#1a1a1a]",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"text-left px-4 py-3 text-xs uppercase tracking-wider text-[#888888] font-[family-name:var(--font-montserrat)]",children:"Order ID"}),(0,t.jsx)("th",{className:"text-left px-4 py-3 text-xs uppercase tracking-wider text-[#888888] font-[family-name:var(--font-montserrat)]",children:"Customer"}),(0,t.jsx)("th",{className:"text-left px-4 py-3 text-xs uppercase tracking-wider text-[#888888] font-[family-name:var(--font-montserrat)]",children:"Type"}),(0,t.jsx)("th",{className:"text-left px-4 py-3 text-xs uppercase tracking-wider text-[#888888] font-[family-name:var(--font-montserrat)]",children:"Amount"}),(0,t.jsx)("th",{className:"text-left px-4 py-3 text-xs uppercase tracking-wider text-[#888888] font-[family-name:var(--font-montserrat)]",children:"Status"}),(0,t.jsx)("th",{className:"text-left px-4 py-3 text-xs uppercase tracking-wider text-[#888888] font-[family-name:var(--font-montserrat)]",children:"Date"}),(0,t.jsx)("th",{className:"text-left px-4 py-3 text-xs uppercase tracking-wider text-[#888888] font-[family-name:var(--font-montserrat)]",children:"Due Date"}),(0,t.jsx)("th",{className:"text-left px-4 py-3 text-xs uppercase tracking-wider text-[#888888] font-[family-name:var(--font-montserrat)]",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-[#1a1a1a]",children:P.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-[#1a1a1a]/50 transition-colors",children:[(0,t.jsxs)("td",{className:"px-4 py-4 text-sm text-[#f5f5f5] font-[family-name:var(--font-montserrat)]",children:["#",e.id.slice(0,8)]}),(0,t.jsx)("td",{className:"px-4 py-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-[#f5f5f5] font-[family-name:var(--font-montserrat)]",children:e.userName||"Unknown"}),(0,t.jsx)("p",{className:"text-xs text-[#888888] font-[family-name:var(--font-montserrat)]",children:e.userPhone})]})}),(0,t.jsx)("td",{className:"px-4 py-4 text-sm text-[#888888] font-[family-name:var(--font-montserrat)]",children:i[e.type]}),(0,t.jsx)("td",{className:"px-4 py-4 text-sm text-[#f5f5f5] font-[family-name:var(--font-montserrat)]",children:B(e.pricing.totalAmount)}),(0,t.jsx)("td",{className:"px-4 py-4",children:(0,t.jsx)("span",{className:`px-2 py-1 text-xs border ${n[e.status]} font-[family-name:var(--font-montserrat)]`,children:e.status})}),(0,t.jsx)("td",{className:"px-4 py-4 text-sm text-[#888888] font-[family-name:var(--font-montserrat)]",children:R(e.createdAt)}),(0,t.jsx)("td",{className:"px-4 py-4 text-sm font-[family-name:var(--font-montserrat)]",children:e.dueDate?(0,t.jsxs)("span",{className:F[z(e.dueDate,e.status)],children:[L(e.dueDate),"overdue"===z(e.dueDate,e.status)&&(0,t.jsx)("span",{className:"ml-1 text-xs",children:"(Overdue)"})]}):(0,t.jsx)("span",{className:"text-[#555555]",children:"—"})}),(0,t.jsx)("td",{className:"px-4 py-4",children:(0,t.jsx)("button",{onClick:()=>T(e),className:"text-[#c9a962] hover:text-[#d4b87a] text-sm font-[family-name:var(--font-montserrat)]",children:"View"})})]},e.id))})]})})})]}),d&&d.id&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-end md:items-center justify-center md:p-4",children:(0,t.jsxs)("div",{className:"bg-[#111111] border border-[#1a1a1a] w-full md:max-w-2xl max-h-[95vh] md:max-h-[90vh] overflow-y-auto rounded-t-xl md:rounded-none",children:[(0,t.jsxs)("div",{className:"sticky top-0 bg-[#111111] border-b border-[#1a1a1a] px-4 md:px-6 py-4 flex items-center justify-between",children:[(0,t.jsxs)("h2",{className:"text-xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5]",children:["Order #",d.id.slice(0,8)]}),(0,t.jsx)("button",{onClick:()=>m(null),className:"text-[#888888] hover:text-[#f5f5f5]",children:"✕"})]}),(0,t.jsxs)("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Status"}),(0,t.jsxs)("select",{value:d.status,onChange:e=>S(d.id,e.target.value),className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none",children:[(0,t.jsx)("option",{value:"pending",children:"Pending"}),(0,t.jsx)("option",{value:"confirmed",children:"Confirmed"}),(0,t.jsx)("option",{value:"in-progress",children:"In Progress"}),(0,t.jsx)("option",{value:"ready",children:"Ready"}),(0,t.jsx)("option",{value:"delivered",children:"Delivered"}),(0,t.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]}),(0,t.jsxs)("div",{className:"bg-[#0a0a0a] p-4 border border-[#1a1a1a]",children:[(0,t.jsx)("h3",{className:"text-sm uppercase tracking-wider text-[#888888] mb-3 font-[family-name:var(--font-montserrat)]",children:"Customer"}),(0,t.jsx)("p",{className:"text-[#f5f5f5] font-[family-name:var(--font-montserrat)]",children:d.userName||"Unknown"}),(0,t.jsx)("p",{className:"text-sm text-[#888888] font-[family-name:var(--font-montserrat)]",children:d.userPhone})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"bg-[#0a0a0a] p-4 border border-[#1a1a1a]",children:[(0,t.jsx)("h3",{className:"text-sm uppercase tracking-wider text-[#888888] mb-3 font-[family-name:var(--font-montserrat)]",children:"Order Type"}),(0,t.jsx)("p",{className:"text-[#f5f5f5] font-[family-name:var(--font-montserrat)]",children:i[d.type]})]}),(0,t.jsxs)("div",{className:"bg-[#0a0a0a] p-4 border border-[#1a1a1a]",children:[(0,t.jsx)("h3",{className:"text-sm uppercase tracking-wider text-[#888888] mb-3 font-[family-name:var(--font-montserrat)]",children:"Due Date"}),d.dueDate?(0,t.jsxs)("p",{className:`font-[family-name:var(--font-montserrat)] ${F[z(d.dueDate,d.status)]}`,children:[L(d.dueDate),"overdue"===z(d.dueDate,d.status)&&(0,t.jsx)("span",{className:"ml-2 text-xs bg-red-500/20 text-red-400 px-2 py-0.5 border border-red-500/50",children:"OVERDUE"}),"urgent"===z(d.dueDate,d.status)&&(0,t.jsx)("span",{className:"ml-2 text-xs bg-orange-500/20 text-orange-400 px-2 py-0.5 border border-orange-500/50",children:"DUE SOON"})]}):(0,t.jsx)("p",{className:"text-[#555555] font-[family-name:var(--font-montserrat)]",children:"Not set"})]})]}),d.items&&d.items.length>0&&(0,t.jsxs)("div",{className:"bg-[#0a0a0a] p-4 border border-[#1a1a1a]",children:[(0,t.jsxs)("h3",{className:"text-sm uppercase tracking-wider text-[#888888] mb-4 font-[family-name:var(--font-montserrat)]",children:["Items (",d.items.reduce((e,t)=>e+t.quantity,0)," total)"]}),(0,t.jsx)("div",{className:"space-y-4",children:d.items.map((e,a)=>(0,t.jsxs)("div",{className:"flex gap-4 pb-4 border-b border-[#1a1a1a] last:border-b-0 last:pb-0",children:[e.image?(0,t.jsxs)("button",{onClick:()=>N(e.image||null),className:"w-24 h-24 flex-shrink-0 bg-[#111111] border border-[#1a1a1a] overflow-hidden hover:border-[#c9a962] transition-colors group relative",children:[(0,t.jsx)("img",{src:e.image,alt:e.productName,className:"w-full h-full object-cover"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})})})]}):(0,t.jsx)("div",{className:"w-24 h-24 flex-shrink-0 bg-[#111111] border border-[#1a1a1a] flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-10 h-10 text-[#2a2a2a]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,t.jsx)("p",{className:"text-[#f5f5f5] font-[family-name:var(--font-montserrat)] text-sm",children:e.productName}),e.sku&&(0,t.jsx)("span",{className:"text-[10px] text-[#c9a962] bg-[#c9a962]/10 px-2 py-0.5 font-[family-name:var(--font-montserrat)] whitespace-nowrap",children:e.sku})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-x-4 gap-y-1 mt-2 text-sm text-[#888888] font-[family-name:var(--font-montserrat)]",children:[e.size&&(0,t.jsxs)("span",{children:["Size: ",(0,t.jsx)("span",{className:"text-[#f5f5f5] font-medium",children:e.size})]}),(0,t.jsxs)("span",{children:["Qty: ",(0,t.jsx)("span",{className:"text-[#f5f5f5] font-medium",children:e.quantity})]}),(0,t.jsxs)("span",{children:["@ ",B(e.price)]})]}),(0,t.jsx)("p",{className:"text-[#c9a962] text-base mt-2 font-[family-name:var(--font-montserrat)] font-medium",children:B(e.price*e.quantity)})]})]},a))})]}),d.serviceDetails&&(0,t.jsxs)("div",{className:"bg-[#0a0a0a] p-4 border border-[#1a1a1a]",children:[(0,t.jsx)("h3",{className:"text-sm uppercase tracking-wider text-[#888888] mb-3 font-[family-name:var(--font-montserrat)]",children:"Service Details"}),d.serviceDetails.styleDescription&&(0,t.jsx)("p",{className:"text-[#f5f5f5] text-sm mb-2 font-[family-name:var(--font-montserrat)]",children:d.serviceDetails.styleDescription}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm font-[family-name:var(--font-montserrat)]",children:[(0,t.jsx)("span",{className:"text-[#888888]",children:"Fabric:"}),(0,t.jsx)("span",{className:"text-[#f5f5f5]",children:d.serviceDetails.fabricProvided?"Customer provided":"Studio fabric"})]})]}),(0,t.jsxs)("div",{className:"bg-[#0a0a0a] p-4 border border-[#1a1a1a]",children:[(0,t.jsx)("h3",{className:"text-sm uppercase tracking-wider text-[#888888] mb-3 font-[family-name:var(--font-montserrat)]",children:"Pricing"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm font-[family-name:var(--font-montserrat)]",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-[#888888]",children:"Subtotal"}),(0,t.jsx)("span",{className:"text-[#f5f5f5]",children:B(d.pricing.subtotal)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-[#888888]",children:"Delivery"}),(0,t.jsx)("span",{className:"text-[#f5f5f5]",children:B(d.pricing.deliveryFee)})]}),d.pricing.discount&&(0,t.jsxs)("div",{className:"flex justify-between text-green-400",children:[(0,t.jsx)("span",{children:"Discount"}),(0,t.jsxs)("span",{children:["-","percentage"===d.pricing.discount.type?`${d.pricing.discount.value}%`:B(d.pricing.discount.value)]})]}),(0,t.jsxs)("div",{className:"flex justify-between pt-2 border-t border-[#1a1a1a]",children:[(0,t.jsx)("span",{className:"text-[#f5f5f5] font-medium",children:"Total"}),(0,t.jsx)("span",{className:"text-[#c9a962]",children:B(d.pricing.totalAmount)})]})]})]}),(0,t.jsxs)("div",{className:"bg-[#0a0a0a] p-4 border border-[#1a1a1a]",children:[(0,t.jsx)("h3",{className:"text-sm uppercase tracking-wider text-[#888888] mb-3 font-[family-name:var(--font-montserrat)]",children:"Payment"}),(0,t.jsxs)("div",{className:"space-y-3 text-sm font-[family-name:var(--font-montserrat)]",children:[void 0!==d.pricing.depositAmount&&d.pricing.depositAmount>0&&(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-[#888888]",children:"Deposit: "}),(0,t.jsx)("span",{className:"text-[#f5f5f5]",children:B(d.pricing.depositAmount)})]}),d.pricing.depositPaid?(0,t.jsxs)("span",{className:"text-green-400 text-xs",children:["Paid via ",d.pricing.depositMethod||"online"]}):(0,t.jsx)("button",{onClick:()=>w("deposit"),className:"text-xs bg-[#c9a962] text-[#0a0a0a] px-3 py-1 hover:bg-[#d4b87a] transition-colors",children:"Record Payment"})]}),void 0!==d.pricing.balanceAmount&&d.pricing.balanceAmount>0&&(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-[#888888]",children:"Balance: "}),(0,t.jsx)("span",{className:"text-[#f5f5f5]",children:B(d.pricing.balanceAmount)})]}),d.pricing.balancePaid?(0,t.jsxs)("span",{className:"text-green-400 text-xs",children:["Paid via ",d.pricing.balanceMethod||"online"]}):d.pricing.depositPaid?(0,t.jsx)("button",{onClick:()=>w("balance"),className:"text-xs bg-[#c9a962] text-[#0a0a0a] px-3 py-1 hover:bg-[#d4b87a] transition-colors",children:"Record Payment"}):(0,t.jsx)("span",{className:"text-yellow-400 text-xs",children:"Awaiting deposit"})]}),(void 0===d.pricing.depositAmount||0===d.pricing.depositAmount)&&(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-[#888888]",children:"Total: "}),(0,t.jsx)("span",{className:"text-[#f5f5f5]",children:B(d.pricing.totalAmount)})]}),d.pricing.depositPaid?(0,t.jsxs)("span",{className:"text-green-400 text-xs",children:["Paid via ",d.pricing.depositMethod||d.paymentMethod]}):(0,t.jsx)("button",{onClick:()=>w("deposit"),className:"text-xs bg-[#c9a962] text-[#0a0a0a] px-3 py-1 hover:bg-[#d4b87a] transition-colors",children:"Record Payment"})]})]}),g&&(0,t.jsxs)("div",{className:"mt-4 p-4 bg-[#111111] border border-[#2a2a2a]",children:[(0,t.jsxs)("h4",{className:"text-sm text-[#f5f5f5] mb-3 font-[family-name:var(--font-montserrat)]",children:["Record ","deposit"===g?"Deposit":"Balance"," Payment"]}),(0,t.jsxs)("p",{className:"text-xs text-[#888888] mb-3 font-[family-name:var(--font-montserrat)]",children:["Amount:"," ",(0,t.jsx)("span",{className:"text-[#c9a962]",children:B("deposit"===g?d.pricing.depositAmount||d.pricing.totalAmount:d.pricing.balanceAmount||0)})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Payment Method"}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("label",{className:`flex-1 flex items-center justify-center gap-2 p-2 border cursor-pointer transition-colors ${"cash"===k?"border-[#c9a962] bg-[#c9a962]/10":"border-[#2a2a2a] hover:border-[#3a3a3a]"}`,children:[(0,t.jsx)("input",{type:"radio",name:"paymentMethod",checked:"cash"===k,onChange:()=>D("cash"),className:"hidden"}),(0,t.jsx)("span",{className:"text-sm text-[#f5f5f5]",children:"Cash"})]}),(0,t.jsxs)("label",{className:`flex-1 flex items-center justify-center gap-2 p-2 border cursor-pointer transition-colors ${"transfer"===k?"border-[#c9a962] bg-[#c9a962]/10":"border-[#2a2a2a] hover:border-[#3a3a3a]"}`,children:[(0,t.jsx)("input",{type:"radio",name:"paymentMethod",checked:"transfer"===k,onChange:()=>D("transfer"),className:"hidden"}),(0,t.jsx)("span",{className:"text-sm text-[#f5f5f5]",children:"Transfer"})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>w(null),className:"flex-1 border border-[#2a2a2a] text-[#888888] py-2 text-sm font-[family-name:var(--font-montserrat)] hover:border-[#3a3a3a] hover:text-[#f5f5f5] transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>M(g),disabled:A,className:"flex-1 bg-[#c9a962] text-[#0a0a0a] py-2 text-sm font-[family-name:var(--font-montserrat)] hover:bg-[#d4b87a] transition-colors disabled:opacity-50",children:A?"Recording...":"Confirm Payment"})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-[#0a0a0a] p-4 border border-[#1a1a1a]",children:[(0,t.jsx)("h3",{className:"text-sm uppercase tracking-wider text-[#888888] mb-3 font-[family-name:var(--font-montserrat)]",children:"Delivery"}),(0,t.jsx)("p",{className:"text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)] capitalize",children:d.deliveryMethod}),d.deliveryAddress&&(0,t.jsxs)("p",{className:"text-[#888888] text-sm mt-1 font-[family-name:var(--font-montserrat)]",children:[d.deliveryAddress.street,","," ",d.deliveryAddress.city,","," ",d.deliveryAddress.state]})]}),d.notes&&(0,t.jsxs)("div",{className:"bg-[#0a0a0a] p-4 border border-[#1a1a1a]",children:[(0,t.jsx)("h3",{className:"text-sm uppercase tracking-wider text-[#888888] mb-3 font-[family-name:var(--font-montserrat)]",children:"Customer Notes"}),(0,t.jsx)("p",{className:"text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)]",children:d.notes})]}),(0,t.jsxs)("div",{className:"bg-[#0a0a0a] p-4 border border-[#1a1a1a]",children:[(0,t.jsx)("h3",{className:"text-sm uppercase tracking-wider text-[#888888] mb-3 font-[family-name:var(--font-montserrat)]",children:"Admin Notes"}),(0,t.jsx)("textarea",{value:u,onChange:e=>b(e.target.value),placeholder:"Add internal notes about this order...",rows:3,className:"w-full bg-[#111111] border border-[#2a2a2a] px-4 py-3 text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none resize-none"}),(0,t.jsx)("button",{onClick:O,disabled:v||u===(d.adminNotes||""),className:"mt-3 bg-[#c9a962] text-[#0a0a0a] px-4 py-2 text-sm font-[family-name:var(--font-montserrat)] hover:bg-[#d4b87a] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:v?"Saving...":"Save Notes"})]})]})]})}),y&&(0,t.jsxs)("div",{className:"fixed inset-0 bg-black/90 z-[60] flex items-center justify-center p-4",onClick:()=>N(null),children:[(0,t.jsx)("button",{onClick:()=>N(null),className:"absolute top-4 right-4 text-white/80 hover:text-white transition-colors",children:(0,t.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,t.jsx)("img",{src:y,alt:"Product",className:"max-w-full max-h-[85vh] object-contain",onClick:e=>e.stopPropagation()})]})]})}e.s(["default",()=>l])}]);