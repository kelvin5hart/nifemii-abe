(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7585,e=>{"use strict";var a=e.i(43476),t=e.i(71645);e.i(36180);var s=e.i(98925),r=e.i(59141);let n={type:"flat",flatFee:2e3,freeAbove:1e5,stateFees:{},freeStates:[]},l={workingDays:["monday","tuesday","wednesday","thursday","friday","saturday"],workingHours:{start:"10:00",end:"18:00"},slotDuration:30,blockedDates:[],blockedTimeSlots:[]},o=["Abia","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Edo","Ekiti","Enugu","FCT","Gombe","Imo","Jigawa","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nasarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara"],i=[{value:"monday",label:"Monday"},{value:"tuesday",label:"Tuesday"},{value:"wednesday",label:"Wednesday"},{value:"thursday",label:"Thursday"},{value:"friday",label:"Friday"},{value:"saturday",label:"Saturday"},{value:"sunday",label:"Sunday"}];function m(){let[e,m]=(0,t.useState)(n),[d,c]=(0,t.useState)(l),[f,x]=(0,t.useState)(!0),[b,u]=(0,t.useState)(!1),[v,y]=(0,t.useState)(!1),[p,h]=(0,t.useState)({state:"",fee:0}),[g,j]=(0,t.useState)(""),[N,k]=(0,t.useState)({date:"",startTime:"",endTime:"",reason:""});(0,t.useEffect)(()=>{(async()=>{try{let e=await (0,s.getDoc)((0,s.doc)(r.db,"settings","main"));if(e.exists()){let a=e.data();m(a.delivery||n),c(a.availability||l)}}catch(e){console.error("Error fetching settings:",e)}finally{x(!1)}})()},[]);let w=async()=>{u(!0),y(!1);try{let a={type:e.type};void 0!==e.flatFee&&e.flatFee>0&&(a.flatFee=e.flatFee),void 0!==e.freeAbove&&e.freeAbove>0&&(a.freeAbove=e.freeAbove),e.stateFees&&Object.keys(e.stateFees).length>0&&(a.stateFees=e.stateFees),e.freeStates&&e.freeStates.length>0&&(a.freeStates=e.freeStates);let t=(d.blockedTimeSlots||[]).map(e=>{let a={id:e.id,date:e.date,startTime:e.startTime,endTime:e.endTime};return e.reason&&(a.reason=e.reason),a}),n={workingDays:d.workingDays,workingHours:d.workingHours,slotDuration:d.slotDuration,blockedDates:d.blockedDates,blockedTimeSlots:t};await (0,s.setDoc)((0,s.doc)(r.db,"settings","main"),{delivery:a,availability:n,updatedAt:s.Timestamp.now()}),y(!0),setTimeout(()=>y(!1),3e3)}catch(e){console.error("Error saving settings:",e)}finally{u(!1)}},S=()=>{let e=[],a=parseInt(d.workingHours.start.split(":")[0]),t=parseInt(d.workingHours.end.split(":")[0]);for(let s=a;s<=t;s++)e.push(`${s.toString().padStart(2,"0")}:00`),s<t&&e.push(`${s.toString().padStart(2,"0")}:30`);return e},T=e=>{let[a,t]=e.split(":"),s=parseInt(a);return`${s%12||12}:${t} ${s>=12?"PM":"AM"}`};return f?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"text-[#888888]",children:"Loading settings..."})}):(0,a.jsxs)("div",{className:"space-y-6 max-w-3xl",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h1",{className:"text-2xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5]",children:"Settings"}),(0,a.jsx)("button",{onClick:w,disabled:b,className:"bg-[#c9a962] text-[#0a0a0a] px-6 py-2 text-sm font-[family-name:var(--font-montserrat)] hover:bg-[#d4b87a] transition-colors disabled:opacity-50",children:b?"Saving...":v?"Saved!":"Save Changes"})]}),(0,a.jsxs)("div",{className:"bg-[#111111] border border-[#1a1a1a] p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-[family-name:var(--font-cormorant)] text-[#f5f5f5] mb-6",children:"Delivery Settings"}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-[#888888] mb-3 font-[family-name:var(--font-montserrat)]",children:"Delivery Fee Type"}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-4",children:[{value:"flat",label:"Flat Fee"},{value:"state-based",label:"State-Based"},{value:"free",label:"Free Delivery"}].map(t=>(0,a.jsx)("button",{onClick:()=>m({...e,type:t.value}),className:`py-3 border text-sm font-[family-name:var(--font-montserrat)] transition-colors ${e.type===t.value?"border-[#c9a962] text-[#c9a962] bg-[#c9a962]/10":"border-[#2a2a2a] text-[#888888] hover:border-[#3a3a3a]"}`,children:t.label},t.value))})]}),"flat"===e.type&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Delivery Fee (₦)"}),(0,a.jsx)("input",{type:"number",value:e.flatFee||"",onChange:a=>m({...e,flatFee:parseFloat(a.target.value)||0}),className:"w-full max-w-xs bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none"})]}),"state-based"===e.type&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-[#888888] mb-3 font-[family-name:var(--font-montserrat)]",children:"State Delivery Fees"}),(0,a.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,a.jsxs)("select",{value:p.state,onChange:e=>h({...p,state:e.target.value}),className:"flex-1 bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none",children:[(0,a.jsx)("option",{value:"",children:"Select state"}),o.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]}),(0,a.jsx)("input",{type:"number",value:p.fee||"",onChange:e=>h({...p,fee:parseFloat(e.target.value)||0}),className:"w-32 bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none",placeholder:"Fee"}),(0,a.jsx)("button",{onClick:()=>{p.state&&!(p.fee<=0)&&(m({...e,stateFees:{...e.stateFees,[p.state]:p.fee}}),h({state:"",fee:0}))},className:"px-4 py-2 bg-[#c9a962] text-[#0a0a0a] text-sm font-[family-name:var(--font-montserrat)]",children:"Add"})]}),(0,a.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:Object.entries(e.stateFees||{}).map(([t,s])=>(0,a.jsxs)("div",{className:"flex items-center justify-between bg-[#0a0a0a] border border-[#1a1a1a] px-4 py-2",children:[(0,a.jsx)("span",{className:"text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)]",children:t}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("span",{className:"text-[#888888] text-sm font-[family-name:var(--font-montserrat)]",children:new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(s)}),(0,a.jsx)("button",{onClick:()=>{let a;return a={...e.stateFees},void(delete a[t],m({...e,stateFees:a}))},className:"text-red-400 text-sm",children:"Remove"})]})]},t))})]}),"free"!==e.type&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Free Delivery for Orders Above (₦)"}),(0,a.jsx)("input",{type:"number",value:e.freeAbove||"",onChange:a=>{let t=parseFloat(a.target.value);if(t>0)m({...e,freeAbove:t});else{let{freeAbove:a,...t}=e;m({...t,freeAbove:0})}},className:"w-full max-w-xs bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none",placeholder:"Leave empty for no free delivery threshold"})]})]})]}),(0,a.jsxs)("div",{className:"bg-[#111111] border border-[#1a1a1a] p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-[family-name:var(--font-cormorant)] text-[#f5f5f5] mb-6",children:"Availability Settings"}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-[#888888] mb-3 font-[family-name:var(--font-montserrat)]",children:"Working Days"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:i.map(e=>(0,a.jsx)("button",{onClick:()=>{var a;return a=e.value,void(d.workingDays.includes(a)?c({...d,workingDays:d.workingDays.filter(e=>e!==a)}):c({...d,workingDays:[...d.workingDays,a]}))},className:`px-4 py-2 border text-sm font-[family-name:var(--font-montserrat)] transition-colors ${d.workingDays.includes(e.value)?"border-[#c9a962] text-[#c9a962] bg-[#c9a962]/10":"border-[#2a2a2a] text-[#888888] hover:border-[#3a3a3a]"}`,children:e.label},e.value))})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Opening Time"}),(0,a.jsx)("input",{type:"time",value:d.workingHours.start,onChange:e=>c({...d,workingHours:{...d.workingHours,start:e.target.value}}),className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Closing Time"}),(0,a.jsx)("input",{type:"time",value:d.workingHours.end,onChange:e=>c({...d,workingHours:{...d.workingHours,end:e.target.value}}),className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Appointment Slot Duration (minutes)"}),(0,a.jsxs)("select",{value:d.slotDuration,onChange:e=>c({...d,slotDuration:parseInt(e.target.value)}),className:"w-full max-w-xs bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none",children:[(0,a.jsx)("option",{value:15,children:"15 minutes"}),(0,a.jsx)("option",{value:30,children:"30 minutes"}),(0,a.jsx)("option",{value:45,children:"45 minutes"}),(0,a.jsx)("option",{value:60,children:"1 hour"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Blocked Dates (Full Day Off)"}),(0,a.jsx)("p",{className:"text-xs text-[#666666] mb-3 font-[family-name:var(--font-montserrat)]",children:"Block entire days when you're completely unavailable (e.g., holidays)"}),(0,a.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,a.jsx)("input",{type:"date",value:g,onChange:e=>j(e.target.value),min:new Date().toISOString().split("T")[0],className:"flex-1 max-w-xs bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none"}),(0,a.jsx)("button",{onClick:()=>{!g||d.blockedDates.includes(g)||(c({...d,blockedDates:[...d.blockedDates,g].sort()}),j(""))},className:"px-4 py-2 bg-[#c9a962] text-[#0a0a0a] text-sm font-[family-name:var(--font-montserrat)]",children:"Block Date"})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:d.blockedDates.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-2 bg-[#0a0a0a] border border-red-500/30 px-3 py-1",children:[(0,a.jsx)("span",{className:"text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)]",children:new Date(e).toLocaleDateString("en-NG",{day:"numeric",month:"short",year:"numeric"})}),(0,a.jsx)("button",{onClick:()=>{c({...d,blockedDates:d.blockedDates.filter(a=>a!==e)})},className:"text-red-400 text-sm",children:"✕"})]},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Blocked Time Slots (Partial Day)"}),(0,a.jsx)("p",{className:"text-xs text-[#666666] mb-3 font-[family-name:var(--font-montserrat)]",children:"Block specific hours on a date when you have other commitments but are still partially available"}),(0,a.jsxs)("div",{className:"bg-[#0a0a0a] border border-[#1a1a1a] p-4 mb-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-[#666666] mb-1 font-[family-name:var(--font-montserrat)]",children:"Date"}),(0,a.jsx)("input",{type:"date",value:N.date,onChange:e=>k({...N,date:e.target.value}),min:new Date().toISOString().split("T")[0],className:"w-full bg-[#111111] border border-[#2a2a2a] px-3 py-2 text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-[#666666] mb-1 font-[family-name:var(--font-montserrat)]",children:"Reason (optional)"}),(0,a.jsx)("input",{type:"text",value:N.reason,onChange:e=>k({...N,reason:e.target.value}),placeholder:"e.g., Doctor appointment",className:"w-full bg-[#111111] border border-[#2a2a2a] px-3 py-2 text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-[#666666] mb-1 font-[family-name:var(--font-montserrat)]",children:"From"}),(0,a.jsxs)("select",{value:N.startTime,onChange:e=>k({...N,startTime:e.target.value}),className:"w-full bg-[#111111] border border-[#2a2a2a] px-3 py-2 text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none",children:[(0,a.jsx)("option",{value:"",children:"Select time"}),S().map(e=>(0,a.jsx)("option",{value:e,children:T(e)},e))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-[#666666] mb-1 font-[family-name:var(--font-montserrat)]",children:"To"}),(0,a.jsxs)("select",{value:N.endTime,onChange:e=>k({...N,endTime:e.target.value}),className:"w-full bg-[#111111] border border-[#2a2a2a] px-3 py-2 text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none",children:[(0,a.jsx)("option",{value:"",children:"Select time"}),S().map(e=>(0,a.jsx)("option",{value:e,children:T(e)},e))]})]})]}),(0,a.jsx)("button",{onClick:()=>{if(!N.date||!N.startTime||!N.endTime)return;if(N.startTime>=N.endTime)return void alert("Start time must be before end time");let e={id:`${N.date}-${N.startTime}-${Date.now()}`,date:N.date,startTime:N.startTime,endTime:N.endTime};N.reason.trim()&&(e.reason=N.reason.trim()),c({...d,blockedTimeSlots:[...d.blockedTimeSlots||[],e]}),k({date:"",startTime:"",endTime:"",reason:""})},disabled:!N.date||!N.startTime||!N.endTime,className:"w-full py-2 bg-[#c9a962] text-[#0a0a0a] text-sm font-[family-name:var(--font-montserrat)] hover:bg-[#d4b87a] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Block Time Slot"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(d.blockedTimeSlots||[]).sort((e,a)=>e.date.localeCompare(a.date)||e.startTime.localeCompare(a.startTime)).map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between bg-[#0a0a0a] border border-orange-500/30 px-4 py-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)]",children:new Date(e.date).toLocaleDateString("en-NG",{weekday:"short",day:"numeric",month:"short",year:"numeric"})}),(0,a.jsxs)("p",{className:"text-[#c9a962] text-xs font-[family-name:var(--font-montserrat)]",children:[T(e.startTime)," - ",T(e.endTime),e.reason&&(0,a.jsxs)("span",{className:"text-[#888888] ml-2",children:["(",e.reason,")"]})]})]}),(0,a.jsx)("button",{onClick:()=>{var a;return a=e.id,void c({...d,blockedTimeSlots:(d.blockedTimeSlots||[]).filter(e=>e.id!==a)})},className:"text-red-400 text-sm hover:text-red-300 transition-colors",children:"Remove"})]},e.id)),(!d.blockedTimeSlots||0===d.blockedTimeSlots.length)&&(0,a.jsx)("p",{className:"text-[#666666] text-sm font-[family-name:var(--font-montserrat)] text-center py-4",children:"No blocked time slots"})]})]})]})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)("button",{onClick:w,disabled:b,className:"bg-[#c9a962] text-[#0a0a0a] px-8 py-3 text-sm font-[family-name:var(--font-montserrat)] hover:bg-[#d4b87a] transition-colors disabled:opacity-50",children:b?"Saving...":v?"Saved!":"Save All Changes"})})]})}e.s(["default",()=>m])}]);