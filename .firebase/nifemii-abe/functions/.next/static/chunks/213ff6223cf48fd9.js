(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,51606,e=>{"use strict";var a=e.i(43476),t=e.i(71645),s=e.i(18566);e.i(36180);var r=e.i(98925),l=e.i(59141),n=e.i(17747),o=e.i(57688);let i=e=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0}).format(e);function c(){let e=(0,s.useRouter)(),[c,d]=(0,t.useState)("type"),[m,f]=(0,t.useState)(!1),[x,u]=(0,t.useState)(""),[b,h]=(0,t.useState)([]),[p,v]=(0,t.useState)(!0),[y,j]=(0,t.useState)(!1),[g,N]=(0,t.useState)(""),[k,w]=(0,t.useState)(null),[C,S]=(0,t.useState)("ready-to-wear"),[D,P]=(0,t.useState)(""),[z,B]=(0,t.useState)(""),[T,L]=(0,t.useState)(null),[A,O]=(0,t.useState)([]),[F,q]=(0,t.useState)({fabricProvided:!1}),[R,M]=(0,t.useState)({}),[$,I]=(0,t.useState)([]),[W,U]=(0,t.useState)(""),[E,K]=(0,t.useState)(""),[G,H]=(0,t.useState)(""),[Y,J]=(0,t.useState)(""),[Q,V]=(0,t.useState)(""),[X,Z]=(0,t.useState)(!1),[_,ee]=(0,t.useState)("pickup"),[ea,et]=(0,t.useState)({id:"",label:"",street:"",city:"",state:""}),[es,er]=(0,t.useState)(""),[el,en]=(0,t.useState)("");(0,t.useEffect)(()=>{let e=(0,r.query)((0,r.collection)(l.db,"products"),(0,r.orderBy)("createdAt","desc")),a=(0,r.onSnapshot)(e,e=>{h(e.docs.map(e=>({id:e.id,...e.data()})).filter(e=>!1!==e.active)),v(!1)},e=>{console.error("Error fetching products:",e),v(!1)});return()=>a()},[]);let eo=e=>parseFloat(e.replace(/,/g,"").replace(/[^0-9.]/g,""))||0,ei=e=>{let a=e.replace(/[^0-9]/g,"");return a?parseInt(a).toLocaleString():""},ec=async()=>{if(!(D.length<10))try{let e=(0,n.formatPhoneNumber)(D),a=(0,r.query)((0,r.collection)(l.db,"users"),(0,r.where)("phone","==",e)),t=await (0,r.getDocs)(a);if(t.empty)L(null);else{let e=t.docs[0].data();L(t.docs[0].id),B(e.name||""),e.measurements&&M(e.measurements)}}catch(e){console.error("Error searching customer:",e)}},ed=b.filter(e=>e.name.toLowerCase().includes(g.toLowerCase())||e.sku?.toLowerCase().includes(g.toLowerCase())||e.category.toLowerCase().includes(g.toLowerCase())),em=(e,a)=>{let t=[...A],s=t[e],r=b.find(e=>e.id===s.productId),l=r?.sizes[s.size]||99;t[e].quantity=Math.max(1,Math.min(a,l)),O(t)},ef=()=>{I([...$,{name:"",size:"",phone:""}])},ex=(e,a,t)=>{let s=[...$];s[e][a]=t,I(s)},eu=()=>"ready-to-wear"===C?A.reduce((e,a)=>e+a.price*a.quantity,0)+eo(Y):"bulk-bespoke"===C?$.length*eo(E)+eo(Y):eo(G)+eo(Y),eb=async()=>{f(!0),u("");try{let a=(0,n.formatPhoneNumber)(D),t=T;if(!t){let e=(0,r.doc)((0,r.collection)(l.db,"users"));t=e.id,await (0,r.setDoc)(e,{phone:a,name:z,measurements:R,createdAt:r.Timestamp.now(),createdBy:"admin"})}let s=eu(),o="ready-to-wear"===C?A.reduce((e,a)=>e+a.price*a.quantity,0):"bulk-bespoke"===C?$.length*eo(E):eo(G),i=eo(Y),c=eo(Q),d=s-c,m={subtotal:o,deliveryFee:i,totalAmount:s,balancePaid:!1};c>0&&(m.depositAmount=c,m.depositPaid=X,m.balanceAmount=d);let f={userId:t,userPhone:a,userName:z,type:C,status:"pending",pricing:m,deliveryMethod:_,paymentMethod:"offline",createdBy:"admin",createdAt:r.Timestamp.now(),updatedAt:r.Timestamp.now()};"ready-to-wear"===C&&A.length>0&&(f.items=A),("full-bespoke"===C||"sew-only"===C)&&(f.serviceDetails=F,f.measurements=R),"bulk-bespoke"===C&&(f.bulkRecipients=$,f.bulkBaseProduct=W,f.bulkPricePerUnit=eo(E)),"delivery"===_&&(f.deliveryAddress=ea),el.trim()&&(f.notes=el),es&&(f.dueDate=es),await (0,r.addDoc)((0,r.collection)(l.db,"orders"),f),e.push("/admin/orders")}catch(e){console.error("Error creating order:",e),u("Failed to create order. Please try again.")}finally{f(!1)}};return(0,a.jsxs)("div",{className:"max-w-2xl",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("button",{onClick:()=>e.back(),className:"text-[#888888] hover:text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)] mb-4",children:"â† Back to Orders"}),(0,a.jsx)("h1",{className:"text-2xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5]",children:"Create New Order"})]}),(0,a.jsx)("div",{className:"flex gap-2 mb-8",children:["type","customer","details","pricing"].map((e,t)=>(0,a.jsx)("div",{className:`h-1 flex-1 ${["type","customer","details","pricing"].indexOf(c)>=t?"bg-[#c9a962]":"bg-[#2a2a2a]"}`},e))}),(0,a.jsx)("div",{className:"bg-[#111111] border border-[#1a1a1a] p-6",children:(()=>{switch(c){case"type":return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5]",children:"Select Order Type"}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[{value:"ready-to-wear",label:"Ready to Wear",desc:"Select from your product catalog",icon:"ðŸ‘—"},{value:"full-bespoke",label:"Full Bespoke",desc:"Custom made from scratch with fabric",icon:"âœ‚ï¸"},{value:"sew-only",label:"Sew Only",desc:"Customer provides their own fabric",icon:"ðŸ§µ"},{value:"bulk-bespoke",label:"Bulk Order",desc:"Multiple recipients with sizes",icon:"ðŸ“¦"}].map(e=>(0,a.jsx)("button",{onClick:()=>S(e.value),className:`p-4 border text-left transition-colors ${C===e.value?"border-[#c9a962] bg-[#c9a962]/10":"border-[#2a2a2a] hover:border-[#3a3a3a]"}`,children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"text-2xl",children:e.icon}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[#f5f5f5] font-[family-name:var(--font-montserrat)]",children:e.label}),(0,a.jsx)("p",{className:"text-sm text-[#888888] font-[family-name:var(--font-montserrat)] mt-1",children:e.desc})]})]})},e.value))}),(0,a.jsx)("button",{onClick:()=>d("customer"),className:"bg-[#c9a962] text-[#0a0a0a] px-6 py-2 font-[family-name:var(--font-montserrat)] hover:bg-[#d4b87a] transition-colors",children:"Continue"})]});case"customer":return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5]",children:"Customer Information"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Phone Number"}),(0,a.jsx)("div",{className:"flex gap-2",children:(0,a.jsx)("input",{type:"tel",value:D,onChange:e=>P(e.target.value.replace(/\D/g,"")),onBlur:ec,className:"flex-1 bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none",placeholder:"08012345678"})}),T&&(0,a.jsx)("p",{className:"text-green-400 text-sm mt-2 font-[family-name:var(--font-montserrat)]",children:"Existing customer found"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Customer Name"}),(0,a.jsx)("input",{type:"text",value:z,onChange:e=>B(e.target.value),className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none",placeholder:"Full name"})]})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("button",{onClick:()=>d("type"),className:"border border-[#2a2a2a] text-[#888888] px-6 py-2 font-[family-name:var(--font-montserrat)] hover:border-[#3a3a3a] hover:text-[#f5f5f5] transition-colors",children:"Back"}),(0,a.jsx)("button",{onClick:()=>d("details"),disabled:!D||!z,className:"bg-[#c9a962] text-[#0a0a0a] px-6 py-2 font-[family-name:var(--font-montserrat)] hover:bg-[#d4b87a] transition-colors disabled:opacity-50",children:"Continue"})]})]});case"details":return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("h2",{className:"text-xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5]",children:["ready-to-wear"===C&&"Select Products","full-bespoke"===C&&"Bespoke Order Details","sew-only"===C&&"Sew Only Details","bulk-bespoke"===C&&"Bulk Order Details"]}),"ready-to-wear"===C&&(0,a.jsxs)("div",{className:"space-y-4",children:[A.length>0&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("p",{className:"text-sm text-[#888888] font-[family-name:var(--font-montserrat)]",children:["Selected Items (",A.length,")"]}),A.map((e,t)=>(0,a.jsxs)("div",{className:"bg-[#0a0a0a] border border-[#1a1a1a] p-3 flex gap-3",children:[e.image&&(0,a.jsx)("div",{className:"w-16 h-16 bg-[#1a1a1a] flex-shrink-0 overflow-hidden",children:(0,a.jsx)(o.default,{src:e.image,alt:e.productName,width:64,height:64,className:"w-full h-full object-cover"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)]",children:e.productName}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[e.sku&&(0,a.jsx)("span",{className:"text-[10px] text-[#c9a962] bg-[#c9a962]/10 px-1.5 py-0.5",children:e.sku}),(0,a.jsxs)("span",{className:"text-xs text-[#888888]",children:["Size: ",e.size]})]})]}),(0,a.jsx)("button",{onClick:()=>{O(A.filter((e,a)=>a!==t))},className:"text-red-400 text-xs hover:text-red-300",children:"Remove"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>em(t,e.quantity-1),className:"w-6 h-6 border border-[#2a2a2a] text-[#888888] hover:border-[#c9a962] hover:text-[#c9a962]",children:"-"}),(0,a.jsx)("span",{className:"text-[#f5f5f5] text-sm w-8 text-center",children:e.quantity}),(0,a.jsx)("button",{onClick:()=>em(t,e.quantity+1),className:"w-6 h-6 border border-[#2a2a2a] text-[#888888] hover:border-[#c9a962] hover:text-[#c9a962]",children:"+"})]}),(0,a.jsx)("p",{className:"text-[#c9a962] text-sm font-[family-name:var(--font-montserrat)]",children:i(e.price*e.quantity)})]})]})]},`${e.productId}-${e.size}`)),(0,a.jsxs)("div",{className:"flex justify-between pt-2 border-t border-[#1a1a1a]",children:[(0,a.jsx)("span",{className:"text-[#888888] font-[family-name:var(--font-montserrat)]",children:"Subtotal"}),(0,a.jsx)("span",{className:"text-[#c9a962] font-[family-name:var(--font-montserrat)]",children:i(A.reduce((e,a)=>e+a.price*a.quantity,0))})]})]}),(0,a.jsx)("button",{onClick:()=>j(!0),className:"w-full py-3 border border-dashed border-[#2a2a2a] text-[#888888] hover:border-[#c9a962] hover:text-[#c9a962] transition-colors font-[family-name:var(--font-montserrat)]",children:"+ Add Product from Catalog"}),0===A.length&&(0,a.jsx)("p",{className:"text-center text-sm text-[#666666] font-[family-name:var(--font-montserrat)]",children:"No products added yet. Click above to select from your catalog."})]}),"full-bespoke"===C&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Style/Design Description *"}),(0,a.jsx)("textarea",{value:F.styleDescription||"",onChange:e=>q({...F,styleDescription:e.target.value}),rows:3,className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none resize-none",placeholder:"Describe the style (e.g., Agbada with embroidery, Senator style with gold buttons...)"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Fabric Details"}),(0,a.jsx)("textarea",{value:F.fabricDetails||"",onChange:e=>q({...F,fabricDetails:e.target.value}),rows:2,className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none resize-none",placeholder:"Fabric type, color, quantity needed..."})]}),(0,a.jsxs)("div",{className:"bg-[#0a0a0a] border border-[#1a1a1a] p-4",children:[(0,a.jsx)("h3",{className:"text-sm uppercase tracking-wider text-[#888888] mb-4 font-[family-name:var(--font-montserrat)]",children:"Measurements (inches)"}),(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[{key:"chest",label:"Chest"},{key:"waist",label:"Waist"},{key:"hips",label:"Hips"},{key:"shoulder",label:"Shoulder"},{key:"sleeveLength",label:"Sleeve"},{key:"shirtLength",label:"Shirt Length"},{key:"neck",label:"Neck"},{key:"trouserWaist",label:"Trouser Waist"},{key:"trouserLength",label:"Trouser Length"},{key:"thigh",label:"Thigh"},{key:"ankle",label:"Ankle"}].map(e=>(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-[#666666] mb-1 font-[family-name:var(--font-montserrat)]",children:e.label}),(0,a.jsx)("input",{type:"number",value:R[e.key]||"",onChange:a=>M({...R,[e.key]:parseFloat(a.target.value)||void 0}),className:"w-full bg-[#111111] border border-[#2a2a2a] px-2 py-1 text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none"})]},e.key))})]})]}),"sew-only"===C&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"bg-[#c9a962]/10 border border-[#c9a962]/30 p-4",children:(0,a.jsx)("p",{className:"text-[#c9a962] text-sm font-[family-name:var(--font-montserrat)]",children:"Customer provides their own fabric. This order is for labor/sewing only."})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"What to Make *"}),(0,a.jsx)("textarea",{value:F.styleDescription||"",onChange:e=>q({...F,styleDescription:e.target.value,fabricProvided:!0}),rows:3,className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none resize-none",placeholder:"Describe what should be made with the customer's fabric..."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Fabric Received?"}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("button",{type:"button",onClick:()=>q({...F,fabricReceived:!0}),className:`flex-1 py-2 border ${!0===F.fabricReceived?"border-[#c9a962] text-[#c9a962]":"border-[#2a2a2a] text-[#888888]"} font-[family-name:var(--font-montserrat)]`,children:"Yes"}),(0,a.jsx)("button",{type:"button",onClick:()=>q({...F,fabricReceived:!1}),className:`flex-1 py-2 border ${!1===F.fabricReceived?"border-[#c9a962] text-[#c9a962]":"border-[#2a2a2a] text-[#888888]"} font-[family-name:var(--font-montserrat)]`,children:"Not Yet"})]})]}),(0,a.jsxs)("div",{className:"bg-[#0a0a0a] border border-[#1a1a1a] p-4",children:[(0,a.jsx)("h3",{className:"text-sm uppercase tracking-wider text-[#888888] mb-4 font-[family-name:var(--font-montserrat)]",children:"Measurements (inches)"}),(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[{key:"chest",label:"Chest"},{key:"waist",label:"Waist"},{key:"hips",label:"Hips"},{key:"shoulder",label:"Shoulder"},{key:"sleeveLength",label:"Sleeve"},{key:"shirtLength",label:"Shirt Length"},{key:"neck",label:"Neck"},{key:"trouserWaist",label:"Trouser Waist"},{key:"trouserLength",label:"Trouser Length"},{key:"thigh",label:"Thigh"},{key:"ankle",label:"Ankle"}].map(e=>(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-[#666666] mb-1 font-[family-name:var(--font-montserrat)]",children:e.label}),(0,a.jsx)("input",{type:"number",value:R[e.key]||"",onChange:a=>M({...R,[e.key]:parseFloat(a.target.value)||void 0}),className:"w-full bg-[#111111] border border-[#2a2a2a] px-2 py-1 text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none"})]},e.key))})]})]}),"bulk-bespoke"===C&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Base Product/Design *"}),(0,a.jsx)("input",{type:"text",value:W,onChange:e=>U(e.target.value),className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none",placeholder:"e.g., Company Uniform - Blue Ankara"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Price Per Unit (â‚¦)"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#888888] font-[family-name:var(--font-montserrat)]",children:"â‚¦"}),(0,a.jsx)("input",{type:"text",inputMode:"numeric",value:E,onChange:e=>K(ei(e.target.value)),className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] pl-8 pr-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none",placeholder:"e.g., 25,000"})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("p",{className:"text-sm text-[#888888] font-[family-name:var(--font-montserrat)]",children:["Recipients (",$.length,")"]}),(0,a.jsx)("button",{onClick:ef,className:"text-[#c9a962] text-sm font-[family-name:var(--font-montserrat)]",children:"+ Add Recipient"})]}),$.map((e,t)=>(0,a.jsxs)("div",{className:"bg-[#0a0a0a] border border-[#1a1a1a] p-3 space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("span",{className:"text-xs text-[#666666] font-[family-name:var(--font-montserrat)]",children:["Recipient ",t+1]}),(0,a.jsx)("button",{onClick:()=>{I($.filter((e,a)=>a!==t))},className:"text-red-400 text-xs",children:"Remove"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,a.jsx)("input",{type:"text",value:e.name,onChange:e=>ex(t,"name",e.target.value),className:"col-span-2 bg-[#111111] border border-[#2a2a2a] px-3 py-2 text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none",placeholder:"Name"}),(0,a.jsx)("input",{type:"text",value:e.size,onChange:e=>ex(t,"size",e.target.value),className:"bg-[#111111] border border-[#2a2a2a] px-3 py-2 text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none",placeholder:"Size"})]}),(0,a.jsx)("input",{type:"tel",value:e.phone||"",onChange:e=>ex(t,"phone",e.target.value.replace(/\D/g,"")),className:"w-full bg-[#111111] border border-[#2a2a2a] px-3 py-2 text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none",placeholder:"Phone (optional)"})]},t)),0===$.length&&(0,a.jsx)("p",{className:"text-center text-sm text-[#666666] py-4 font-[family-name:var(--font-montserrat)]",children:"No recipients added. Click above to add recipients with their sizes."}),$.length>0&&eo(E)>0&&(0,a.jsxs)("div",{className:"flex justify-between pt-2 border-t border-[#1a1a1a]",children:[(0,a.jsxs)("span",{className:"text-[#888888] font-[family-name:var(--font-montserrat)]",children:["Total (",$.length," Ã— ",i(eo(E)),")"]}),(0,a.jsx)("span",{className:"text-[#c9a962] font-[family-name:var(--font-montserrat)]",children:i($.length*eo(E))})]})]})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("button",{onClick:()=>d("customer"),className:"border border-[#2a2a2a] text-[#888888] px-6 py-2 font-[family-name:var(--font-montserrat)] hover:border-[#3a3a3a] hover:text-[#f5f5f5] transition-colors",children:"Back"}),(0,a.jsx)("button",{onClick:()=>d("pricing"),disabled:"ready-to-wear"===C&&0===A.length||"bulk-bespoke"===C&&0===$.length,className:"bg-[#c9a962] text-[#0a0a0a] px-6 py-2 font-[family-name:var(--font-montserrat)] hover:bg-[#d4b87a] transition-colors disabled:opacity-50",children:"Continue"})]})]});case"pricing":return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5]",children:"Pricing & Delivery"}),(0,a.jsxs)("div",{className:"space-y-4",children:[("full-bespoke"===C||"sew-only"===C)&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"sew-only"===C?"Labor Cost (â‚¦)":"Total Price (â‚¦)"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#888888] font-[family-name:var(--font-montserrat)]",children:"â‚¦"}),(0,a.jsx)("input",{type:"text",inputMode:"numeric",value:G,onChange:e=>H(ei(e.target.value)),className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] pl-8 pr-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none",placeholder:"e.g., 50,000"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Delivery Method"}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("button",{type:"button",onClick:()=>ee("pickup"),className:`flex-1 py-2 border ${"pickup"===_?"border-[#c9a962] text-[#c9a962]":"border-[#2a2a2a] text-[#888888]"} font-[family-name:var(--font-montserrat)]`,children:"Pickup"}),(0,a.jsx)("button",{type:"button",onClick:()=>ee("delivery"),className:`flex-1 py-2 border ${"delivery"===_?"border-[#c9a962] text-[#c9a962]":"border-[#2a2a2a] text-[#888888]"} font-[family-name:var(--font-montserrat)]`,children:"Delivery"})]})]}),"delivery"===_&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Delivery Fee (â‚¦)"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#888888] font-[family-name:var(--font-montserrat)]",children:"â‚¦"}),(0,a.jsx)("input",{type:"text",inputMode:"numeric",value:Y,onChange:e=>J(ei(e.target.value)),className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] pl-8 pr-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none",placeholder:"e.g., 2,000"})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("input",{type:"text",value:ea.street,onChange:e=>et({...ea,street:e.target.value}),className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none",placeholder:"Street address"}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("input",{type:"text",value:ea.city,onChange:e=>et({...ea,city:e.target.value}),className:"flex-1 bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none",placeholder:"City"}),(0,a.jsx)("input",{type:"text",value:ea.state,onChange:e=>et({...ea,state:e.target.value}),className:"flex-1 bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none",placeholder:"State"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Deposit Amount (â‚¦)"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#888888] font-[family-name:var(--font-montserrat)]",children:"â‚¦"}),(0,a.jsx)("input",{type:"text",inputMode:"numeric",value:Q,onChange:e=>V(ei(e.target.value)),className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] pl-8 pr-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none",placeholder:"e.g., 25,000"})]})]}),eo(Q)>0&&(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("input",{type:"checkbox",id:"depositPaid",checked:X,onChange:e=>Z(e.target.checked),className:"w-4 h-4 accent-[#c9a962]"}),(0,a.jsx)("label",{htmlFor:"depositPaid",className:"text-[#f5f5f5] font-[family-name:var(--font-montserrat)]",children:"Deposit paid"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Due Date (Customer's Deadline)"}),(0,a.jsx)("input",{type:"date",value:es,onChange:e=>er(e.target.value),min:new Date().toISOString().split("T")[0],className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none [&::-webkit-calendar-picker-indicator]:invert"}),(0,a.jsx)("p",{className:"text-xs text-[#666666] mt-1 font-[family-name:var(--font-montserrat)]",children:"When does the customer need this order by?"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Notes"}),(0,a.jsx)("textarea",{value:el,onChange:e=>en(e.target.value),rows:2,className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none resize-none",placeholder:"Additional notes..."})]}),(0,a.jsxs)("div",{className:"bg-[#0a0a0a] border border-[#1a1a1a] p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between text-[#f5f5f5] font-[family-name:var(--font-montserrat)]",children:[(0,a.jsx)("span",{children:"Total"}),(0,a.jsx)("span",{className:"text-[#c9a962]",children:i(eu())})]}),eo(Q)>0&&(0,a.jsxs)("div",{className:"flex justify-between text-sm text-[#888888] mt-2 font-[family-name:var(--font-montserrat)]",children:[(0,a.jsx)("span",{children:"Balance due"}),(0,a.jsx)("span",{children:i(eu()-eo(Q))})]})]})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("button",{onClick:()=>d("details"),className:"border border-[#2a2a2a] text-[#888888] px-6 py-2 font-[family-name:var(--font-montserrat)] hover:border-[#3a3a3a] hover:text-[#f5f5f5] transition-colors",children:"Back"}),(0,a.jsx)("button",{onClick:eb,disabled:m,className:"bg-[#c9a962] text-[#0a0a0a] px-6 py-2 font-[family-name:var(--font-montserrat)] hover:bg-[#d4b87a] transition-colors disabled:opacity-50",children:m?"Creating...":"Create Order"})]}),x&&(0,a.jsx)("p",{className:"text-red-400 text-sm font-[family-name:var(--font-montserrat)]",children:x})]});default:return null}})()}),y&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-[#111111] border border-[#1a1a1a] w-full max-w-2xl max-h-[80vh] flex flex-col",children:[(0,a.jsxs)("div",{className:"p-4 border-b border-[#1a1a1a] flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-[family-name:var(--font-cormorant)] text-[#f5f5f5]",children:k?"Select Size":"Select Product"}),(0,a.jsx)("button",{onClick:()=>{j(!1),w(null),N("")},className:"text-[#888888] hover:text-[#f5f5f5]",children:"âœ•"})]}),k?(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex gap-4 mb-4",children:[k.images[0]&&(0,a.jsx)("div",{className:"w-24 h-24 bg-[#0a0a0a] flex-shrink-0 overflow-hidden",children:(0,a.jsx)(o.default,{src:k.images[0],alt:k.name,width:96,height:96,className:"w-full h-full object-cover"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[#f5f5f5] font-[family-name:var(--font-montserrat)]",children:k.name}),k.sku&&(0,a.jsx)("p",{className:"text-xs text-[#c9a962] mt-1",children:k.sku}),(0,a.jsx)("p",{className:"text-[#c9a962] mt-2 font-[family-name:var(--font-montserrat)]",children:i(k.salePrice||k.price)})]})]}),(0,a.jsx)("p",{className:"text-sm text-[#888888] mb-3 font-[family-name:var(--font-montserrat)]",children:"Select Size:"}),(0,a.jsx)("div",{className:"grid grid-cols-4 gap-2",children:Object.entries(k.sizes).map(([e,t])=>(0,a.jsxs)("button",{onClick:()=>(e=>{if(!k)return;let a=k.sizes[e]||0;if(a<=0)return;let t=A.findIndex(a=>a.productId===k.id&&a.size===e);if(t>=0){let e=[...A],s=e[t].quantity;s<a&&(e[t].quantity=s+1,O(e))}else O([...A,{productId:k.id,productName:k.name,sku:k.sku,size:e,quantity:1,price:k.salePrice||k.price,image:k.images[0]}]);w(null),j(!1),N("")})(e),disabled:0===t,className:`py-3 border text-center font-[family-name:var(--font-montserrat)] transition-colors ${0===t?"border-[#1a1a1a] text-[#444444] cursor-not-allowed":"border-[#2a2a2a] text-[#f5f5f5] hover:border-[#c9a962] hover:text-[#c9a962]"}`,children:[(0,a.jsx)("span",{className:"block text-sm",children:e}),(0,a.jsx)("span",{className:`block text-xs mt-1 ${0===t?"text-red-400":"text-[#666666]"}`,children:0===t?"Out":`${t} left`})]},e))}),(0,a.jsx)("button",{onClick:()=>w(null),className:"mt-4 w-full py-2 border border-[#2a2a2a] text-[#888888] hover:border-[#3a3a3a] hover:text-[#f5f5f5] font-[family-name:var(--font-montserrat)] transition-colors",children:"â† Back to Products"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"p-4 border-b border-[#1a1a1a]",children:(0,a.jsx)("input",{type:"text",value:g,onChange:e=>N(e.target.value),placeholder:"Search by name, SKU, or category...",className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none"})}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:p?(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)("div",{className:"w-6 h-6 border-2 border-[#c9a962] border-t-transparent rounded-full animate-spin mx-auto"})}):0===ed.length?(0,a.jsx)("div",{className:"text-center py-8 text-[#888888] font-[family-name:var(--font-montserrat)]",children:"No products found"}):(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:ed.map(e=>{let t=Object.values(e.sizes).reduce((e,a)=>e+a,0);return(0,a.jsxs)("button",{onClick:()=>{w(e)},disabled:0===t,className:`text-left border transition-colors ${0===t?"border-[#1a1a1a] opacity-50 cursor-not-allowed":"border-[#2a2a2a] hover:border-[#c9a962]"}`,children:[(0,a.jsxs)("div",{className:"aspect-square bg-[#0a0a0a] relative",children:[e.images[0]?(0,a.jsx)(o.default,{src:e.images[0],alt:e.name,fill:!0,className:"object-cover"}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center text-[#2a2a2a]",children:"No Image"}),0===t&&(0,a.jsx)("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-red-400 text-xs font-[family-name:var(--font-montserrat)]",children:"Out of Stock"})})]}),(0,a.jsxs)("div",{className:"p-2",children:[(0,a.jsx)("p",{className:"text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)] truncate",children:e.name}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-1",children:[(0,a.jsx)("span",{className:"text-xs text-[#c9a962]",children:i(e.salePrice||e.price)}),e.sku&&(0,a.jsx)("span",{className:"text-[10px] text-[#666666]",children:e.sku})]})]})]},e.id)})})})]})]})})]})}e.s(["default",()=>c])}]);