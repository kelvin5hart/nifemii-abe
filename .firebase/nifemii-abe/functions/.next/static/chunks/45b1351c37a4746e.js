(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,37408,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(18566),s=e.i(57951),n=e.i(22016);function o(){let[e,o]=(0,a.useState)("phone"),[i,l]=(0,a.useState)(""),[c,m]=(0,a.useState)(""),[d,f]=(0,a.useState)(""),[x,u]=(0,a.useState)("otp"),[,h]=(0,a.useState)(!1),[p,b]=(0,a.useState)(""),[y,g]=(0,a.useState)(""),[v,j]=(0,a.useState)(!1),[w,N]=(0,a.useState)(!1),[k,C]=(0,a.useState)(!1),S=(0,r.useRouter)(),{user:P,initializeRecaptcha:F,sendOTP:L,verifyOTPAndSignIn:A,checkHasPassword:M,loginWithPassword:E}=(0,s.useAuth)();(0,a.useEffect)(()=>{P&&S.push("/account")},[P,S]),(0,a.useEffect)(()=>{let e=!0;return(async()=>{if(await new Promise(e=>setTimeout(e,1e3)),e)try{let t=await F("recaptcha-container");e&&(C(t),t||console.error("reCAPTCHA initialization returned false"))}catch(t){console.error("Failed to initialize reCAPTCHA:",t),e&&C(!1)}})(),()=>{e=!1}},[F]);let B=async e=>{if(e.preventDefault(),b(""),g(""),j(!0),!k){b("Please wait while we set up verification..."),j(!1);return}try{let e=await M(i);if(h(e),e)o("password-choice");else{let e=await L(i);e.success?(g(e.message),o("otp")):b(e.message)}}catch(e){console.error(e),b("Failed to check account. Please try again.")}finally{j(!1)}},T=async e=>{if(u(e),b(""),"otp"===e){j(!0);try{let e=await L(i);e.success?(g(e.message),o("otp")):b(e.message)}catch(e){console.error(e),b("Failed to send verification code. Please try again.")}finally{j(!1)}}},W=async e=>{e.preventDefault(),b(""),j(!0);try{let e=await E(i,d);e.success?S.push("/account"):b(e.message)}catch(e){console.error(e),b("Failed to login. Please try again.")}finally{j(!1)}},D=async e=>{e.preventDefault(),b(""),g(""),j(!0);try{let e=await A(c);e.success?S.push("/account"):b(e.message)}catch(e){console.error(e),b("Failed to verify code. Please try again.")}finally{j(!1)}},z=()=>{o("phone"),m(""),f(""),b(""),g(""),u("otp")};return(0,t.jsxs)("div",{className:"min-h-screen bg-[#0a0a0a] flex items-center justify-center px-4 py-20",children:[(0,t.jsx)("div",{id:"recaptcha-container"}),(0,t.jsxs)("div",{className:"w-full max-w-md",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)(n.default,{href:"/",className:"inline-block",children:(0,t.jsxs)("h1",{className:"text-3xl font-light tracking-[0.1em] text-[#f5f5f5] font-[family-name:var(--font-cormorant)]",children:["NIFEMII ",(0,t.jsx)("span",{className:"text-[#c9a962]",children:"ABE"})]})}),(0,t.jsx)("p",{className:"text-[#888888] mt-2 font-[family-name:var(--font-montserrat)] text-sm",children:"Sign in to your account"})]}),(0,t.jsxs)("div",{className:"bg-[#111111] border border-[#1a1a1a] p-8",children:["phone"===e&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{className:"text-xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5] mb-2",children:"Enter Your Phone Number"}),(0,t.jsx)("p",{className:"text-[#888888] text-sm font-[family-name:var(--font-montserrat)] mb-6",children:"We'll send you a verification code via SMS"}),p&&(0,t.jsx)("div",{className:"bg-red-500/10 border border-red-500/50 text-red-400 px-4 py-3 mb-6 text-sm font-[family-name:var(--font-montserrat)]",children:p}),(0,t.jsxs)("form",{onSubmit:B,className:"space-y-5",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"phone",className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Phone Number"}),(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("span",{className:"bg-[#1a1a1a] border border-[#2a2a2a] border-r-0 px-4 py-3 text-[#888888] font-[family-name:var(--font-montserrat)] text-sm",children:"+234"}),(0,t.jsx)("input",{type:"tel",id:"phone",value:i,onChange:e=>l(e.target.value.replace(/\D/g,"")),required:!0,maxLength:11,className:"flex-1 bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-3 text-[#f5f5f5] focus:border-[#c9a962] focus:outline-none transition-colors font-[family-name:var(--font-montserrat)] text-sm",placeholder:"8012345678"})]}),(0,t.jsx)("p",{className:"text-[#666666] text-xs mt-2 font-[family-name:var(--font-montserrat)]",children:"Enter your number without the leading zero"})]}),(0,t.jsx)("button",{type:"submit",disabled:v||i.length<10||!k,className:"w-full bg-[#c9a962] text-[#0a0a0a] py-3 font-[family-name:var(--font-montserrat)] text-sm uppercase tracking-wider hover:bg-[#d4b87a] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:v?"Checking...":"Continue"})]})]}),"password-choice"===e&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{className:"text-xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5] mb-2",children:"Welcome Back!"}),(0,t.jsx)("p",{className:"text-[#888888] text-sm font-[family-name:var(--font-montserrat)] mb-6",children:"How would you like to sign in?"}),p&&(0,t.jsx)("div",{className:"bg-red-500/10 border border-red-500/50 text-red-400 px-4 py-3 mb-6 text-sm font-[family-name:var(--font-montserrat)]",children:p}),(0,t.jsxs)("div",{className:"space-y-4",children:["otp"===x?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>u("password"),disabled:v,className:"w-full border border-[#c9a962] text-[#c9a962] py-3 font-[family-name:var(--font-montserrat)] text-sm uppercase tracking-wider hover:bg-[#c9a962]/10 transition-colors disabled:opacity-50",children:"Sign in with Password"}),(0,t.jsx)("button",{onClick:()=>T("otp"),disabled:v,className:"w-full bg-[#c9a962] text-[#0a0a0a] py-3 font-[family-name:var(--font-montserrat)] text-sm uppercase tracking-wider hover:bg-[#d4b87a] transition-colors disabled:opacity-50",children:v?"Sending Code...":"Sign in with SMS Code"})]}):(0,t.jsxs)("form",{onSubmit:W,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:w?"text":"password",id:"password",value:d,onChange:e=>f(e.target.value),required:!0,className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-3 pr-12 text-[#f5f5f5] focus:border-[#c9a962] focus:outline-none transition-colors font-[family-name:var(--font-montserrat)] text-sm",placeholder:"Enter your password"}),(0,t.jsx)("button",{type:"button",onClick:()=>N(!w),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#888888] hover:text-[#c9a962] transition-colors","aria-label":w?"Hide password":"Show password",children:w?(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"})}):(0,t.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})]}),(0,t.jsx)("button",{type:"submit",disabled:v||d.length<6,className:"w-full bg-[#c9a962] text-[#0a0a0a] py-3 font-[family-name:var(--font-montserrat)] text-sm uppercase tracking-wider hover:bg-[#d4b87a] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:v?"Signing in...":"Sign In"}),(0,t.jsx)("button",{type:"button",onClick:()=>{u("otp"),f(""),b("")},className:"w-full text-[#888888] hover:text-[#c9a962] py-2 font-[family-name:var(--font-montserrat)] text-sm transition-colors",children:"Use SMS code instead"})]}),(0,t.jsx)("button",{type:"button",onClick:z,className:"w-full text-[#888888] hover:text-[#c9a962] py-2 font-[family-name:var(--font-montserrat)] text-sm transition-colors",children:"Change Phone Number"})]})]}),"otp"===e&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{className:"text-xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5] mb-2",children:"Enter Verification Code"}),(0,t.jsxs)("p",{className:"text-[#888888] text-sm font-[family-name:var(--font-montserrat)] mb-6",children:["We sent a code to +234",i]}),p&&(0,t.jsx)("div",{className:"bg-red-500/10 border border-red-500/50 text-red-400 px-4 py-3 mb-6 text-sm font-[family-name:var(--font-montserrat)]",children:p}),y&&(0,t.jsx)("div",{className:"bg-green-500/10 border border-green-500/50 text-green-400 px-4 py-3 mb-6 text-sm font-[family-name:var(--font-montserrat)]",children:y}),(0,t.jsxs)("form",{onSubmit:D,className:"space-y-5",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"otp",className:"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]",children:"6-Digit Code"}),(0,t.jsx)("input",{type:"text",id:"otp",value:c,onChange:e=>{m(e.target.value.replace(/\D/g,"").slice(0,6))},required:!0,maxLength:6,className:"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-3 text-[#f5f5f5] focus:border-[#c9a962] focus:outline-none transition-colors font-[family-name:var(--font-montserrat)] text-sm text-center tracking-[0.5em] text-lg",placeholder:"000000",autoFocus:!0}),(0,t.jsx)("p",{className:"text-[#666666] text-xs mt-2 font-[family-name:var(--font-montserrat)]",children:"Code expires in 5 minutes"})]}),(0,t.jsx)("button",{type:"submit",disabled:v||6!==c.length,className:"w-full bg-[#c9a962] text-[#0a0a0a] py-3 font-[family-name:var(--font-montserrat)] text-sm uppercase tracking-wider hover:bg-[#d4b87a] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:v?"Verifying...":"Verify & Sign In"}),(0,t.jsx)("button",{type:"button",onClick:z,className:"w-full text-[#888888] hover:text-[#c9a962] py-2 font-[family-name:var(--font-montserrat)] text-sm transition-colors",children:"Change Phone Number"})]})]})]}),(0,t.jsx)("p",{className:"text-center mt-6 text-[#888888] text-sm font-[family-name:var(--font-montserrat)]",children:(0,t.jsx)(n.default,{href:"/",className:"hover:text-[#c9a962] transition-colors",children:"Back to Website"})})]})]})}e.s(["default",()=>o])}]);