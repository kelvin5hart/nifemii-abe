{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/kelvinatemie-hart/Documents/Website/nifemii-abe/src/app/account/appointments/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport {\n  collection,\n  query,\n  where,\n  orderBy,\n  onSnapshot,\n  addDoc,\n  updateDoc,\n  Timestamp,\n  doc,\n} from \"firebase/firestore\";\nimport { db } from \"@/lib/firebase\";\nimport { useAuth } from \"@/contexts/AuthContext\";\nimport {\n  Appointment,\n  AppointmentStatus,\n  AppointmentType,\n  AvailabilitySettings,\n} from \"@/lib/firebase-types\";\n\nconst statusColors: Record<AppointmentStatus, string> = {\n  pending: \"bg-yellow-500/20 text-yellow-400 border-yellow-500/50\",\n  confirmed: \"bg-blue-500/20 text-blue-400 border-blue-500/50\",\n  completed: \"bg-green-500/20 text-green-400 border-green-500/50\",\n  cancelled: \"bg-red-500/20 text-red-400 border-red-500/50\",\n  rescheduled: \"bg-purple-500/20 text-purple-400 border-purple-500/50\",\n};\n\nconst typeLabels: Record<AppointmentType, string> = {\n  consultation: \"Consultation\",\n  fitting: \"Fitting\",\n  pickup: \"Pickup\",\n  \"fabric-dropoff\": \"Fabric Drop-off\",\n};\n\nconst typeDescriptions: Record<AppointmentType, string> = {\n  consultation: \"Discuss your style ideas and get expert recommendations\",\n  fitting: \"Try on your outfit and make any necessary adjustments\",\n  pickup: \"Collect your completed order from the studio\",\n  \"fabric-dropoff\": \"Bring your fabric for a sew-only order\",\n};\n\nconst defaultAvailability: AvailabilitySettings = {\n  workingDays: [\"monday\", \"tuesday\", \"wednesday\", \"thursday\", \"friday\", \"saturday\"],\n  workingHours: { start: \"10:00\", end: \"18:00\" },\n  slotDuration: 30,\n  blockedDates: [],\n  blockedTimeSlots: [],\n};\n\nexport default function CustomerAppointmentsPage() {\n  const { user } = useAuth();\n  const [appointments, setAppointments] = useState<Appointment[]>([]);\n  const [availability, setAvailability] = useState<AvailabilitySettings>(defaultAvailability);\n  const [loading, setLoading] = useState(true);\n  const [showBookingModal, setShowBookingModal] = useState(false);\n  const [saving, setSaving] = useState(false);\n\n  // Booking form\n  const [bookingType, setBookingType] = useState<AppointmentType>(\"consultation\");\n  const [bookingDate, setBookingDate] = useState(\"\");\n  const [bookingTime, setBookingTime] = useState(\"\");\n  const [bookingNotes, setBookingNotes] = useState(\"\");\n\n  // Cancel/Reschedule state\n  const [selectedAppointment, setSelectedAppointment] = useState<Appointment | null>(null);\n  const [showCancelConfirm, setShowCancelConfirm] = useState(false);\n  const [showRescheduleModal, setShowRescheduleModal] = useState(false);\n  const [rescheduleDate, setRescheduleDate] = useState(\"\");\n  const [rescheduleTime, setRescheduleTime] = useState(\"\");\n  const [actionLoading, setActionLoading] = useState(false);\n\n  useEffect(() => {\n    if (!user?.phone) return;\n\n    // Fetch appointments\n    const appointmentsQuery = query(\n      collection(db, \"appointments\"),\n      where(\"userPhone\", \"==\", user.phone),\n      orderBy(\"date\", \"desc\")\n    );\n\n    const unsubscribe = onSnapshot(appointmentsQuery, (snapshot) => {\n      const appointmentsData = snapshot.docs.map((docSnap) => {\n        const data = docSnap.data();\n        return {\n          id: docSnap.id,\n          ...data,\n          createdAt: data.createdAt?.toDate() || new Date(),\n        } as Appointment;\n      });\n      setAppointments(appointmentsData);\n      setLoading(false);\n    });\n\n    return () => unsubscribe();\n  }, [user?.phone]);\n\n  // Fetch availability settings with real-time updates\n  useEffect(() => {\n    const unsubSettings = onSnapshot(doc(db, \"settings\", \"main\"), (docSnap) => {\n      if (docSnap.exists()) {\n        const data = docSnap.data();\n        if (data.availability) {\n          // Merge with defaults to ensure all fields exist\n          setAvailability({\n            ...defaultAvailability,\n            ...data.availability,\n            blockedTimeSlots: data.availability.blockedTimeSlots || [],\n          });\n        }\n      }\n    });\n\n    return () => unsubSettings();\n  }, []);\n\n  // Fetch all appointments for checking booked slots\n  const [allAppointments, setAllAppointments] = useState<Appointment[]>([]);\n\n  useEffect(() => {\n    // Fetch all non-cancelled appointments to check for booked slots\n    const allAppointmentsQuery = query(\n      collection(db, \"appointments\"),\n      where(\"status\", \"in\", [\"pending\", \"confirmed\", \"rescheduled\"])\n    );\n\n    const unsubAllAppointments = onSnapshot(allAppointmentsQuery, (snapshot) => {\n      const appointmentsData = snapshot.docs.map((docSnap) => ({\n        id: docSnap.id,\n        ...docSnap.data(),\n      })) as Appointment[];\n      setAllAppointments(appointmentsData);\n    });\n\n    return () => unsubAllAppointments();\n  }, []);\n\n  const generateTimeSlots = () => {\n    const slots: string[] = [];\n    const [startHour, startMin] = availability.workingHours.start.split(\":\").map(Number);\n    const [endHour, endMin] = availability.workingHours.end.split(\":\").map(Number);\n    const duration = availability.slotDuration;\n\n    let currentTime = startHour * 60 + startMin;\n    const endTime = endHour * 60 + endMin;\n\n    while (currentTime < endTime) {\n      const hours = Math.floor(currentTime / 60);\n      const mins = currentTime % 60;\n      slots.push(`${hours.toString().padStart(2, \"0\")}:${mins.toString().padStart(2, \"0\")}`);\n      currentTime += duration;\n    }\n\n    return slots;\n  };\n\n  // Check if a specific time slot is blocked by admin on a given date\n  const isTimeSlotBlocked = (dateStr: string, timeSlot: string) => {\n    const blockedSlots = availability.blockedTimeSlots || [];\n    const slotTime = parseInt(timeSlot.replace(\":\", \"\"));\n\n    return blockedSlots.some((blocked) => {\n      if (blocked.date !== dateStr) return false;\n\n      const blockStart = parseInt(blocked.startTime.replace(\":\", \"\"));\n      const blockEnd = parseInt(blocked.endTime.replace(\":\", \"\"));\n\n      // Check if the time slot falls within the blocked period\n      return slotTime >= blockStart && slotTime < blockEnd;\n    });\n  };\n\n  // Check if a time slot is already booked by someone\n  const isTimeSlotBooked = (dateStr: string, timeSlot: string, excludeAppointmentId?: string) => {\n    return allAppointments.some((apt) => {\n      if (excludeAppointmentId && apt.id === excludeAppointmentId) return false;\n      return apt.date === dateStr && apt.timeSlot === timeSlot;\n    });\n  };\n\n  // Check if a time slot is unavailable (blocked OR booked)\n  const isTimeSlotUnavailable = (dateStr: string, timeSlot: string, excludeAppointmentId?: string) => {\n    return isTimeSlotBlocked(dateStr, timeSlot) || isTimeSlotBooked(dateStr, timeSlot, excludeAppointmentId);\n  };\n\n  // Get available time slots for a given date (excluding blocked and booked slots)\n  const getAvailableTimeSlots = (dateStr: string, excludeAppointmentId?: string) => {\n    const allSlots = generateTimeSlots();\n    return allSlots.filter((slot) => !isTimeSlotUnavailable(dateStr, slot, excludeAppointmentId));\n  };\n\n  const isDateAvailable = (dateStr: string) => {\n    const date = new Date(dateStr);\n    const dayName = date.toLocaleDateString(\"en-US\", { weekday: \"long\" }).toLowerCase();\n\n    // Check if it's a working day\n    if (!availability.workingDays.includes(dayName)) return false;\n\n    // Check if it's blocked\n    if (availability.blockedDates.includes(dateStr)) return false;\n\n    return true;\n  };\n\n  const handleBookAppointment = async () => {\n    if (!user?.phone || !bookingDate || !bookingTime) return;\n\n    setSaving(true);\n    try {\n      await addDoc(collection(db, \"appointments\"), {\n        userId: user.id,\n        userPhone: user.phone,\n        userName: user.name || null,\n        type: bookingType,\n        date: bookingDate,\n        timeSlot: bookingTime,\n        status: \"pending\",\n        notes: bookingNotes || null,\n        createdBy: \"customer\",\n        createdAt: Timestamp.now(),\n      });\n\n      setShowBookingModal(false);\n      setBookingType(\"consultation\");\n      setBookingDate(\"\");\n      setBookingTime(\"\");\n      setBookingNotes(\"\");\n    } catch (error) {\n      console.error(\"Error booking appointment:\", error);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const formatDateDisplay = (dateStr: string) => {\n    return new Date(dateStr).toLocaleDateString(\"en-NG\", {\n      weekday: \"long\",\n      day: \"numeric\",\n      month: \"long\",\n      year: \"numeric\",\n    });\n  };\n\n  const upcomingAppointments = appointments.filter(\n    (a) => new Date(a.date) >= new Date() && ![\"cancelled\", \"completed\"].includes(a.status)\n  );\n  const pastAppointments = appointments.filter(\n    (a) => new Date(a.date) < new Date() || [\"cancelled\", \"completed\"].includes(a.status)\n  );\n\n  const canModifyAppointment = (apt: Appointment) => {\n    // Can only cancel/reschedule pending or confirmed appointments\n    return [\"pending\", \"confirmed\"].includes(apt.status);\n  };\n\n  const handleCancelAppointment = async () => {\n    if (!selectedAppointment) return;\n\n    setActionLoading(true);\n    try {\n      await updateDoc(doc(db, \"appointments\", selectedAppointment.id), {\n        status: \"cancelled\",\n        updatedAt: Timestamp.now(),\n      });\n      setShowCancelConfirm(false);\n      setSelectedAppointment(null);\n    } catch (error) {\n      console.error(\"Error cancelling appointment:\", error);\n    } finally {\n      setActionLoading(false);\n    }\n  };\n\n  const handleRescheduleAppointment = async () => {\n    if (!selectedAppointment || !rescheduleDate || !rescheduleTime) return;\n\n    setActionLoading(true);\n    try {\n      await updateDoc(doc(db, \"appointments\", selectedAppointment.id), {\n        date: rescheduleDate,\n        timeSlot: rescheduleTime,\n        status: \"pending\", // Reset to pending for admin review\n        updatedAt: Timestamp.now(),\n      });\n      setShowRescheduleModal(false);\n      setSelectedAppointment(null);\n      setRescheduleDate(\"\");\n      setRescheduleTime(\"\");\n    } catch (error) {\n      console.error(\"Error rescheduling appointment:\", error);\n    } finally {\n      setActionLoading(false);\n    }\n  };\n\n  const openRescheduleModal = (apt: Appointment) => {\n    setSelectedAppointment(apt);\n    setRescheduleDate(apt.date);\n    setRescheduleTime(apt.timeSlot);\n    setShowRescheduleModal(true);\n  };\n\n  const openCancelConfirm = (apt: Appointment) => {\n    setSelectedAppointment(apt);\n    setShowCancelConfirm(true);\n  };\n\n  // Generate minimum date (today)\n  const today = new Date().toISOString().split(\"T\")[0];\n\n  return (\n    <>\n      <div>\n        <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-8\">\n          <div>\n            <h1 className=\"text-2xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5]\">\n              Appointments\n            </h1>\n            <p className=\"text-[#888888] text-sm font-[family-name:var(--font-montserrat)]\">\n              Schedule and manage your appointments\n            </p>\n          </div>\n          <button\n            onClick={() => setShowBookingModal(true)}\n            className=\"bg-[#c9a962] text-[#0a0a0a] px-4 py-2 text-sm font-[family-name:var(--font-montserrat)] hover:bg-[#d4b87a] transition-colors\"\n          >\n            Book Appointment\n          </button>\n        </div>\n\n        {loading ? (\n          <div className=\"flex items-center justify-center h-64\">\n            <div className=\"text-[#888888]\">Loading appointments...</div>\n          </div>\n        ) : appointments.length === 0 ? (\n          <div className=\"bg-[#111111] border border-[#1a1a1a] p-12 text-center\">\n            <svg\n              className=\"w-16 h-16 text-[#2a2a2a] mx-auto mb-4\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={1}\n                d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"\n              />\n            </svg>\n            <p className=\"text-[#888888] font-[family-name:var(--font-montserrat)] mb-4\">\n              No appointments scheduled\n            </p>\n            <button\n              onClick={() => setShowBookingModal(true)}\n              className=\"inline-block bg-[#c9a962] text-[#0a0a0a] px-6 py-2 font-[family-name:var(--font-montserrat)] text-sm uppercase tracking-wider hover:bg-[#d4b87a] transition-colors\"\n            >\n              Book Your First Appointment\n            </button>\n          </div>\n        ) : (\n          <div className=\"space-y-8\">\n            {/* Upcoming Appointments */}\n            {upcomingAppointments.length > 0 && (\n              <div>\n                <h2 className=\"text-lg font-[family-name:var(--font-cormorant)] text-[#f5f5f5] mb-4\">\n                  Upcoming ({upcomingAppointments.length})\n                </h2>\n                <div className=\"space-y-4\">\n                  {upcomingAppointments.map((apt) => (\n                    <div\n                      key={apt.id}\n                      className=\"bg-[#111111] border border-[#1a1a1a] p-4\"\n                    >\n                      <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-4\">\n                        <div className=\"flex items-start gap-4\">\n                          <div className=\"text-center bg-[#0a0a0a] p-3 border border-[#1a1a1a]\">\n                            <p className=\"text-2xl text-[#c9a962] font-[family-name:var(--font-cormorant)]\">\n                              {new Date(apt.date).getDate()}\n                            </p>\n                            <p className=\"text-xs text-[#888888] font-[family-name:var(--font-montserrat)] uppercase\">\n                              {new Date(apt.date).toLocaleDateString(\"en-US\", { month: \"short\" })}\n                            </p>\n                          </div>\n                          <div>\n                            <p className=\"text-[#f5f5f5] font-[family-name:var(--font-montserrat)]\">\n                              {typeLabels[apt.type]}\n                            </p>\n                            <p className=\"text-sm text-[#888888] font-[family-name:var(--font-montserrat)]\">\n                              {apt.timeSlot} •{\" \"}\n                              {new Date(apt.date).toLocaleDateString(\"en-NG\", {\n                                weekday: \"long\",\n                              })}\n                            </p>\n                            {apt.notes && (\n                              <p className=\"text-sm text-[#666666] mt-1 font-[family-name:var(--font-montserrat)]\">\n                                Note: {apt.notes}\n                              </p>\n                            )}\n                          </div>\n                        </div>\n                        <div className=\"flex items-center gap-3\">\n                          <span\n                            className={`px-3 py-1 text-xs border ${statusColors[apt.status]} font-[family-name:var(--font-montserrat)]`}\n                          >\n                            {apt.status}\n                          </span>\n                          {canModifyAppointment(apt) && (\n                            <div className=\"flex gap-2\">\n                              <button\n                                onClick={() => openRescheduleModal(apt)}\n                                className=\"text-[#c9a962] text-sm font-[family-name:var(--font-montserrat)] hover:underline\"\n                              >\n                                Reschedule\n                              </button>\n                              <button\n                                onClick={() => openCancelConfirm(apt)}\n                                className=\"text-red-400 text-sm font-[family-name:var(--font-montserrat)] hover:underline\"\n                              >\n                                Cancel\n                              </button>\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n\n            {/* Past Appointments */}\n            {pastAppointments.length > 0 && (\n              <div>\n                <h2 className=\"text-lg font-[family-name:var(--font-cormorant)] text-[#f5f5f5] mb-4\">\n                  Past Appointments\n                </h2>\n                <div className=\"bg-[#111111] border border-[#1a1a1a] divide-y divide-[#1a1a1a]\">\n                  {pastAppointments.map((apt) => (\n                    <div key={apt.id} className=\"p-4\">\n                      <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-2\">\n                        <div>\n                          <span className=\"text-[#f5f5f5] font-[family-name:var(--font-montserrat)]\">\n                            {typeLabels[apt.type]}\n                          </span>\n                          <span className=\"text-[#888888] text-sm ml-3 font-[family-name:var(--font-montserrat)]\">\n                            {formatDateDisplay(apt.date)} at {apt.timeSlot}\n                          </span>\n                        </div>\n                        <span\n                          className={`px-2 py-0.5 text-xs border ${statusColors[apt.status]} font-[family-name:var(--font-montserrat)]`}\n                        >\n                          {apt.status}\n                        </span>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* Booking Modal */}\n        {showBookingModal && (\n          <div className=\"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4\">\n            <div className=\"bg-[#111111] border border-[#1a1a1a] w-full max-w-md max-h-[90vh] overflow-y-auto\">\n              <div className=\"sticky top-0 bg-[#111111] border-b border-[#1a1a1a] px-6 py-4 flex items-center justify-between\">\n                <h2 className=\"text-xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5]\">\n                  Book Appointment\n                </h2>\n                <button\n                  onClick={() => setShowBookingModal(false)}\n                  className=\"text-[#888888] hover:text-[#f5f5f5]\"\n                >\n                  ✕\n                </button>\n              </div>\n\n              <div className=\"p-6 space-y-6\">\n                {/* Appointment Type */}\n                <div>\n                  <label className=\"block text-sm text-[#888888] mb-3 font-[family-name:var(--font-montserrat)]\">\n                    What do you need?\n                  </label>\n                  <div className=\"space-y-2\">\n                    {(Object.keys(typeLabels) as AppointmentType[]).map((type) => (\n                      <button\n                        key={type}\n                        onClick={() => setBookingType(type)}\n                        className={`w-full text-left p-3 border transition-colors ${\n                          bookingType === type\n                            ? \"border-[#c9a962] bg-[#c9a962]/10\"\n                            : \"border-[#2a2a2a] hover:border-[#3a3a3a]\"\n                        }`}\n                      >\n                        <p\n                          className={`font-[family-name:var(--font-montserrat)] ${\n                            bookingType === type ? \"text-[#c9a962]\" : \"text-[#f5f5f5]\"\n                          }`}\n                        >\n                          {typeLabels[type]}\n                        </p>\n                        <p className=\"text-xs text-[#888888] font-[family-name:var(--font-montserrat)] mt-1\">\n                          {typeDescriptions[type]}\n                        </p>\n                      </button>\n                    ))}\n                  </div>\n                </div>\n\n                {/* Date */}\n                <div>\n                  <label className=\"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]\">\n                    Select Date\n                  </label>\n                  <input\n                    type=\"date\"\n                    value={bookingDate}\n                    onChange={(e) => {\n                      setBookingDate(e.target.value);\n                      setBookingTime(\"\"); // Reset time when date changes\n                    }}\n                    min={today}\n                    className=\"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none\"\n                  />\n                  {bookingDate && !isDateAvailable(bookingDate) && (\n                    <p className=\"text-red-400 text-xs mt-2 font-[family-name:var(--font-montserrat)]\">\n                      This date is not available. Please select another date.\n                    </p>\n                  )}\n                </div>\n\n                {/* Time */}\n                {bookingDate && isDateAvailable(bookingDate) && (\n                  <div>\n                    <label className=\"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]\">\n                      Select Time\n                    </label>\n                    <div className=\"grid grid-cols-4 gap-2\">\n                      {generateTimeSlots().map((slot) => {\n                        const isBlocked = isTimeSlotBlocked(bookingDate, slot);\n                        const isBooked = isTimeSlotBooked(bookingDate, slot);\n                        const isUnavailable = isBlocked || isBooked;\n                        return (\n                          <button\n                            key={slot}\n                            onClick={() => !isUnavailable && setBookingTime(slot)}\n                            disabled={isUnavailable}\n                            className={`py-2 text-sm border font-[family-name:var(--font-montserrat)] transition-colors ${\n                              isUnavailable\n                                ? \"border-[#1a1a1a] text-[#444444] bg-[#1a1a1a] cursor-not-allowed\"\n                                : bookingTime === slot\n                                ? \"border-[#c9a962] text-[#c9a962] bg-[#c9a962]/10\"\n                                : \"border-[#2a2a2a] text-[#888888] hover:border-[#3a3a3a]\"\n                            }`}\n                          >\n                            {slot}\n                            {isBooked && !isBlocked && <span className=\"block text-[9px]\">Booked</span>}\n                            {isBlocked && <span className=\"block text-[9px]\">Unavailable</span>}\n                          </button>\n                        );\n                      })}\n                    </div>\n                    {getAvailableTimeSlots(bookingDate).length === 0 && (\n                      <p className=\"text-orange-400 text-xs mt-2 font-[family-name:var(--font-montserrat)]\">\n                        No available time slots on this date. Please select another date.\n                      </p>\n                    )}\n                  </div>\n                )}\n\n                {/* Notes */}\n                <div>\n                  <label className=\"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]\">\n                    Additional Notes (optional)\n                  </label>\n                  <textarea\n                    value={bookingNotes}\n                    onChange={(e) => setBookingNotes(e.target.value)}\n                    rows={2}\n                    className=\"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none resize-none\"\n                    placeholder=\"Any special requests or notes...\"\n                  />\n                </div>\n\n                {/* Summary */}\n                {bookingDate && bookingTime && (\n                  <div className=\"bg-[#0a0a0a] p-4 border border-[#1a1a1a]\">\n                    <p className=\"text-xs text-[#666666] mb-2 font-[family-name:var(--font-montserrat)]\">\n                      Your Appointment\n                    </p>\n                    <p className=\"text-[#f5f5f5] font-[family-name:var(--font-montserrat)]\">\n                      {typeLabels[bookingType]}\n                    </p>\n                    <p className=\"text-sm text-[#888888] font-[family-name:var(--font-montserrat)]\">\n                      {formatDateDisplay(bookingDate)} at {bookingTime}\n                    </p>\n                  </div>\n                )}\n\n                {/* Actions */}\n                <div className=\"flex gap-4 pt-4\">\n                  <button\n                    onClick={() => setShowBookingModal(false)}\n                    className=\"flex-1 border border-[#2a2a2a] text-[#888888] py-2 font-[family-name:var(--font-montserrat)] hover:border-[#3a3a3a] hover:text-[#f5f5f5] transition-colors\"\n                  >\n                    Cancel\n                  </button>\n                  <button\n                    onClick={handleBookAppointment}\n                    disabled={\n                      saving || !bookingDate || !bookingTime || !isDateAvailable(bookingDate) || isTimeSlotUnavailable(bookingDate, bookingTime)\n                    }\n                    className=\"flex-1 bg-[#c9a962] text-[#0a0a0a] py-2 font-[family-name:var(--font-montserrat)] hover:bg-[#d4b87a] transition-colors disabled:opacity-50\"\n                  >\n                    {saving ? \"Booking...\" : \"Confirm Booking\"}\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Cancel Confirmation Modal */}\n        {showCancelConfirm && selectedAppointment && (\n          <div className=\"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4\">\n            <div className=\"bg-[#111111] border border-[#1a1a1a] w-full max-w-sm p-6\">\n              <h3 className=\"text-lg font-[family-name:var(--font-cormorant)] text-[#f5f5f5] mb-4\">\n                Cancel Appointment\n              </h3>\n              <p className=\"text-[#888888] text-sm font-[family-name:var(--font-montserrat)] mb-2\">\n                Are you sure you want to cancel your{\" \"}\n                <span className=\"text-[#f5f5f5]\">{typeLabels[selectedAppointment.type]}</span>{\" \"}\n                appointment?\n              </p>\n              <p className=\"text-[#888888] text-sm font-[family-name:var(--font-montserrat)] mb-6\">\n                Scheduled for{\" \"}\n                <span className=\"text-[#f5f5f5]\">\n                  {formatDateDisplay(selectedAppointment.date)} at {selectedAppointment.timeSlot}\n                </span>\n              </p>\n              <div className=\"flex gap-3\">\n                <button\n                  onClick={() => {\n                    setShowCancelConfirm(false);\n                    setSelectedAppointment(null);\n                  }}\n                  disabled={actionLoading}\n                  className=\"flex-1 border border-[#2a2a2a] text-[#f5f5f5] py-2 text-sm font-[family-name:var(--font-montserrat)] hover:bg-[#1a1a1a] transition-colors disabled:opacity-50\"\n                >\n                  Keep Appointment\n                </button>\n                <button\n                  onClick={handleCancelAppointment}\n                  disabled={actionLoading}\n                  className=\"flex-1 bg-red-500 text-white py-2 text-sm font-[family-name:var(--font-montserrat)] hover:bg-red-600 transition-colors disabled:opacity-50\"\n                >\n                  {actionLoading ? \"Cancelling...\" : \"Yes, Cancel\"}\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Reschedule Modal */}\n        {showRescheduleModal && selectedAppointment && (\n          <div className=\"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4\">\n            <div className=\"bg-[#111111] border border-[#1a1a1a] w-full max-w-md max-h-[90vh] overflow-y-auto\">\n              <div className=\"sticky top-0 bg-[#111111] border-b border-[#1a1a1a] px-6 py-4 flex items-center justify-between\">\n                <h2 className=\"text-xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5]\">\n                  Reschedule Appointment\n                </h2>\n                <button\n                  onClick={() => {\n                    setShowRescheduleModal(false);\n                    setSelectedAppointment(null);\n                    setRescheduleDate(\"\");\n                    setRescheduleTime(\"\");\n                  }}\n                  className=\"text-[#888888] hover:text-[#f5f5f5]\"\n                >\n                  ✕\n                </button>\n              </div>\n\n              <div className=\"p-6 space-y-6\">\n                {/* Current appointment info */}\n                <div className=\"bg-[#0a0a0a] p-4 border border-[#1a1a1a]\">\n                  <p className=\"text-xs text-[#666666] mb-2 font-[family-name:var(--font-montserrat)]\">\n                    Current Appointment\n                  </p>\n                  <p className=\"text-[#f5f5f5] font-[family-name:var(--font-montserrat)]\">\n                    {typeLabels[selectedAppointment.type]}\n                  </p>\n                  <p className=\"text-sm text-[#888888] font-[family-name:var(--font-montserrat)]\">\n                    {formatDateDisplay(selectedAppointment.date)} at {selectedAppointment.timeSlot}\n                  </p>\n                </div>\n\n                {/* New Date */}\n                <div>\n                  <label className=\"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]\">\n                    Select New Date\n                  </label>\n                  <input\n                    type=\"date\"\n                    value={rescheduleDate}\n                    onChange={(e) => {\n                      setRescheduleDate(e.target.value);\n                      setRescheduleTime(\"\"); // Reset time when date changes\n                    }}\n                    min={today}\n                    className=\"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none\"\n                  />\n                  {rescheduleDate && !isDateAvailable(rescheduleDate) && (\n                    <p className=\"text-red-400 text-xs mt-2 font-[family-name:var(--font-montserrat)]\">\n                      This date is not available. Please select another date.\n                    </p>\n                  )}\n                </div>\n\n                {/* New Time */}\n                {rescheduleDate && isDateAvailable(rescheduleDate) && (\n                  <div>\n                    <label className=\"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]\">\n                      Select New Time\n                    </label>\n                    <div className=\"grid grid-cols-4 gap-2\">\n                      {generateTimeSlots().map((slot) => {\n                        const isBlocked = isTimeSlotBlocked(rescheduleDate, slot);\n                        const isBooked = isTimeSlotBooked(rescheduleDate, slot, selectedAppointment?.id);\n                        const isUnavailable = isBlocked || isBooked;\n                        return (\n                          <button\n                            key={slot}\n                            onClick={() => !isUnavailable && setRescheduleTime(slot)}\n                            disabled={isUnavailable}\n                            className={`py-2 text-sm border font-[family-name:var(--font-montserrat)] transition-colors relative ${\n                              isUnavailable\n                                ? \"border-[#1a1a1a] text-[#444444] bg-[#1a1a1a] cursor-not-allowed\"\n                                : rescheduleTime === slot\n                                ? \"border-[#c9a962] text-[#c9a962] bg-[#c9a962]/10\"\n                                : \"border-[#2a2a2a] text-[#888888] hover:border-[#3a3a3a]\"\n                            }`}\n                          >\n                            <span className={isUnavailable ? \"line-through\" : \"\"}>{slot}</span>\n                            {isBooked && !isBlocked && (\n                              <span className=\"absolute -top-1 -right-1 text-[8px] bg-orange-500/80 text-white px-1 rounded\">\n                                Booked\n                              </span>\n                            )}\n                            {isBlocked && (\n                              <span className=\"absolute -top-1 -right-1 text-[8px] bg-red-500/80 text-white px-1 rounded\">\n                                Unavailable\n                              </span>\n                            )}\n                          </button>\n                        );\n                      })}\n                    </div>\n                    {getAvailableTimeSlots(rescheduleDate, selectedAppointment?.id).length === 0 && (\n                      <p className=\"text-orange-400 text-xs mt-2 font-[family-name:var(--font-montserrat)]\">\n                        No available time slots on this date. Please select another date.\n                      </p>\n                    )}\n                  </div>\n                )}\n\n                {/* New appointment summary */}\n                {rescheduleDate && rescheduleTime && (\n                  <div className=\"bg-[#c9a962]/10 p-4 border border-[#c9a962]/30\">\n                    <p className=\"text-xs text-[#c9a962] mb-2 font-[family-name:var(--font-montserrat)]\">\n                      New Appointment\n                    </p>\n                    <p className=\"text-[#f5f5f5] font-[family-name:var(--font-montserrat)]\">\n                      {typeLabels[selectedAppointment.type]}\n                    </p>\n                    <p className=\"text-sm text-[#888888] font-[family-name:var(--font-montserrat)]\">\n                      {formatDateDisplay(rescheduleDate)} at {rescheduleTime}\n                    </p>\n                  </div>\n                )}\n\n                {/* Actions */}\n                <div className=\"flex gap-4 pt-4\">\n                  <button\n                    onClick={() => {\n                      setShowRescheduleModal(false);\n                      setSelectedAppointment(null);\n                      setRescheduleDate(\"\");\n                      setRescheduleTime(\"\");\n                    }}\n                    disabled={actionLoading}\n                    className=\"flex-1 border border-[#2a2a2a] text-[#888888] py-2 font-[family-name:var(--font-montserrat)] hover:border-[#3a3a3a] hover:text-[#f5f5f5] transition-colors disabled:opacity-50\"\n                  >\n                    Cancel\n                  </button>\n                  <button\n                    onClick={handleRescheduleAppointment}\n                    disabled={\n                      actionLoading ||\n                      !rescheduleDate ||\n                      !rescheduleTime ||\n                      !isDateAvailable(rescheduleDate) ||\n                      isTimeSlotUnavailable(rescheduleDate, rescheduleTime, selectedAppointment?.id) ||\n                      (rescheduleDate === selectedAppointment.date &&\n                        rescheduleTime === selectedAppointment.timeSlot)\n                    }\n                    className=\"flex-1 bg-[#c9a962] text-[#0a0a0a] py-2 font-[family-name:var(--font-montserrat)] hover:bg-[#d4b87a] transition-colors disabled:opacity-50\"\n                  >\n                    {actionLoading ? \"Rescheduling...\" : \"Confirm Reschedule\"}\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}