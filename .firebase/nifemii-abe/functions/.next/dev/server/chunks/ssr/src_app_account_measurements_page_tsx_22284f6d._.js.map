{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/kelvinatemie-hart/Documents/Website/nifemii-abe/src/app/account/measurements/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { doc, updateDoc, Timestamp } from \"firebase/firestore\";\nimport { db } from \"@/lib/firebase\";\nimport { useAuth } from \"@/contexts/AuthContext\";\nimport { Measurements } from \"@/lib/firebase-types\";\n\n// Helper to convert Firestore Timestamp or Date to Date\nconst toDate = (value: unknown): Date | null => {\n  if (!value) return null;\n  if (value instanceof Date) return value;\n  if (typeof value === \"object\" && value !== null && \"toDate\" in value) {\n    return (value as { toDate: () => Date }).toDate();\n  }\n  if (typeof value === \"object\" && value !== null && \"seconds\" in value) {\n    // Handle serialized timestamp { seconds, nanoseconds }\n    return new Date((value as { seconds: number }).seconds * 1000);\n  }\n  return null;\n};\n\nconst measurementFields = [\n  {\n    key: \"chest\",\n    label: \"Chest\",\n    description: \"Measure around the fullest part of your chest\",\n  },\n  {\n    key: \"waist\",\n    label: \"Waist\",\n    description: \"Measure around your natural waistline\",\n  },\n  {\n    key: \"hips\",\n    label: \"Hips\",\n    description: \"Measure around the fullest part of your hips\",\n  },\n  {\n    key: \"shoulder\",\n    label: \"Shoulder Width\",\n    description: \"Measure from shoulder point to shoulder point\",\n  },\n  {\n    key: \"sleeveLength\",\n    label: \"Sleeve Length\",\n    description: \"Measure from shoulder point to wrist\",\n  },\n  {\n    key: \"shirtLength\",\n    label: \"Shirt/Top Length\",\n    description: \"Measure from shoulder to desired length\",\n  },\n  {\n    key: \"neck\",\n    label: \"Neck\",\n    description: \"Measure around the base of your neck\",\n  },\n  {\n    key: \"trouserWaist\",\n    label: \"Trouser Waist\",\n    description: \"Measure where you want your trousers to sit\",\n  },\n  {\n    key: \"trouserLength\",\n    label: \"Trouser Length\",\n    description: \"Measure from waist to ankle or desired length\",\n  },\n  {\n    key: \"thigh\",\n    label: \"Thigh\",\n    description: \"Measure around the fullest part of your thigh\",\n  },\n  {\n    key: \"ankle\",\n    label: \"Ankle\",\n    description: \"Measure around your ankle\",\n  },\n];\n\nexport default function CustomerMeasurementsPage() {\n  const { user } = useAuth();\n  const [measurements, setMeasurements] = useState<Measurements>({});\n  const [editing, setEditing] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const [saved, setSaved] = useState(false);\n\n  useEffect(() => {\n    if (user?.measurements) {\n      setMeasurements(user.measurements);\n    }\n  }, [user?.measurements]);\n\n  const handleSave = async () => {\n    if (!user?.id) return;\n\n    setSaving(true);\n    setSaved(false);\n\n    try {\n      await updateDoc(doc(db, \"users\", user.id), {\n        measurements: {\n          ...measurements,\n          updatedAt: Timestamp.now(),\n        },\n        updatedAt: Timestamp.now(),\n      });\n      setEditing(false);\n      setSaved(true);\n      setTimeout(() => setSaved(false), 3000);\n    } catch (error) {\n      console.error(\"Error saving measurements:\", error);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const updateField = (key: string, value: string) => {\n    const numValue = parseFloat(value);\n    setMeasurements({\n      ...measurements,\n      [key]: isNaN(numValue) ? undefined : numValue,\n    });\n  };\n\n  const hasAnyMeasurements = measurementFields.some(\n    (f) => (measurements as Record<string, number | undefined>)[f.key]\n  );\n\n  return (\n    <>\n      <div>\n        <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-8\">\n          <div>\n            <h1 className=\"text-2xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5]\">\n              My Measurements\n            </h1>\n            <p className=\"text-[#888888] text-sm font-[family-name:var(--font-montserrat)]\">\n              Keep your measurements updated for perfect-fitting outfits\n            </p>\n          </div>\n          {!editing ? (\n            <button\n              onClick={() => setEditing(true)}\n              className=\"bg-[#c9a962] text-[#0a0a0a] px-4 py-2 text-sm font-[family-name:var(--font-montserrat)] hover:bg-[#d4b87a] transition-colors\"\n            >\n              {hasAnyMeasurements ? \"Edit Measurements\" : \"Add Measurements\"}\n            </button>\n          ) : (\n            <div className=\"flex gap-2\">\n              <button\n                onClick={() => {\n                  setEditing(false);\n                  setMeasurements(user?.measurements || {});\n                }}\n                className=\"border border-[#2a2a2a] text-[#888888] px-4 py-2 text-sm font-[family-name:var(--font-montserrat)] hover:border-[#3a3a3a] hover:text-[#f5f5f5] transition-colors\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleSave}\n                disabled={saving}\n                className=\"bg-[#c9a962] text-[#0a0a0a] px-4 py-2 text-sm font-[family-name:var(--font-montserrat)] hover:bg-[#d4b87a] transition-colors disabled:opacity-50\"\n              >\n                {saving ? \"Saving...\" : saved ? \"Saved!\" : \"Save\"}\n              </button>\n            </div>\n          )}\n        </div>\n\n        {/* Measurement Guide */}\n        <div className=\"bg-[#111111] border border-[#1a1a1a] p-6 mb-8\">\n          <h2 className=\"text-lg font-[family-name:var(--font-cormorant)] text-[#f5f5f5] mb-4\">\n            How to Measure\n          </h2>\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm font-[family-name:var(--font-montserrat)]\">\n            <div className=\"flex items-start gap-3\">\n              <span className=\"text-[#c9a962]\">1</span>\n              <p className=\"text-[#888888]\">\n                Use a flexible measuring tape for accurate measurements\n              </p>\n            </div>\n            <div className=\"flex items-start gap-3\">\n              <span className=\"text-[#c9a962]\">2</span>\n              <p className=\"text-[#888888]\">\n                Stand straight with arms relaxed at your sides\n              </p>\n            </div>\n            <div className=\"flex items-start gap-3\">\n              <span className=\"text-[#c9a962]\">3</span>\n              <p className=\"text-[#888888]\">\n                Keep the tape snug but not tight\n              </p>\n            </div>\n            <div className=\"flex items-start gap-3\">\n              <span className=\"text-[#c9a962]\">4</span>\n              <p className=\"text-[#888888]\">\n                All measurements are in inches\n              </p>\n            </div>\n          </div>\n        </div>\n\n        {/* Measurements Form/Display */}\n        <div className=\"bg-[#111111] border border-[#1a1a1a]\">\n          <div className=\"p-6 border-b border-[#1a1a1a]\">\n            <h2 className=\"text-lg font-[family-name:var(--font-cormorant)] text-[#f5f5f5]\">\n              Your Measurements\n            </h2>\n            <p className=\"text-[#888888] text-sm font-[family-name:var(--font-montserrat)]\">\n              All measurements in inches\n            </p>\n          </div>\n\n          <div className=\"p-6\">\n            {!hasAnyMeasurements && !editing ? (\n              <div className=\"text-center py-8\">\n                <svg\n                  className=\"w-16 h-16 text-[#2a2a2a] mx-auto mb-4\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={1}\n                    d=\"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n                  />\n                </svg>\n                <p className=\"text-[#888888] font-[family-name:var(--font-montserrat)] mb-4\">\n                  No measurements saved yet\n                </p>\n                <button\n                  onClick={() => setEditing(true)}\n                  className=\"inline-block bg-[#c9a962] text-[#0a0a0a] px-6 py-2 font-[family-name:var(--font-montserrat)] text-sm uppercase tracking-wider hover:bg-[#d4b87a] transition-colors\"\n                >\n                  Add Your Measurements\n                </button>\n              </div>\n            ) : (\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\">\n                {measurementFields.map((field) => (\n                  <div key={field.key} className=\"space-y-2\">\n                    <label className=\"block text-sm text-[#f5f5f5] font-[family-name:var(--font-montserrat)]\">\n                      {field.label}\n                    </label>\n                    {editing ? (\n                      <>\n                        <div className=\"flex items-center gap-2\">\n                          <input\n                            type=\"number\"\n                            step=\"0.5\"\n                            value={\n                              (measurements as Record<string, number | undefined>)[field.key] ||\n                              \"\"\n                            }\n                            onChange={(e) => updateField(field.key, e.target.value)}\n                            className=\"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none\"\n                            placeholder=\"0\"\n                          />\n                          <span className=\"text-[#888888] text-sm font-[family-name:var(--font-montserrat)]\">\n                            in\n                          </span>\n                        </div>\n                        <p className=\"text-xs text-[#666666] font-[family-name:var(--font-montserrat)]\">\n                          {field.description}\n                        </p>\n                      </>\n                    ) : (\n                      <div className=\"bg-[#0a0a0a] border border-[#1a1a1a] px-4 py-3\">\n                        <span className=\"text-[#f5f5f5] font-[family-name:var(--font-montserrat)]\">\n                          {(measurements as Record<string, number | undefined>)[field.key] || \"-\"}\n                        </span>\n                        {(measurements as Record<string, number | undefined>)[field.key] && (\n                          <span className=\"text-[#888888] text-sm ml-1 font-[family-name:var(--font-montserrat)]\">\n                            inches\n                          </span>\n                        )}\n                      </div>\n                    )}\n                  </div>\n                ))}\n              </div>\n            )}\n\n            {/* Notes */}\n            {(editing || measurements.notes) && (\n              <div className=\"mt-6 pt-6 border-t border-[#1a1a1a]\">\n                <label className=\"block text-sm text-[#f5f5f5] mb-2 font-[family-name:var(--font-montserrat)]\">\n                  Additional Notes\n                </label>\n                {editing ? (\n                  <textarea\n                    value={measurements.notes || \"\"}\n                    onChange={(e) =>\n                      setMeasurements({ ...measurements, notes: e.target.value })\n                    }\n                    rows={3}\n                    className=\"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none resize-none\"\n                    placeholder=\"Any special fitting preferences or notes for the tailor...\"\n                  />\n                ) : (\n                  <div className=\"bg-[#0a0a0a] border border-[#1a1a1a] px-4 py-3\">\n                    <p className=\"text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)]\">\n                      {measurements.notes}\n                    </p>\n                  </div>\n                )}\n              </div>\n            )}\n          </div>\n\n          {/* Last Updated */}\n          {measurements.updatedAt && toDate(measurements.updatedAt) && (\n            <div className=\"px-6 py-4 border-t border-[#1a1a1a] text-sm text-[#888888] font-[family-name:var(--font-montserrat)]\">\n              Last updated:{\" \"}\n              {toDate(measurements.updatedAt)!.toLocaleDateString(\"en-NG\", {\n                day: \"numeric\",\n                month: \"long\",\n                year: \"numeric\",\n              })}\n            </div>\n          )}\n        </div>\n\n        {/* Tips */}\n        <div className=\"mt-8 bg-[#c9a962]/10 border border-[#c9a962]/30 p-6\">\n          <h3 className=\"text-[#c9a962] font-[family-name:var(--font-cormorant)] text-lg mb-2\">\n            Pro Tip\n          </h3>\n          <p className=\"text-[#888888] text-sm font-[family-name:var(--font-montserrat)]\">\n            For the most accurate fit, we recommend getting professionally measured at our studio\n            during a consultation appointment. Our experts can ensure precise measurements for\n            your bespoke pieces.\n          </p>\n        </div>\n      </div>\n    </>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}