{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/kelvinatemie-hart/Documents/Website/nifemii-abe/src/app/admin/products/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useRef } from \"react\";\nimport {\n  collection,\n  query,\n  orderBy,\n  onSnapshot,\n  doc,\n  updateDoc,\n  deleteDoc,\n  addDoc,\n  Timestamp,\n} from \"firebase/firestore\";\nimport { ref, uploadBytes, getDownloadURL, deleteObject } from \"firebase/storage\";\nimport { db, storage } from \"@/lib/firebase\";\nimport { Product } from \"@/lib/firebase-types\";\nimport Image from \"next/image\";\nimport { standardSizes } from \"@/components/SizeGuide\";\n\nconst defaultProduct: Omit<Product, \"id\" | \"createdAt\"> = {\n  name: \"\",\n  description: \"\",\n  price: 0,\n  images: [],\n  category: \"\",\n  sizes: {},\n  active: true,\n};\n\nexport default function AdminProductsPage() {\n  const [products, setProducts] = useState<Product[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [editingProduct, setEditingProduct] = useState<Partial<Product> | null>(null);\n  const [isNew, setIsNew] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const [filterCategory, setFilterCategory] = useState<string>(\"all\");\n  const [newImageUrl, setNewImageUrl] = useState(\"\");\n  const [newSize, setNewSize] = useState({ size: \"\", stock: 0 });\n  const [uploadingImage, setUploadingImage] = useState(false);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  useEffect(() => {\n    const productsQuery = query(\n      collection(db, \"products\"),\n      orderBy(\"createdAt\", \"desc\")\n    );\n\n    const unsubscribe = onSnapshot(productsQuery, (snapshot) => {\n      const productsData = snapshot.docs.map((doc) => {\n        const data = doc.data();\n        return {\n          id: doc.id,\n          ...data,\n          createdAt: data.createdAt?.toDate() || new Date(),\n          updatedAt: data.updatedAt?.toDate() || new Date(),\n        } as Product;\n      });\n      setProducts(productsData);\n      setLoading(false);\n    });\n\n    return () => unsubscribe();\n  }, []);\n\n  const categories = [...new Set(products.map((p) => p.category).filter(Boolean))];\n\n  const filteredProducts = products.filter((product) => {\n    if (filterCategory !== \"all\" && product.category !== filterCategory) return false;\n    return true;\n  });\n\n  const handleEdit = (product: Product) => {\n    setEditingProduct({ ...product });\n    setIsNew(false);\n  };\n\n  const handleNew = () => {\n    setEditingProduct({ ...defaultProduct });\n    setIsNew(true);\n  };\n\n  const handleSave = async () => {\n    if (!editingProduct) return;\n\n    setSaving(true);\n    try {\n      if (isNew) {\n        await addDoc(collection(db, \"products\"), {\n          ...editingProduct,\n          createdAt: Timestamp.now(),\n          updatedAt: Timestamp.now(),\n        });\n      } else if (editingProduct.id) {\n        await updateDoc(doc(db, \"products\", editingProduct.id), {\n          ...editingProduct,\n          updatedAt: Timestamp.now(),\n        });\n      }\n      setEditingProduct(null);\n    } catch (error) {\n      console.error(\"Error saving product:\", error);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDelete = async (productId: string) => {\n    if (!confirm(\"Are you sure you want to delete this product?\")) return;\n\n    try {\n      await deleteDoc(doc(db, \"products\", productId));\n    } catch (error) {\n      console.error(\"Error deleting product:\", error);\n    }\n  };\n\n  const handleToggleActive = async (product: Product) => {\n    try {\n      await updateDoc(doc(db, \"products\", product.id), {\n        active: !product.active,\n        updatedAt: Timestamp.now(),\n      });\n    } catch (error) {\n      console.error(\"Error toggling product status:\", error);\n    }\n  };\n\n  const addImage = () => {\n    if (!newImageUrl || !editingProduct) return;\n    setEditingProduct({\n      ...editingProduct,\n      images: [...(editingProduct.images || []), newImageUrl],\n    });\n    setNewImageUrl(\"\");\n  };\n\n  const handleFileUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const files = e.target.files;\n    if (!files || files.length === 0 || !editingProduct) return;\n\n    setUploadingImage(true);\n    const newImages: string[] = [];\n\n    try {\n      for (const file of Array.from(files)) {\n        // Validate file type\n        if (!file.type.startsWith(\"image/\")) {\n          alert(`${file.name} is not an image file`);\n          continue;\n        }\n\n        // Validate file size (max 5MB)\n        if (file.size > 5 * 1024 * 1024) {\n          alert(`${file.name} is too large. Max size is 5MB`);\n          continue;\n        }\n\n        // Create unique filename\n        const timestamp = Date.now();\n        const safeName = file.name.replace(/[^a-zA-Z0-9.]/g, \"_\");\n        const storageRef = ref(storage, `products/${timestamp}_${safeName}`);\n\n        // Upload file\n        await uploadBytes(storageRef, file);\n\n        // Get download URL\n        const downloadUrl = await getDownloadURL(storageRef);\n        newImages.push(downloadUrl);\n      }\n\n      setEditingProduct({\n        ...editingProduct,\n        images: [...(editingProduct.images || []), ...newImages],\n      });\n    } catch (error) {\n      console.error(\"Error uploading image:\", error);\n      alert(\"Failed to upload image. Please try again.\");\n    } finally {\n      setUploadingImage(false);\n      // Reset file input\n      if (fileInputRef.current) {\n        fileInputRef.current.value = \"\";\n      }\n    }\n  };\n\n  const removeImage = async (index: number) => {\n    if (!editingProduct) return;\n\n    const imageUrl = editingProduct.images?.[index];\n\n    // Try to delete from storage if it's a Firebase Storage URL\n    if (imageUrl && imageUrl.includes(\"firebasestorage.googleapis.com\")) {\n      try {\n        const storageRef = ref(storage, imageUrl);\n        await deleteObject(storageRef);\n      } catch (error) {\n        console.error(\"Error deleting image from storage:\", error);\n        // Continue anyway - the URL will be removed from the product\n      }\n    }\n\n    setEditingProduct({\n      ...editingProduct,\n      images: editingProduct.images?.filter((_, i) => i !== index) || [],\n    });\n  };\n\n  const addSize = () => {\n    if (!newSize.size || !editingProduct) return;\n    setEditingProduct({\n      ...editingProduct,\n      sizes: {\n        ...editingProduct.sizes,\n        [newSize.size]: newSize.stock,\n      },\n    });\n    setNewSize({ size: \"\", stock: 0 });\n  };\n\n  const removeSize = (size: string) => {\n    if (!editingProduct || !editingProduct.sizes) return;\n    const newSizes = { ...editingProduct.sizes };\n    delete newSizes[size];\n    setEditingProduct({\n      ...editingProduct,\n      sizes: newSizes,\n    });\n  };\n\n  const formatCurrency = (amount: number) => {\n    return new Intl.NumberFormat(\"en-NG\", {\n      style: \"currency\",\n      currency: \"NGN\",\n    }).format(amount);\n  };\n\n  const getTotalStock = (sizes: Record<string, number>) => {\n    return Object.values(sizes).reduce((sum, qty) => sum + qty, 0);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"text-[#888888]\">Loading products...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\n        <h1 className=\"text-2xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5]\">\n          Products\n        </h1>\n        <button\n          onClick={handleNew}\n          className=\"bg-[#c9a962] text-[#0a0a0a] px-4 py-2 text-sm font-[family-name:var(--font-montserrat)] hover:bg-[#d4b87a] transition-colors\"\n        >\n          + Add Product\n        </button>\n      </div>\n\n      {/* Filters */}\n      <div className=\"flex flex-wrap gap-4\">\n        <select\n          value={filterCategory}\n          onChange={(e) => setFilterCategory(e.target.value)}\n          className=\"bg-[#111111] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none\"\n        >\n          <option value=\"all\">All Categories</option>\n          {categories.map((cat) => (\n            <option key={cat} value={cat}>\n              {cat}\n            </option>\n          ))}\n        </select>\n      </div>\n\n      {/* Products Grid */}\n      {filteredProducts.length === 0 ? (\n        <div className=\"bg-[#111111] border border-[#1a1a1a] p-12 text-center\">\n          <p className=\"text-[#888888] font-[family-name:var(--font-montserrat)]\">\n            No products found\n          </p>\n        </div>\n      ) : (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n          {filteredProducts.map((product) => (\n            <div\n              key={product.id}\n              className={`bg-[#111111] border ${\n                product.active ? \"border-[#1a1a1a]\" : \"border-red-500/30\"\n              } overflow-hidden`}\n            >\n              {/* Image */}\n              <div className=\"aspect-[4/5] relative bg-[#0a0a0a]\">\n                {product.images[0] ? (\n                  <Image\n                    src={product.images[0]}\n                    alt={product.name}\n                    fill\n                    className=\"object-cover\"\n                  />\n                ) : (\n                  <div className=\"w-full h-full flex items-center justify-center text-[#888888]\">\n                    No image\n                  </div>\n                )}\n                {!product.active && (\n                  <div className=\"absolute inset-0 bg-black/60 flex items-center justify-center\">\n                    <span className=\"text-red-400 text-sm font-[family-name:var(--font-montserrat)]\">\n                      Inactive\n                    </span>\n                  </div>\n                )}\n              </div>\n\n              {/* Details */}\n              <div className=\"p-4 space-y-2\">\n                <h3 className=\"text-[#f5f5f5] font-[family-name:var(--font-montserrat)]\">\n                  {product.name}\n                </h3>\n                <p className=\"text-sm text-[#888888] font-[family-name:var(--font-montserrat)]\">\n                  {product.category}\n                </p>\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"text-[#c9a962] font-[family-name:var(--font-montserrat)]\">\n                    {formatCurrency(product.salePrice || product.price)}\n                  </span>\n                  {product.salePrice && (\n                    <span className=\"text-[#888888] text-sm line-through font-[family-name:var(--font-montserrat)]\">\n                      {formatCurrency(product.price)}\n                    </span>\n                  )}\n                </div>\n                <p className=\"text-sm text-[#888888] font-[family-name:var(--font-montserrat)]\">\n                  Stock: {getTotalStock(product.sizes)}\n                </p>\n\n                {/* Actions */}\n                <div className=\"flex gap-2 pt-2\">\n                  <button\n                    onClick={() => handleEdit(product)}\n                    className=\"flex-1 text-[#c9a962] border border-[#c9a962] py-1 text-sm font-[family-name:var(--font-montserrat)] hover:bg-[#c9a962]/10 transition-colors\"\n                  >\n                    Edit\n                  </button>\n                  <button\n                    onClick={() => handleToggleActive(product)}\n                    className={`flex-1 py-1 text-sm border font-[family-name:var(--font-montserrat)] transition-colors ${\n                      product.active\n                        ? \"text-[#888888] border-[#2a2a2a] hover:text-yellow-400 hover:border-yellow-400\"\n                        : \"text-green-400 border-green-400 hover:bg-green-400/10\"\n                    }`}\n                  >\n                    {product.active ? \"Deactivate\" : \"Activate\"}\n                  </button>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* Edit Modal */}\n      {editingProduct && (\n        <div className=\"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4\">\n          <div className=\"bg-[#111111] border border-[#1a1a1a] w-full max-w-2xl max-h-[90vh] overflow-y-auto\">\n            <div className=\"sticky top-0 bg-[#111111] border-b border-[#1a1a1a] px-6 py-4 flex items-center justify-between\">\n              <h2 className=\"text-xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5]\">\n                {isNew ? \"Add Product\" : \"Edit Product\"}\n              </h2>\n              <button\n                onClick={() => setEditingProduct(null)}\n                className=\"text-[#888888] hover:text-[#f5f5f5]\"\n              >\n                ✕\n              </button>\n            </div>\n\n            <div className=\"p-6 space-y-6\">\n              {/* Basic Info */}\n              <div className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]\">\n                    Product Name\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={editingProduct.name || \"\"}\n                    onChange={(e) =>\n                      setEditingProduct({ ...editingProduct, name: e.target.value })\n                    }\n                    className=\"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]\">\n                    Description\n                  </label>\n                  <textarea\n                    value={editingProduct.description || \"\"}\n                    onChange={(e) =>\n                      setEditingProduct({ ...editingProduct, description: e.target.value })\n                    }\n                    rows={3}\n                    className=\"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none resize-none\"\n                  />\n                </div>\n\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]\">\n                      Price (₦)\n                    </label>\n                    <input\n                      type=\"number\"\n                      value={editingProduct.price || \"\"}\n                      onChange={(e) =>\n                        setEditingProduct({\n                          ...editingProduct,\n                          price: parseFloat(e.target.value) || 0,\n                        })\n                      }\n                      className=\"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]\">\n                      Sale Price (₦)\n                    </label>\n                    <input\n                      type=\"number\"\n                      value={editingProduct.salePrice || \"\"}\n                      onChange={(e) =>\n                        setEditingProduct({\n                          ...editingProduct,\n                          salePrice: parseFloat(e.target.value) || undefined,\n                        })\n                      }\n                      className=\"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none\"\n                      placeholder=\"Leave empty for no sale\"\n                    />\n                  </div>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]\">\n                    Category\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={editingProduct.category || \"\"}\n                    onChange={(e) =>\n                      setEditingProduct({ ...editingProduct, category: e.target.value })\n                    }\n                    className=\"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none\"\n                    placeholder=\"e.g., Dresses, Tops, Suits\"\n                  />\n                </div>\n              </div>\n\n              {/* Images */}\n              <div className=\"bg-[#0a0a0a] p-4 border border-[#1a1a1a]\">\n                <h3 className=\"text-sm uppercase tracking-wider text-[#888888] mb-4 font-[family-name:var(--font-montserrat)]\">\n                  Images\n                </h3>\n\n                {/* File Upload */}\n                <div className=\"mb-4\">\n                  <input\n                    type=\"file\"\n                    ref={fileInputRef}\n                    onChange={handleFileUpload}\n                    accept=\"image/*\"\n                    multiple\n                    className=\"hidden\"\n                    id=\"image-upload\"\n                  />\n                  <label\n                    htmlFor=\"image-upload\"\n                    className={`inline-flex items-center gap-2 px-4 py-2 border border-dashed border-[#c9a962] text-[#c9a962] text-sm font-[family-name:var(--font-montserrat)] cursor-pointer hover:bg-[#c9a962]/10 transition-colors ${\n                      uploadingImage ? \"opacity-50 cursor-not-allowed\" : \"\"\n                    }`}\n                  >\n                    {uploadingImage ? (\n                      <>\n                        <div className=\"w-4 h-4 border-2 border-[#c9a962] border-t-transparent rounded-full animate-spin\"></div>\n                        Uploading...\n                      </>\n                    ) : (\n                      <>\n                        <svg\n                          className=\"w-4 h-4\"\n                          fill=\"none\"\n                          stroke=\"currentColor\"\n                          viewBox=\"0 0 24 24\"\n                        >\n                          <path\n                            strokeLinecap=\"round\"\n                            strokeLinejoin=\"round\"\n                            strokeWidth={2}\n                            d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\"\n                          />\n                        </svg>\n                        Upload Images\n                      </>\n                    )}\n                  </label>\n                  <p className=\"text-xs text-[#888888] mt-2 font-[family-name:var(--font-montserrat)]\">\n                    Max 5MB per image. JPG, PNG, WebP supported.\n                  </p>\n                </div>\n\n                {/* URL Input (Alternative) */}\n                <div className=\"flex gap-2 mb-4\">\n                  <input\n                    type=\"url\"\n                    value={newImageUrl}\n                    onChange={(e) => setNewImageUrl(e.target.value)}\n                    className=\"flex-1 bg-[#111111] border border-[#2a2a2a] px-3 py-2 text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none\"\n                    placeholder=\"Or paste image URL\"\n                  />\n                  <button\n                    onClick={addImage}\n                    className=\"px-4 py-2 bg-[#2a2a2a] text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)] hover:bg-[#3a3a3a] transition-colors\"\n                  >\n                    Add URL\n                  </button>\n                </div>\n\n                {/* Image Preview */}\n                <div className=\"flex flex-wrap gap-2\">\n                  {editingProduct.images?.map((img, idx) => (\n                    <div\n                      key={idx}\n                      className=\"relative w-20 h-20 bg-[#111111] border border-[#2a2a2a] group\"\n                    >\n                      <Image src={img} alt=\"\" fill className=\"object-cover\" />\n                      <button\n                        onClick={() => removeImage(idx)}\n                        className=\"absolute -top-2 -right-2 w-5 h-5 bg-red-500 text-white text-xs rounded-full opacity-0 group-hover:opacity-100 transition-opacity\"\n                      >\n                        ✕\n                      </button>\n                      {idx === 0 && (\n                        <span className=\"absolute bottom-0 left-0 right-0 bg-[#c9a962] text-[#0a0a0a] text-[10px] text-center font-[family-name:var(--font-montserrat)]\">\n                          Main\n                        </span>\n                      )}\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              {/* Sizes & Stock */}\n              <div className=\"bg-[#0a0a0a] p-4 border border-[#1a1a1a]\">\n                <h3 className=\"text-sm uppercase tracking-wider text-[#888888] mb-4 font-[family-name:var(--font-montserrat)]\">\n                  Sizes & Stock\n                </h3>\n                <div className=\"flex gap-2 mb-4\">\n                  <input\n                    type=\"text\"\n                    value={newSize.size}\n                    onChange={(e) => setNewSize({ ...newSize, size: e.target.value })}\n                    className=\"w-24 bg-[#111111] border border-[#2a2a2a] px-3 py-2 text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none\"\n                    placeholder=\"Size\"\n                  />\n                  <input\n                    type=\"number\"\n                    value={newSize.stock}\n                    onChange={(e) =>\n                      setNewSize({ ...newSize, stock: parseInt(e.target.value) || 0 })\n                    }\n                    className=\"w-24 bg-[#111111] border border-[#2a2a2a] px-3 py-2 text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none\"\n                    placeholder=\"Stock\"\n                    min=\"0\"\n                  />\n                  <button\n                    onClick={addSize}\n                    className=\"px-4 py-2 bg-[#c9a962] text-[#0a0a0a] text-sm font-[family-name:var(--font-montserrat)]\"\n                  >\n                    Add\n                  </button>\n                </div>\n                <div className=\"flex flex-wrap gap-2\">\n                  {Object.entries(editingProduct.sizes || {}).map(([size, stock]) => (\n                    <div\n                      key={size}\n                      className=\"flex items-center gap-2 bg-[#111111] border border-[#2a2a2a] px-3 py-1\"\n                    >\n                      <span className=\"text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)]\">\n                        {size}: {stock}\n                      </span>\n                      <button\n                        onClick={() => removeSize(size)}\n                        className=\"text-red-400 text-xs\"\n                      >\n                        ✕\n                      </button>\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              {/* Options */}\n              <div className=\"flex items-center gap-6\">\n                <label className=\"flex items-center gap-2\">\n                  <input\n                    type=\"checkbox\"\n                    checked={editingProduct.active ?? true}\n                    onChange={(e) =>\n                      setEditingProduct({ ...editingProduct, active: e.target.checked })\n                    }\n                    className=\"w-4 h-4 accent-[#c9a962]\"\n                  />\n                  <span className=\"text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)]\">\n                    Active\n                  </span>\n                </label>\n                <label className=\"flex items-center gap-2\">\n                  <input\n                    type=\"checkbox\"\n                    checked={editingProduct.featured ?? false}\n                    onChange={(e) =>\n                      setEditingProduct({ ...editingProduct, featured: e.target.checked })\n                    }\n                    className=\"w-4 h-4 accent-[#c9a962]\"\n                  />\n                  <span className=\"text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)]\">\n                    Featured\n                  </span>\n                </label>\n              </div>\n\n              {/* Actions */}\n              <div className=\"flex gap-4 pt-4 border-t border-[#1a1a1a]\">\n                <button\n                  onClick={() => setEditingProduct(null)}\n                  className=\"flex-1 border border-[#2a2a2a] text-[#888888] py-2 font-[family-name:var(--font-montserrat)] hover:border-[#3a3a3a] hover:text-[#f5f5f5] transition-colors\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={handleSave}\n                  disabled={saving || !editingProduct.name || !editingProduct.price}\n                  className=\"flex-1 bg-[#c9a962] text-[#0a0a0a] py-2 font-[family-name:var(--font-montserrat)] hover:bg-[#d4b87a] transition-colors disabled:opacity-50\"\n                >\n                  {saving ? \"Saving...\" : \"Save Product\"}\n                </button>\n              </div>\n\n              {/* Delete */}\n              {!isNew && editingProduct.id && (\n                <button\n                  onClick={() => {\n                    handleDelete(editingProduct.id!);\n                    setEditingProduct(null);\n                  }}\n                  className=\"w-full text-red-400 text-sm font-[family-name:var(--font-montserrat)] hover:text-red-300\"\n                >\n                  Delete Product\n                </button>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAWA;AAAA;AACA;AAEA;AAjBA;;;;;;;AAoBA,MAAM,iBAAoD;IACxD,MAAM;IACN,aAAa;IACb,OAAO;IACP,QAAQ,EAAE;IACV,UAAU;IACV,OAAO,CAAC;IACR,QAAQ;AACV;AAEe,SAAS;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAY,EAAE;IACtD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,iNAAQ,EAA0B;IAC9E,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,iNAAQ,EAAS;IAC7D,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;QAAE,MAAM;QAAI,OAAO;IAAE;IAC5D,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,iNAAQ,EAAC;IACrD,MAAM,eAAe,IAAA,+MAAM,EAAmB;IAE9C,IAAA,kNAAS,EAAC;QACR,MAAM,gBAAgB,IAAA,0KAAK,EACzB,IAAA,+KAAU,EAAC,4HAAE,EAAE,aACf,IAAA,4KAAO,EAAC,aAAa;QAGvB,MAAM,cAAc,IAAA,+KAAU,EAAC,eAAe,CAAC;YAC7C,MAAM,eAAe,SAAS,IAAI,CAAC,GAAG,CAAC,CAAC;gBACtC,MAAM,OAAO,IAAI,IAAI;gBACrB,OAAO;oBACL,IAAI,IAAI,EAAE;oBACV,GAAG,IAAI;oBACP,WAAW,KAAK,SAAS,EAAE,YAAY,IAAI;oBAC3C,WAAW,KAAK,SAAS,EAAE,YAAY,IAAI;gBAC7C;YACF;YACA,YAAY;YACZ,WAAW;QACb;QAEA,OAAO,IAAM;IACf,GAAG,EAAE;IAEL,MAAM,aAAa;WAAI,IAAI,IAAI,SAAS,GAAG,CAAC,CAAC,IAAM,EAAE,QAAQ,EAAE,MAAM,CAAC;KAAU;IAEhF,MAAM,mBAAmB,SAAS,MAAM,CAAC,CAAC;QACxC,IAAI,mBAAmB,SAAS,QAAQ,QAAQ,KAAK,gBAAgB,OAAO;QAC5E,OAAO;IACT;IAEA,MAAM,aAAa,CAAC;QAClB,kBAAkB;YAAE,GAAG,OAAO;QAAC;QAC/B,SAAS;IACX;IAEA,MAAM,YAAY;QAChB,kBAAkB;YAAE,GAAG,cAAc;QAAC;QACtC,SAAS;IACX;IAEA,MAAM,aAAa;QACjB,IAAI,CAAC,gBAAgB;QAErB,UAAU;QACV,IAAI;YACF,IAAI,OAAO;gBACT,MAAM,IAAA,2KAAM,EAAC,IAAA,+KAAU,EAAC,4HAAE,EAAE,aAAa;oBACvC,GAAG,cAAc;oBACjB,WAAW,8KAAS,CAAC,GAAG;oBACxB,WAAW,8KAAS,CAAC,GAAG;gBAC1B;YACF,OAAO,IAAI,eAAe,EAAE,EAAE;gBAC5B,MAAM,IAAA,8KAAS,EAAC,IAAA,wKAAG,EAAC,4HAAE,EAAE,YAAY,eAAe,EAAE,GAAG;oBACtD,GAAG,cAAc;oBACjB,WAAW,8KAAS,CAAC,GAAG;gBAC1B;YACF;YACA,kBAAkB;QACpB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,yBAAyB;QACzC,SAAU;YACR,UAAU;QACZ;IACF;IAEA,MAAM,eAAe,OAAO;QAC1B,IAAI,CAAC,QAAQ,kDAAkD;QAE/D,IAAI;YACF,MAAM,IAAA,8KAAS,EAAC,IAAA,wKAAG,EAAC,4HAAE,EAAE,YAAY;QACtC,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,2BAA2B;QAC3C;IACF;IAEA,MAAM,qBAAqB,OAAO;QAChC,IAAI;YACF,MAAM,IAAA,8KAAS,EAAC,IAAA,wKAAG,EAAC,4HAAE,EAAE,YAAY,QAAQ,EAAE,GAAG;gBAC/C,QAAQ,CAAC,QAAQ,MAAM;gBACvB,WAAW,8KAAS,CAAC,GAAG;YAC1B;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,kCAAkC;QAClD;IACF;IAEA,MAAM,WAAW;QACf,IAAI,CAAC,eAAe,CAAC,gBAAgB;QACrC,kBAAkB;YAChB,GAAG,cAAc;YACjB,QAAQ;mBAAK,eAAe,MAAM,IAAI,EAAE;gBAAG;aAAY;QACzD;QACA,eAAe;IACjB;IAEA,MAAM,mBAAmB,OAAO;QAC9B,MAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;QAC5B,IAAI,CAAC,SAAS,MAAM,MAAM,KAAK,KAAK,CAAC,gBAAgB;QAErD,kBAAkB;QAClB,MAAM,YAAsB,EAAE;QAE9B,IAAI;YACF,KAAK,MAAM,QAAQ,MAAM,IAAI,CAAC,OAAQ;gBACpC,qBAAqB;gBACrB,IAAI,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,WAAW;oBACnC,MAAM,GAAG,KAAK,IAAI,CAAC,qBAAqB,CAAC;oBACzC;gBACF;gBAEA,+BAA+B;gBAC/B,IAAI,KAAK,IAAI,GAAG,IAAI,OAAO,MAAM;oBAC/B,MAAM,GAAG,KAAK,IAAI,CAAC,8BAA8B,CAAC;oBAClD;gBACF;gBAEA,yBAAyB;gBACzB,MAAM,YAAY,KAAK,GAAG;gBAC1B,MAAM,WAAW,KAAK,IAAI,CAAC,OAAO,CAAC,kBAAkB;gBACrD,MAAM,aAAa,IAAA,2LAAG,EAAC,iIAAO,EAAE,CAAC,SAAS,EAAE,UAAU,CAAC,EAAE,UAAU;gBAEnE,cAAc;gBACd,MAAM,IAAA,mMAAW,EAAC,YAAY;gBAE9B,mBAAmB;gBACnB,MAAM,cAAc,MAAM,IAAA,sMAAc,EAAC;gBACzC,UAAU,IAAI,CAAC;YACjB;YAEA,kBAAkB;gBAChB,GAAG,cAAc;gBACjB,QAAQ;uBAAK,eAAe,MAAM,IAAI,EAAE;uBAAM;iBAAU;YAC1D;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,0BAA0B;YACxC,MAAM;QACR,SAAU;YACR,kBAAkB;YAClB,mBAAmB;YACnB,IAAI,aAAa,OAAO,EAAE;gBACxB,aAAa,OAAO,CAAC,KAAK,GAAG;YAC/B;QACF;IACF;IAEA,MAAM,cAAc,OAAO;QACzB,IAAI,CAAC,gBAAgB;QAErB,MAAM,WAAW,eAAe,MAAM,EAAE,CAAC,MAAM;QAE/C,4DAA4D;QAC5D,IAAI,YAAY,SAAS,QAAQ,CAAC,mCAAmC;YACnE,IAAI;gBACF,MAAM,aAAa,IAAA,2LAAG,EAAC,iIAAO,EAAE;gBAChC,MAAM,IAAA,oMAAY,EAAC;YACrB,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,sCAAsC;YACpD,6DAA6D;YAC/D;QACF;QAEA,kBAAkB;YAChB,GAAG,cAAc;YACjB,QAAQ,eAAe,MAAM,EAAE,OAAO,CAAC,GAAG,IAAM,MAAM,UAAU,EAAE;QACpE;IACF;IAEA,MAAM,UAAU;QACd,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,gBAAgB;QACtC,kBAAkB;YAChB,GAAG,cAAc;YACjB,OAAO;gBACL,GAAG,eAAe,KAAK;gBACvB,CAAC,QAAQ,IAAI,CAAC,EAAE,QAAQ,KAAK;YAC/B;QACF;QACA,WAAW;YAAE,MAAM;YAAI,OAAO;QAAE;IAClC;IAEA,MAAM,aAAa,CAAC;QAClB,IAAI,CAAC,kBAAkB,CAAC,eAAe,KAAK,EAAE;QAC9C,MAAM,WAAW;YAAE,GAAG,eAAe,KAAK;QAAC;QAC3C,OAAO,QAAQ,CAAC,KAAK;QACrB,kBAAkB;YAChB,GAAG,cAAc;YACjB,OAAO;QACT;IACF;IAEA,MAAM,iBAAiB,CAAC;QACtB,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS;YACpC,OAAO;YACP,UAAU;QACZ,GAAG,MAAM,CAAC;IACZ;IAEA,MAAM,gBAAgB,CAAC;QACrB,OAAO,OAAO,MAAM,CAAC,OAAO,MAAM,CAAC,CAAC,KAAK,MAAQ,MAAM,KAAK;IAC9D;IAEA,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;0BAAiB;;;;;;;;;;;IAGtC;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAmE;;;;;;kCAGjF,8OAAC;wBACC,SAAS;wBACT,WAAU;kCACX;;;;;;;;;;;;0BAMH,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBACC,OAAO;oBACP,UAAU,CAAC,IAAM,kBAAkB,EAAE,MAAM,CAAC,KAAK;oBACjD,WAAU;;sCAEV,8OAAC;4BAAO,OAAM;sCAAM;;;;;;wBACnB,WAAW,GAAG,CAAC,CAAC,oBACf,8OAAC;gCAAiB,OAAO;0CACtB;+BADU;;;;;;;;;;;;;;;;YAQlB,iBAAiB,MAAM,KAAK,kBAC3B,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAE,WAAU;8BAA2D;;;;;;;;;;qCAK1E,8OAAC;gBAAI,WAAU;0BACZ,iBAAiB,GAAG,CAAC,CAAC,wBACrB,8OAAC;wBAEC,WAAW,CAAC,oBAAoB,EAC9B,QAAQ,MAAM,GAAG,qBAAqB,oBACvC,gBAAgB,CAAC;;0CAGlB,8OAAC;gCAAI,WAAU;;oCACZ,QAAQ,MAAM,CAAC,EAAE,iBAChB,8OAAC,wIAAK;wCACJ,KAAK,QAAQ,MAAM,CAAC,EAAE;wCACtB,KAAK,QAAQ,IAAI;wCACjB,IAAI;wCACJ,WAAU;;;;;6DAGZ,8OAAC;wCAAI,WAAU;kDAAgE;;;;;;oCAIhF,CAAC,QAAQ,MAAM,kBACd,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC;4CAAK,WAAU;sDAAiE;;;;;;;;;;;;;;;;;0CAQvF,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAG,WAAU;kDACX,QAAQ,IAAI;;;;;;kDAEf,8OAAC;wCAAE,WAAU;kDACV,QAAQ,QAAQ;;;;;;kDAEnB,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAK,WAAU;0DACb,eAAe,QAAQ,SAAS,IAAI,QAAQ,KAAK;;;;;;4CAEnD,QAAQ,SAAS,kBAChB,8OAAC;gDAAK,WAAU;0DACb,eAAe,QAAQ,KAAK;;;;;;;;;;;;kDAInC,8OAAC;wCAAE,WAAU;;4CAAmE;4CACtE,cAAc,QAAQ,KAAK;;;;;;;kDAIrC,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDACC,SAAS,IAAM,WAAW;gDAC1B,WAAU;0DACX;;;;;;0DAGD,8OAAC;gDACC,SAAS,IAAM,mBAAmB;gDAClC,WAAW,CAAC,uFAAuF,EACjG,QAAQ,MAAM,GACV,kFACA,yDACJ;0DAED,QAAQ,MAAM,GAAG,eAAe;;;;;;;;;;;;;;;;;;;uBAlElC,QAAQ,EAAE;;;;;;;;;;YA4EtB,gCACC,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAG,WAAU;8CACX,QAAQ,gBAAgB;;;;;;8CAE3B,8OAAC;oCACC,SAAS,IAAM,kBAAkB;oCACjC,WAAU;8CACX;;;;;;;;;;;;sCAKH,8OAAC;4BAAI,WAAU;;8CAEb,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;;8DACC,8OAAC;oDAAM,WAAU;8DAA8E;;;;;;8DAG/F,8OAAC;oDACC,MAAK;oDACL,OAAO,eAAe,IAAI,IAAI;oDAC9B,UAAU,CAAC,IACT,kBAAkB;4DAAE,GAAG,cAAc;4DAAE,MAAM,EAAE,MAAM,CAAC,KAAK;wDAAC;oDAE9D,WAAU;;;;;;;;;;;;sDAId,8OAAC;;8DACC,8OAAC;oDAAM,WAAU;8DAA8E;;;;;;8DAG/F,8OAAC;oDACC,OAAO,eAAe,WAAW,IAAI;oDACrC,UAAU,CAAC,IACT,kBAAkB;4DAAE,GAAG,cAAc;4DAAE,aAAa,EAAE,MAAM,CAAC,KAAK;wDAAC;oDAErE,MAAM;oDACN,WAAU;;;;;;;;;;;;sDAId,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;;sEACC,8OAAC;4DAAM,WAAU;sEAA8E;;;;;;sEAG/F,8OAAC;4DACC,MAAK;4DACL,OAAO,eAAe,KAAK,IAAI;4DAC/B,UAAU,CAAC,IACT,kBAAkB;oEAChB,GAAG,cAAc;oEACjB,OAAO,WAAW,EAAE,MAAM,CAAC,KAAK,KAAK;gEACvC;4DAEF,WAAU;;;;;;;;;;;;8DAGd,8OAAC;;sEACC,8OAAC;4DAAM,WAAU;sEAA8E;;;;;;sEAG/F,8OAAC;4DACC,MAAK;4DACL,OAAO,eAAe,SAAS,IAAI;4DACnC,UAAU,CAAC,IACT,kBAAkB;oEAChB,GAAG,cAAc;oEACjB,WAAW,WAAW,EAAE,MAAM,CAAC,KAAK,KAAK;gEAC3C;4DAEF,WAAU;4DACV,aAAY;;;;;;;;;;;;;;;;;;sDAKlB,8OAAC;;8DACC,8OAAC;oDAAM,WAAU;8DAA8E;;;;;;8DAG/F,8OAAC;oDACC,MAAK;oDACL,OAAO,eAAe,QAAQ,IAAI;oDAClC,UAAU,CAAC,IACT,kBAAkB;4DAAE,GAAG,cAAc;4DAAE,UAAU,EAAE,MAAM,CAAC,KAAK;wDAAC;oDAElE,WAAU;oDACV,aAAY;;;;;;;;;;;;;;;;;;8CAMlB,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAG,WAAU;sDAAiG;;;;;;sDAK/G,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDACC,MAAK;oDACL,KAAK;oDACL,UAAU;oDACV,QAAO;oDACP,QAAQ;oDACR,WAAU;oDACV,IAAG;;;;;;8DAEL,8OAAC;oDACC,SAAQ;oDACR,WAAW,CAAC,uMAAuM,EACjN,iBAAiB,kCAAkC,IACnD;8DAED,+BACC;;0EACE,8OAAC;gEAAI,WAAU;;;;;;4DAAyF;;qFAI1G;;0EACE,8OAAC;gEACC,WAAU;gEACV,MAAK;gEACL,QAAO;gEACP,SAAQ;0EAER,cAAA,8OAAC;oEACC,eAAc;oEACd,gBAAe;oEACf,aAAa;oEACb,GAAE;;;;;;;;;;;4DAEA;;;;;;;;8DAKZ,8OAAC;oDAAE,WAAU;8DAAwE;;;;;;;;;;;;sDAMvF,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDACC,MAAK;oDACL,OAAO;oDACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;oDAC9C,WAAU;oDACV,aAAY;;;;;;8DAEd,8OAAC;oDACC,SAAS;oDACT,WAAU;8DACX;;;;;;;;;;;;sDAMH,8OAAC;4CAAI,WAAU;sDACZ,eAAe,MAAM,EAAE,IAAI,CAAC,KAAK,oBAChC,8OAAC;oDAEC,WAAU;;sEAEV,8OAAC,wIAAK;4DAAC,KAAK;4DAAK,KAAI;4DAAG,IAAI;4DAAC,WAAU;;;;;;sEACvC,8OAAC;4DACC,SAAS,IAAM,YAAY;4DAC3B,WAAU;sEACX;;;;;;wDAGA,QAAQ,mBACP,8OAAC;4DAAK,WAAU;sEAAiI;;;;;;;mDAX9I;;;;;;;;;;;;;;;;8CAqBb,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAG,WAAU;sDAAiG;;;;;;sDAG/G,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDACC,MAAK;oDACL,OAAO,QAAQ,IAAI;oDACnB,UAAU,CAAC,IAAM,WAAW;4DAAE,GAAG,OAAO;4DAAE,MAAM,EAAE,MAAM,CAAC,KAAK;wDAAC;oDAC/D,WAAU;oDACV,aAAY;;;;;;8DAEd,8OAAC;oDACC,MAAK;oDACL,OAAO,QAAQ,KAAK;oDACpB,UAAU,CAAC,IACT,WAAW;4DAAE,GAAG,OAAO;4DAAE,OAAO,SAAS,EAAE,MAAM,CAAC,KAAK,KAAK;wDAAE;oDAEhE,WAAU;oDACV,aAAY;oDACZ,KAAI;;;;;;8DAEN,8OAAC;oDACC,SAAS;oDACT,WAAU;8DACX;;;;;;;;;;;;sDAIH,8OAAC;4CAAI,WAAU;sDACZ,OAAO,OAAO,CAAC,eAAe,KAAK,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,MAAM,MAAM,iBAC5D,8OAAC;oDAEC,WAAU;;sEAEV,8OAAC;4DAAK,WAAU;;gEACb;gEAAK;gEAAG;;;;;;;sEAEX,8OAAC;4DACC,SAAS,IAAM,WAAW;4DAC1B,WAAU;sEACX;;;;;;;mDATI;;;;;;;;;;;;;;;;8CAkBb,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAM,WAAU;;8DACf,8OAAC;oDACC,MAAK;oDACL,SAAS,eAAe,MAAM,IAAI;oDAClC,UAAU,CAAC,IACT,kBAAkB;4DAAE,GAAG,cAAc;4DAAE,QAAQ,EAAE,MAAM,CAAC,OAAO;wDAAC;oDAElE,WAAU;;;;;;8DAEZ,8OAAC;oDAAK,WAAU;8DAAmE;;;;;;;;;;;;sDAIrF,8OAAC;4CAAM,WAAU;;8DACf,8OAAC;oDACC,MAAK;oDACL,SAAS,eAAe,QAAQ,IAAI;oDACpC,UAAU,CAAC,IACT,kBAAkB;4DAAE,GAAG,cAAc;4DAAE,UAAU,EAAE,MAAM,CAAC,OAAO;wDAAC;oDAEpE,WAAU;;;;;;8DAEZ,8OAAC;oDAAK,WAAU;8DAAmE;;;;;;;;;;;;;;;;;;8CAOvF,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CACC,SAAS,IAAM,kBAAkB;4CACjC,WAAU;sDACX;;;;;;sDAGD,8OAAC;4CACC,SAAS;4CACT,UAAU,UAAU,CAAC,eAAe,IAAI,IAAI,CAAC,eAAe,KAAK;4CACjE,WAAU;sDAET,SAAS,cAAc;;;;;;;;;;;;gCAK3B,CAAC,SAAS,eAAe,EAAE,kBAC1B,8OAAC;oCACC,SAAS;wCACP,aAAa,eAAe,EAAE;wCAC9B,kBAAkB;oCACpB;oCACA,WAAU;8CACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUjB"}}]
}