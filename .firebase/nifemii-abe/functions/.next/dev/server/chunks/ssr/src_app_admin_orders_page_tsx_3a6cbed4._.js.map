{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/kelvinatemie-hart/Documents/Website/nifemii-abe/src/app/admin/orders/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport {\n  collection,\n  query,\n  orderBy,\n  onSnapshot,\n  doc,\n  updateDoc,\n  where,\n  Timestamp,\n} from \"firebase/firestore\";\nimport { db } from \"@/lib/firebase\";\nimport { Order, OrderStatus, OrderType } from \"@/lib/firebase-types\";\n\nconst statusColors: Record<OrderStatus, string> = {\n  pending: \"bg-yellow-500/20 text-yellow-400 border-yellow-500/50\",\n  confirmed: \"bg-blue-500/20 text-blue-400 border-blue-500/50\",\n  \"in-progress\": \"bg-purple-500/20 text-purple-400 border-purple-500/50\",\n  ready: \"bg-green-500/20 text-green-400 border-green-500/50\",\n  delivered: \"bg-emerald-500/20 text-emerald-400 border-emerald-500/50\",\n  cancelled: \"bg-red-500/20 text-red-400 border-red-500/50\",\n};\n\nconst typeLabels: Record<OrderType, string> = {\n  \"ready-to-wear\": \"Ready to Wear\",\n  \"full-bespoke\": \"Full Bespoke\",\n  \"sew-only\": \"Sew Only\",\n  \"bulk-bespoke\": \"Bulk Order\",\n};\n\nexport default function AdminOrdersPage() {\n  const [orders, setOrders] = useState<Order[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedOrder, setSelectedOrder] = useState<Order | null>(null);\n  const [filterStatus, setFilterStatus] = useState<OrderStatus | \"all\">(\"all\");\n  const [filterType, setFilterType] = useState<OrderType | \"all\">(\"all\");\n  const [adminNotes, setAdminNotes] = useState(\"\");\n  const [savingNotes, setSavingNotes] = useState(false);\n  const [viewingImage, setViewingImage] = useState<string | null>(null);\n  const [showPaymentModal, setShowPaymentModal] = useState<\"deposit\" | \"balance\" | null>(null);\n  const [paymentMethod, setPaymentMethod] = useState<\"cash\" | \"transfer\">(\"cash\");\n  const [recordingPayment, setRecordingPayment] = useState(false);\n\n  useEffect(() => {\n    const ordersQuery = query(\n      collection(db, \"orders\"),\n      orderBy(\"createdAt\", \"desc\")\n    );\n\n    const unsubscribe = onSnapshot(ordersQuery, (snapshot) => {\n      const ordersData = snapshot.docs.map((doc) => {\n        const data = doc.data();\n        return {\n          id: doc.id,\n          ...data,\n          createdAt: data.createdAt?.toDate() || new Date(),\n          updatedAt: data.updatedAt?.toDate() || new Date(),\n        } as Order;\n      });\n      setOrders(ordersData);\n      setLoading(false);\n    });\n\n    return () => unsubscribe();\n  }, []);\n\n  const filteredOrders = orders.filter((order) => {\n    if (filterStatus !== \"all\" && order.status !== filterStatus) return false;\n    if (filterType !== \"all\" && order.type !== filterType) return false;\n    return true;\n  });\n\n  const updateOrderStatus = async (orderId: string, newStatus: OrderStatus) => {\n    try {\n      await updateDoc(doc(db, \"orders\", orderId), {\n        status: newStatus,\n        updatedAt: Timestamp.now(),\n      });\n      if (selectedOrder?.id === orderId) {\n        setSelectedOrder({ ...selectedOrder, status: newStatus });\n      }\n    } catch (error) {\n      console.error(\"Error updating order status:\", error);\n    }\n  };\n\n  const handleOpenOrder = (order: Order) => {\n    setSelectedOrder(order);\n    setAdminNotes(order.adminNotes || \"\");\n    setShowPaymentModal(null);\n  };\n\n  const recordPayment = async (type: \"deposit\" | \"balance\") => {\n    if (!selectedOrder) return;\n\n    setRecordingPayment(true);\n    try {\n      const updateData: Record<string, unknown> = {\n        updatedAt: Timestamp.now(),\n      };\n\n      if (type === \"deposit\") {\n        updateData[\"pricing.depositPaid\"] = true;\n        updateData[\"pricing.depositMethod\"] = paymentMethod;\n        updateData[\"pricing.depositDate\"] = Timestamp.now();\n        // Confirm order when deposit is paid\n        if (selectedOrder.status === \"pending\") {\n          updateData.status = \"confirmed\";\n        }\n      } else {\n        updateData[\"pricing.balancePaid\"] = true;\n        updateData[\"pricing.balanceMethod\"] = paymentMethod;\n        updateData[\"pricing.balanceDate\"] = Timestamp.now();\n      }\n\n      await updateDoc(doc(db, \"orders\", selectedOrder.id), updateData);\n\n      // Update local state\n      const updatedPricing = {\n        ...selectedOrder.pricing,\n        ...(type === \"deposit\"\n          ? { depositPaid: true, depositMethod: paymentMethod }\n          : { balancePaid: true, balanceMethod: paymentMethod }),\n      };\n      setSelectedOrder({\n        ...selectedOrder,\n        pricing: updatedPricing,\n        status: type === \"deposit\" && selectedOrder.status === \"pending\" ? \"confirmed\" : selectedOrder.status,\n      });\n      setShowPaymentModal(null);\n    } catch (error) {\n      console.error(\"Error recording payment:\", error);\n      alert(\"Failed to record payment. Please try again.\");\n    } finally {\n      setRecordingPayment(false);\n    }\n  };\n\n  const saveAdminNotes = async () => {\n    if (!selectedOrder) return;\n\n    setSavingNotes(true);\n    try {\n      await updateDoc(doc(db, \"orders\", selectedOrder.id), {\n        adminNotes: adminNotes,\n        updatedAt: Timestamp.now(),\n      });\n      setSelectedOrder({ ...selectedOrder, adminNotes });\n    } catch (error) {\n      console.error(\"Error saving admin notes:\", error);\n    } finally {\n      setSavingNotes(false);\n    }\n  };\n\n  const formatCurrency = (amount: number) => {\n    return new Intl.NumberFormat(\"en-NG\", {\n      style: \"currency\",\n      currency: \"NGN\",\n    }).format(amount);\n  };\n\n  const formatDate = (date: Date) => {\n    return new Intl.DateTimeFormat(\"en-NG\", {\n      day: \"numeric\",\n      month: \"short\",\n      year: \"numeric\",\n    }).format(date);\n  };\n\n  const formatDueDate = (dueDateStr: string) => {\n    const date = new Date(dueDateStr + \"T00:00:00\");\n    return new Intl.DateTimeFormat(\"en-NG\", {\n      day: \"numeric\",\n      month: \"short\",\n      year: \"numeric\",\n    }).format(date);\n  };\n\n  const getDueDateStatus = (dueDateStr: string, orderStatus: OrderStatus) => {\n    if (orderStatus === \"delivered\" || orderStatus === \"cancelled\") {\n      return \"completed\";\n    }\n    const today = new Date();\n    today.setHours(0, 0, 0, 0);\n    const dueDate = new Date(dueDateStr + \"T00:00:00\");\n    const diffDays = Math.ceil((dueDate.getTime() - today.getTime()) / (1000 * 60 * 60 * 24));\n\n    if (diffDays < 0) return \"overdue\";\n    if (diffDays <= 3) return \"urgent\";\n    if (diffDays <= 7) return \"soon\";\n    return \"normal\";\n  };\n\n  const dueDateColors = {\n    overdue: \"text-red-400\",\n    urgent: \"text-orange-400\",\n    soon: \"text-yellow-400\",\n    normal: \"text-[#888888]\",\n    completed: \"text-[#888888] line-through\",\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"text-[#888888]\">Loading orders...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\n        <h1 className=\"text-2xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5]\">\n          Orders\n        </h1>\n        <a\n          href=\"/admin/orders/new\"\n          className=\"bg-[#c9a962] text-[#0a0a0a] px-4 py-2 text-sm font-[family-name:var(--font-montserrat)] hover:bg-[#d4b87a] transition-colors\"\n        >\n          + Create Order\n        </a>\n      </div>\n\n      {/* Filters */}\n      <div className=\"flex flex-wrap gap-4\">\n        <select\n          value={filterStatus}\n          onChange={(e) => setFilterStatus(e.target.value as OrderStatus | \"all\")}\n          className=\"bg-[#111111] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none\"\n        >\n          <option value=\"all\">All Statuses</option>\n          <option value=\"pending\">Pending</option>\n          <option value=\"confirmed\">Confirmed</option>\n          <option value=\"in-progress\">In Progress</option>\n          <option value=\"ready\">Ready</option>\n          <option value=\"delivered\">Delivered</option>\n          <option value=\"cancelled\">Cancelled</option>\n        </select>\n\n        <select\n          value={filterType}\n          onChange={(e) => setFilterType(e.target.value as OrderType | \"all\")}\n          className=\"bg-[#111111] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none\"\n        >\n          <option value=\"all\">All Types</option>\n          <option value=\"ready-to-wear\">Ready to Wear</option>\n          <option value=\"full-bespoke\">Full Bespoke</option>\n          <option value=\"sew-only\">Sew Only</option>\n          <option value=\"bulk-bespoke\">Bulk Order</option>\n        </select>\n      </div>\n\n      {/* Orders List */}\n      {filteredOrders.length === 0 ? (\n        <div className=\"bg-[#111111] border border-[#1a1a1a] p-12 text-center\">\n          <p className=\"text-[#888888] font-[family-name:var(--font-montserrat)]\">\n            No orders found\n          </p>\n        </div>\n      ) : (\n        <>\n          {/* Mobile Card View */}\n          <div className=\"md:hidden space-y-4\">\n            {filteredOrders.map((order) => (\n              <div\n                key={order.id}\n                className=\"bg-[#111111] border border-[#1a1a1a] p-4\"\n              >\n                <div className=\"flex items-start justify-between mb-3\">\n                  <div>\n                    <p className=\"text-sm text-[#f5f5f5] font-[family-name:var(--font-montserrat)]\">\n                      #{order.id.slice(0, 8)}\n                    </p>\n                    <p className=\"text-xs text-[#888888] font-[family-name:var(--font-montserrat)]\">\n                      {formatDate(order.createdAt)}\n                    </p>\n                  </div>\n                  <span\n                    className={`px-2 py-1 text-xs border ${statusColors[order.status]} font-[family-name:var(--font-montserrat)]`}\n                  >\n                    {order.status}\n                  </span>\n                </div>\n\n                <div className=\"space-y-2 mb-3\">\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-xs text-[#888888] font-[family-name:var(--font-montserrat)]\">Customer</span>\n                    <span className=\"text-sm text-[#f5f5f5] font-[family-name:var(--font-montserrat)]\">{order.userName || \"Unknown\"}</span>\n                  </div>\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-xs text-[#888888] font-[family-name:var(--font-montserrat)]\">Type</span>\n                    <span className=\"text-sm text-[#f5f5f5] font-[family-name:var(--font-montserrat)]\">{typeLabels[order.type]}</span>\n                  </div>\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-xs text-[#888888] font-[family-name:var(--font-montserrat)]\">Amount</span>\n                    <span className=\"text-sm text-[#c9a962] font-[family-name:var(--font-montserrat)]\">{formatCurrency(order.pricing.totalAmount)}</span>\n                  </div>\n                  {order.dueDate && (\n                    <div className=\"flex justify-between items-center\">\n                      <span className=\"text-xs text-[#888888] font-[family-name:var(--font-montserrat)]\">Due</span>\n                      <span className={`text-sm font-[family-name:var(--font-montserrat)] ${dueDateColors[getDueDateStatus(order.dueDate, order.status)]}`}>\n                        {formatDueDate(order.dueDate)}\n                        {getDueDateStatus(order.dueDate, order.status) === \"overdue\" && \" (Overdue)\"}\n                      </span>\n                    </div>\n                  )}\n                </div>\n\n                <button\n                  onClick={() => handleOpenOrder(order)}\n                  className=\"w-full bg-[#1a1a1a] text-[#c9a962] py-2 text-sm font-[family-name:var(--font-montserrat)] hover:bg-[#222222] transition-colors\"\n                >\n                  View Details\n                </button>\n              </div>\n            ))}\n          </div>\n\n          {/* Desktop Table View */}\n          <div className=\"hidden md:block bg-[#111111] border border-[#1a1a1a] overflow-hidden\">\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full\">\n                <thead className=\"bg-[#0a0a0a] border-b border-[#1a1a1a]\">\n                  <tr>\n                    <th className=\"text-left px-4 py-3 text-xs uppercase tracking-wider text-[#888888] font-[family-name:var(--font-montserrat)]\">\n                      Order ID\n                    </th>\n                    <th className=\"text-left px-4 py-3 text-xs uppercase tracking-wider text-[#888888] font-[family-name:var(--font-montserrat)]\">\n                      Customer\n                    </th>\n                    <th className=\"text-left px-4 py-3 text-xs uppercase tracking-wider text-[#888888] font-[family-name:var(--font-montserrat)]\">\n                      Type\n                    </th>\n                    <th className=\"text-left px-4 py-3 text-xs uppercase tracking-wider text-[#888888] font-[family-name:var(--font-montserrat)]\">\n                      Amount\n                    </th>\n                    <th className=\"text-left px-4 py-3 text-xs uppercase tracking-wider text-[#888888] font-[family-name:var(--font-montserrat)]\">\n                      Status\n                    </th>\n                    <th className=\"text-left px-4 py-3 text-xs uppercase tracking-wider text-[#888888] font-[family-name:var(--font-montserrat)]\">\n                      Date\n                    </th>\n                    <th className=\"text-left px-4 py-3 text-xs uppercase tracking-wider text-[#888888] font-[family-name:var(--font-montserrat)]\">\n                      Due Date\n                    </th>\n                    <th className=\"text-left px-4 py-3 text-xs uppercase tracking-wider text-[#888888] font-[family-name:var(--font-montserrat)]\">\n                      Actions\n                    </th>\n                  </tr>\n                </thead>\n                <tbody className=\"divide-y divide-[#1a1a1a]\">\n                  {filteredOrders.map((order) => (\n                    <tr\n                      key={order.id}\n                      className=\"hover:bg-[#1a1a1a]/50 transition-colors\"\n                    >\n                      <td className=\"px-4 py-4 text-sm text-[#f5f5f5] font-[family-name:var(--font-montserrat)]\">\n                        #{order.id.slice(0, 8)}\n                      </td>\n                      <td className=\"px-4 py-4\">\n                        <div>\n                          <p className=\"text-sm text-[#f5f5f5] font-[family-name:var(--font-montserrat)]\">\n                            {order.userName || \"Unknown\"}\n                          </p>\n                          <p className=\"text-xs text-[#888888] font-[family-name:var(--font-montserrat)]\">\n                            {order.userPhone}\n                          </p>\n                        </div>\n                      </td>\n                      <td className=\"px-4 py-4 text-sm text-[#888888] font-[family-name:var(--font-montserrat)]\">\n                        {typeLabels[order.type]}\n                      </td>\n                      <td className=\"px-4 py-4 text-sm text-[#f5f5f5] font-[family-name:var(--font-montserrat)]\">\n                        {formatCurrency(order.pricing.totalAmount)}\n                      </td>\n                      <td className=\"px-4 py-4\">\n                        <span\n                          className={`px-2 py-1 text-xs border ${statusColors[order.status]} font-[family-name:var(--font-montserrat)]`}\n                        >\n                          {order.status}\n                        </span>\n                      </td>\n                      <td className=\"px-4 py-4 text-sm text-[#888888] font-[family-name:var(--font-montserrat)]\">\n                        {formatDate(order.createdAt)}\n                      </td>\n                      <td className=\"px-4 py-4 text-sm font-[family-name:var(--font-montserrat)]\">\n                        {order.dueDate ? (\n                          <span className={dueDateColors[getDueDateStatus(order.dueDate, order.status)]}>\n                            {formatDueDate(order.dueDate)}\n                            {getDueDateStatus(order.dueDate, order.status) === \"overdue\" && (\n                              <span className=\"ml-1 text-xs\">(Overdue)</span>\n                            )}\n                          </span>\n                        ) : (\n                          <span className=\"text-[#555555]\">—</span>\n                        )}\n                      </td>\n                      <td className=\"px-4 py-4\">\n                        <button\n                          onClick={() => handleOpenOrder(order)}\n                          className=\"text-[#c9a962] hover:text-[#d4b87a] text-sm font-[family-name:var(--font-montserrat)]\"\n                        >\n                          View\n                        </button>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </>\n      )}\n\n      {/* Order Detail Modal */}\n      {selectedOrder && selectedOrder.id && (\n        <div className=\"fixed inset-0 bg-black/80 z-50 flex items-end md:items-center justify-center md:p-4\">\n          <div className=\"bg-[#111111] border border-[#1a1a1a] w-full md:max-w-2xl max-h-[95vh] md:max-h-[90vh] overflow-y-auto rounded-t-xl md:rounded-none\">\n            <div className=\"sticky top-0 bg-[#111111] border-b border-[#1a1a1a] px-4 md:px-6 py-4 flex items-center justify-between\">\n              <h2 className=\"text-xl font-[family-name:var(--font-cormorant)] text-[#f5f5f5]\">\n                Order #{selectedOrder.id.slice(0, 8)}\n              </h2>\n              <button\n                onClick={() => setSelectedOrder(null)}\n                className=\"text-[#888888] hover:text-[#f5f5f5]\"\n              >\n                ✕\n              </button>\n            </div>\n\n            <div className=\"p-4 md:p-6 space-y-4 md:space-y-6\">\n              {/* Status Update */}\n              <div>\n                <label className=\"block text-sm text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]\">\n                  Status\n                </label>\n                <select\n                  value={selectedOrder.status}\n                  onChange={(e) =>\n                    updateOrderStatus(selectedOrder.id, e.target.value as OrderStatus)\n                  }\n                  className=\"w-full bg-[#0a0a0a] border border-[#2a2a2a] px-4 py-2 text-[#f5f5f5] font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none\"\n                >\n                  <option value=\"pending\">Pending</option>\n                  <option value=\"confirmed\">Confirmed</option>\n                  <option value=\"in-progress\">In Progress</option>\n                  <option value=\"ready\">Ready</option>\n                  <option value=\"delivered\">Delivered</option>\n                  <option value=\"cancelled\">Cancelled</option>\n                </select>\n              </div>\n\n              {/* Customer Info */}\n              <div className=\"bg-[#0a0a0a] p-4 border border-[#1a1a1a]\">\n                <h3 className=\"text-sm uppercase tracking-wider text-[#888888] mb-3 font-[family-name:var(--font-montserrat)]\">\n                  Customer\n                </h3>\n                <p className=\"text-[#f5f5f5] font-[family-name:var(--font-montserrat)]\">\n                  {selectedOrder.userName || \"Unknown\"}\n                </p>\n                <p className=\"text-sm text-[#888888] font-[family-name:var(--font-montserrat)]\">\n                  {selectedOrder.userPhone}\n                </p>\n              </div>\n\n              {/* Order Type & Due Date */}\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n                <div className=\"bg-[#0a0a0a] p-4 border border-[#1a1a1a]\">\n                  <h3 className=\"text-sm uppercase tracking-wider text-[#888888] mb-3 font-[family-name:var(--font-montserrat)]\">\n                    Order Type\n                  </h3>\n                  <p className=\"text-[#f5f5f5] font-[family-name:var(--font-montserrat)]\">\n                    {typeLabels[selectedOrder.type]}\n                  </p>\n                </div>\n\n                <div className=\"bg-[#0a0a0a] p-4 border border-[#1a1a1a]\">\n                  <h3 className=\"text-sm uppercase tracking-wider text-[#888888] mb-3 font-[family-name:var(--font-montserrat)]\">\n                    Due Date\n                  </h3>\n                  {selectedOrder.dueDate ? (\n                    <p className={`font-[family-name:var(--font-montserrat)] ${dueDateColors[getDueDateStatus(selectedOrder.dueDate, selectedOrder.status)]}`}>\n                      {formatDueDate(selectedOrder.dueDate)}\n                      {getDueDateStatus(selectedOrder.dueDate, selectedOrder.status) === \"overdue\" && (\n                        <span className=\"ml-2 text-xs bg-red-500/20 text-red-400 px-2 py-0.5 border border-red-500/50\">\n                          OVERDUE\n                        </span>\n                      )}\n                      {getDueDateStatus(selectedOrder.dueDate, selectedOrder.status) === \"urgent\" && (\n                        <span className=\"ml-2 text-xs bg-orange-500/20 text-orange-400 px-2 py-0.5 border border-orange-500/50\">\n                          DUE SOON\n                        </span>\n                      )}\n                    </p>\n                  ) : (\n                    <p className=\"text-[#555555] font-[family-name:var(--font-montserrat)]\">Not set</p>\n                  )}\n                </div>\n              </div>\n\n              {/* Items (for ready-to-wear) */}\n              {selectedOrder.items && selectedOrder.items.length > 0 && (\n                <div className=\"bg-[#0a0a0a] p-4 border border-[#1a1a1a]\">\n                  <h3 className=\"text-sm uppercase tracking-wider text-[#888888] mb-4 font-[family-name:var(--font-montserrat)]\">\n                    Items ({selectedOrder.items.reduce((sum, item) => sum + item.quantity, 0)} total)\n                  </h3>\n                  <div className=\"space-y-4\">\n                    {selectedOrder.items.map((item, idx) => (\n                      <div\n                        key={idx}\n                        className=\"flex gap-4 pb-4 border-b border-[#1a1a1a] last:border-b-0 last:pb-0\"\n                      >\n                        {/* Product Image - Larger and clickable */}\n                        {item.image ? (\n                          <button\n                            onClick={() => setViewingImage(item.image || null)}\n                            className=\"w-24 h-24 flex-shrink-0 bg-[#111111] border border-[#1a1a1a] overflow-hidden hover:border-[#c9a962] transition-colors group relative\"\n                          >\n                            <img\n                              src={item.image}\n                              alt={item.productName}\n                              className=\"w-full h-full object-cover\"\n                            />\n                            <div className=\"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center\">\n                              <svg className=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7\" />\n                              </svg>\n                            </div>\n                          </button>\n                        ) : (\n                          <div className=\"w-24 h-24 flex-shrink-0 bg-[#111111] border border-[#1a1a1a] flex items-center justify-center\">\n                            <svg className=\"w-10 h-10 text-[#2a2a2a]\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1} d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n                            </svg>\n                          </div>\n                        )}\n\n                        {/* Product Details */}\n                        <div className=\"flex-1 min-w-0\">\n                          <div className=\"flex items-start justify-between gap-2\">\n                            <p className=\"text-[#f5f5f5] font-[family-name:var(--font-montserrat)] text-sm\">\n                              {item.productName}\n                            </p>\n                            {item.sku && (\n                              <span className=\"text-[10px] text-[#c9a962] bg-[#c9a962]/10 px-2 py-0.5 font-[family-name:var(--font-montserrat)] whitespace-nowrap\">\n                                {item.sku}\n                              </span>\n                            )}\n                          </div>\n                          <div className=\"flex flex-wrap gap-x-4 gap-y-1 mt-2 text-sm text-[#888888] font-[family-name:var(--font-montserrat)]\">\n                            {item.size && (\n                              <span>Size: <span className=\"text-[#f5f5f5] font-medium\">{item.size}</span></span>\n                            )}\n                            <span>Qty: <span className=\"text-[#f5f5f5] font-medium\">{item.quantity}</span></span>\n                            <span>@ {formatCurrency(item.price)}</span>\n                          </div>\n                          <p className=\"text-[#c9a962] text-base mt-2 font-[family-name:var(--font-montserrat)] font-medium\">\n                            {formatCurrency(item.price * item.quantity)}\n                          </p>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {/* Service Details (for bespoke/sew-only) */}\n              {selectedOrder.serviceDetails && (\n                <div className=\"bg-[#0a0a0a] p-4 border border-[#1a1a1a]\">\n                  <h3 className=\"text-sm uppercase tracking-wider text-[#888888] mb-3 font-[family-name:var(--font-montserrat)]\">\n                    Service Details\n                  </h3>\n                  {selectedOrder.serviceDetails.styleDescription && (\n                    <p className=\"text-[#f5f5f5] text-sm mb-2 font-[family-name:var(--font-montserrat)]\">\n                      {selectedOrder.serviceDetails.styleDescription}\n                    </p>\n                  )}\n                  <div className=\"flex items-center gap-2 text-sm font-[family-name:var(--font-montserrat)]\">\n                    <span className=\"text-[#888888]\">Fabric:</span>\n                    <span className=\"text-[#f5f5f5]\">\n                      {selectedOrder.serviceDetails.fabricProvided\n                        ? \"Customer provided\"\n                        : \"Studio fabric\"}\n                    </span>\n                  </div>\n                </div>\n              )}\n\n              {/* Pricing */}\n              <div className=\"bg-[#0a0a0a] p-4 border border-[#1a1a1a]\">\n                <h3 className=\"text-sm uppercase tracking-wider text-[#888888] mb-3 font-[family-name:var(--font-montserrat)]\">\n                  Pricing\n                </h3>\n                <div className=\"space-y-2 text-sm font-[family-name:var(--font-montserrat)]\">\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-[#888888]\">Subtotal</span>\n                    <span className=\"text-[#f5f5f5]\">\n                      {formatCurrency(selectedOrder.pricing.subtotal)}\n                    </span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-[#888888]\">Delivery</span>\n                    <span className=\"text-[#f5f5f5]\">\n                      {formatCurrency(selectedOrder.pricing.deliveryFee)}\n                    </span>\n                  </div>\n                  {selectedOrder.pricing.discount && (\n                    <div className=\"flex justify-between text-green-400\">\n                      <span>Discount</span>\n                      <span>\n                        -\n                        {selectedOrder.pricing.discount.type === \"percentage\"\n                          ? `${selectedOrder.pricing.discount.value}%`\n                          : formatCurrency(selectedOrder.pricing.discount.value)}\n                      </span>\n                    </div>\n                  )}\n                  <div className=\"flex justify-between pt-2 border-t border-[#1a1a1a]\">\n                    <span className=\"text-[#f5f5f5] font-medium\">Total</span>\n                    <span className=\"text-[#c9a962]\">\n                      {formatCurrency(selectedOrder.pricing.totalAmount)}\n                    </span>\n                  </div>\n                </div>\n              </div>\n\n              {/* Payment Status */}\n              <div className=\"bg-[#0a0a0a] p-4 border border-[#1a1a1a]\">\n                <h3 className=\"text-sm uppercase tracking-wider text-[#888888] mb-3 font-[family-name:var(--font-montserrat)]\">\n                  Payment\n                </h3>\n                <div className=\"space-y-3 text-sm font-[family-name:var(--font-montserrat)]\">\n                  {selectedOrder.pricing.depositAmount !== undefined && selectedOrder.pricing.depositAmount > 0 && (\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <span className=\"text-[#888888]\">Deposit: </span>\n                        <span className=\"text-[#f5f5f5]\">\n                          {formatCurrency(selectedOrder.pricing.depositAmount)}\n                        </span>\n                      </div>\n                      {selectedOrder.pricing.depositPaid ? (\n                        <span className=\"text-green-400 text-xs\">\n                          Paid via {selectedOrder.pricing.depositMethod || \"online\"}\n                        </span>\n                      ) : (\n                        <button\n                          onClick={() => setShowPaymentModal(\"deposit\")}\n                          className=\"text-xs bg-[#c9a962] text-[#0a0a0a] px-3 py-1 hover:bg-[#d4b87a] transition-colors\"\n                        >\n                          Record Payment\n                        </button>\n                      )}\n                    </div>\n                  )}\n                  {selectedOrder.pricing.balanceAmount !== undefined && selectedOrder.pricing.balanceAmount > 0 && (\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <span className=\"text-[#888888]\">Balance: </span>\n                        <span className=\"text-[#f5f5f5]\">\n                          {formatCurrency(selectedOrder.pricing.balanceAmount)}\n                        </span>\n                      </div>\n                      {selectedOrder.pricing.balancePaid ? (\n                        <span className=\"text-green-400 text-xs\">\n                          Paid via {selectedOrder.pricing.balanceMethod || \"online\"}\n                        </span>\n                      ) : selectedOrder.pricing.depositPaid ? (\n                        <button\n                          onClick={() => setShowPaymentModal(\"balance\")}\n                          className=\"text-xs bg-[#c9a962] text-[#0a0a0a] px-3 py-1 hover:bg-[#d4b87a] transition-colors\"\n                        >\n                          Record Payment\n                        </button>\n                      ) : (\n                        <span className=\"text-yellow-400 text-xs\">\n                          Awaiting deposit\n                        </span>\n                      )}\n                    </div>\n                  )}\n                  {/* For orders without deposit/balance structure (full payment) */}\n                  {(selectedOrder.pricing.depositAmount === undefined || selectedOrder.pricing.depositAmount === 0) && (\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <span className=\"text-[#888888]\">Total: </span>\n                        <span className=\"text-[#f5f5f5]\">\n                          {formatCurrency(selectedOrder.pricing.totalAmount)}\n                        </span>\n                      </div>\n                      {selectedOrder.pricing.depositPaid ? (\n                        <span className=\"text-green-400 text-xs\">\n                          Paid via {selectedOrder.pricing.depositMethod || selectedOrder.paymentMethod}\n                        </span>\n                      ) : (\n                        <button\n                          onClick={() => setShowPaymentModal(\"deposit\")}\n                          className=\"text-xs bg-[#c9a962] text-[#0a0a0a] px-3 py-1 hover:bg-[#d4b87a] transition-colors\"\n                        >\n                          Record Payment\n                        </button>\n                      )}\n                    </div>\n                  )}\n                </div>\n\n                {/* Payment Recording Modal */}\n                {showPaymentModal && (\n                  <div className=\"mt-4 p-4 bg-[#111111] border border-[#2a2a2a]\">\n                    <h4 className=\"text-sm text-[#f5f5f5] mb-3 font-[family-name:var(--font-montserrat)]\">\n                      Record {showPaymentModal === \"deposit\" ? \"Deposit\" : \"Balance\"} Payment\n                    </h4>\n                    <p className=\"text-xs text-[#888888] mb-3 font-[family-name:var(--font-montserrat)]\">\n                      Amount:{\" \"}\n                      <span className=\"text-[#c9a962]\">\n                        {formatCurrency(\n                          showPaymentModal === \"deposit\"\n                            ? selectedOrder.pricing.depositAmount || selectedOrder.pricing.totalAmount\n                            : selectedOrder.pricing.balanceAmount || 0\n                        )}\n                      </span>\n                    </p>\n                    <div className=\"space-y-3\">\n                      <div>\n                        <label className=\"block text-xs text-[#888888] mb-2 font-[family-name:var(--font-montserrat)]\">\n                          Payment Method\n                        </label>\n                        <div className=\"flex gap-3\">\n                          <label className={`flex-1 flex items-center justify-center gap-2 p-2 border cursor-pointer transition-colors ${\n                            paymentMethod === \"cash\"\n                              ? \"border-[#c9a962] bg-[#c9a962]/10\"\n                              : \"border-[#2a2a2a] hover:border-[#3a3a3a]\"\n                          }`}>\n                            <input\n                              type=\"radio\"\n                              name=\"paymentMethod\"\n                              checked={paymentMethod === \"cash\"}\n                              onChange={() => setPaymentMethod(\"cash\")}\n                              className=\"hidden\"\n                            />\n                            <span className=\"text-sm text-[#f5f5f5]\">Cash</span>\n                          </label>\n                          <label className={`flex-1 flex items-center justify-center gap-2 p-2 border cursor-pointer transition-colors ${\n                            paymentMethod === \"transfer\"\n                              ? \"border-[#c9a962] bg-[#c9a962]/10\"\n                              : \"border-[#2a2a2a] hover:border-[#3a3a3a]\"\n                          }`}>\n                            <input\n                              type=\"radio\"\n                              name=\"paymentMethod\"\n                              checked={paymentMethod === \"transfer\"}\n                              onChange={() => setPaymentMethod(\"transfer\")}\n                              className=\"hidden\"\n                            />\n                            <span className=\"text-sm text-[#f5f5f5]\">Transfer</span>\n                          </label>\n                        </div>\n                      </div>\n                      <div className=\"flex gap-2\">\n                        <button\n                          onClick={() => setShowPaymentModal(null)}\n                          className=\"flex-1 border border-[#2a2a2a] text-[#888888] py-2 text-sm font-[family-name:var(--font-montserrat)] hover:border-[#3a3a3a] hover:text-[#f5f5f5] transition-colors\"\n                        >\n                          Cancel\n                        </button>\n                        <button\n                          onClick={() => recordPayment(showPaymentModal)}\n                          disabled={recordingPayment}\n                          className=\"flex-1 bg-[#c9a962] text-[#0a0a0a] py-2 text-sm font-[family-name:var(--font-montserrat)] hover:bg-[#d4b87a] transition-colors disabled:opacity-50\"\n                        >\n                          {recordingPayment ? \"Recording...\" : \"Confirm Payment\"}\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                )}\n              </div>\n\n              {/* Delivery */}\n              <div className=\"bg-[#0a0a0a] p-4 border border-[#1a1a1a]\">\n                <h3 className=\"text-sm uppercase tracking-wider text-[#888888] mb-3 font-[family-name:var(--font-montserrat)]\">\n                  Delivery\n                </h3>\n                <p className=\"text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)] capitalize\">\n                  {selectedOrder.deliveryMethod}\n                </p>\n                {selectedOrder.deliveryAddress && (\n                  <p className=\"text-[#888888] text-sm mt-1 font-[family-name:var(--font-montserrat)]\">\n                    {selectedOrder.deliveryAddress.street},{\" \"}\n                    {selectedOrder.deliveryAddress.city},{\" \"}\n                    {selectedOrder.deliveryAddress.state}\n                  </p>\n                )}\n              </div>\n\n              {/* Customer Notes (read-only) */}\n              {selectedOrder.notes && (\n                <div className=\"bg-[#0a0a0a] p-4 border border-[#1a1a1a]\">\n                  <h3 className=\"text-sm uppercase tracking-wider text-[#888888] mb-3 font-[family-name:var(--font-montserrat)]\">\n                    Customer Notes\n                  </h3>\n                  <p className=\"text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)]\">\n                    {selectedOrder.notes}\n                  </p>\n                </div>\n              )}\n\n              {/* Admin Notes (editable) */}\n              <div className=\"bg-[#0a0a0a] p-4 border border-[#1a1a1a]\">\n                <h3 className=\"text-sm uppercase tracking-wider text-[#888888] mb-3 font-[family-name:var(--font-montserrat)]\">\n                  Admin Notes\n                </h3>\n                <textarea\n                  value={adminNotes}\n                  onChange={(e) => setAdminNotes(e.target.value)}\n                  placeholder=\"Add internal notes about this order...\"\n                  rows={3}\n                  className=\"w-full bg-[#111111] border border-[#2a2a2a] px-4 py-3 text-[#f5f5f5] text-sm font-[family-name:var(--font-montserrat)] focus:border-[#c9a962] focus:outline-none resize-none\"\n                />\n                <button\n                  onClick={saveAdminNotes}\n                  disabled={savingNotes || adminNotes === (selectedOrder.adminNotes || \"\")}\n                  className=\"mt-3 bg-[#c9a962] text-[#0a0a0a] px-4 py-2 text-sm font-[family-name:var(--font-montserrat)] hover:bg-[#d4b87a] transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  {savingNotes ? \"Saving...\" : \"Save Notes\"}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Image Lightbox */}\n      {viewingImage && (\n        <div\n          className=\"fixed inset-0 bg-black/90 z-[60] flex items-center justify-center p-4\"\n          onClick={() => setViewingImage(null)}\n        >\n          <button\n            onClick={() => setViewingImage(null)}\n            className=\"absolute top-4 right-4 text-white/80 hover:text-white transition-colors\"\n          >\n            <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          </button>\n          <img\n            src={viewingImage}\n            alt=\"Product\"\n            className=\"max-w-full max-h-[85vh] object-contain\"\n            onClick={(e) => e.stopPropagation()}\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}